{"version":3,"sources":["components/Forms/Forms.module.scss","components/Tooltip/Tooltip.module.scss","views/Brew/FormHandler/FormHandler.module.scss","views/Brew/BrewComponents/BrewHistoryList.module.scss","components/Snackbar/Snackbar.module.scss","components/Card/Card.module.scss","components/ListItem/ListItem.module.scss","components/ActivityPanel/Activity/Activity.module.scss","components/Info/Info.module.scss","views/404/NoMatch.module.scss","views/Brews/Brews.module.scss","views/LoginSignup/LoginSignup.module.scss","views/Home/Home.module.scss","components/Avatar/Avatar.module.scss","components/List/List.module.scss","components/Loader/Loader.module.scss","views/Brew/BrewComponents/BrewHistoryNav.module.scss","views/Dashborad/Dashboard.module.scss","views/Calculators/Calculators.module.scss","views/Profile/Profile.module.scss","components/Select/Select.module.scss","resources/images/beerforge_logo.svg","components/Avatar/Avatar.tsx","components/Tooltip/Tooltip.tsx","store/UserContext.tsx","components/Header/Header.tsx","store/ModalContext.tsx","components/Footer/Footer.tsx","components/Fade/Fade.tsx","resources/images/calculators.svg","resources/images/coins.svg","components/Card/Card.tsx","views/Dashborad/UserInfo/UserInfo.tsx","components/List/List.tsx","components/ListItem/ListItem.tsx","components/FormattedDate/FormattedDate.tsx","resources/javascript/srmToRgb.js","components/ActivityPanel/Activity/Activity.tsx","components/ActivityPanel/ActivityPanel.tsx","components/Loader/Loader.tsx","resources/javascript/scrollToTop.js","store/SnackbarContext.tsx","views/Dashborad/Dashboard.tsx","resources/javascript/googleSvg.js","views/LoginSignup/LoginSignup.tsx","resources/images/info.svg","components/Info/Info.tsx","resources/javascript/calculator.js","components/Select/SelectOption.tsx","components/Select/Select.tsx","resources/javascript/constants.js","components/Forms/BrewSettingsForm.tsx","resources/javascript/penSvg.js","components/Forms/AddFermentableForm.tsx","store/PopupContext.tsx","resources/javascript/functions.ts","components/Forms/AddHopForm.tsx","components/Forms/AddYeastForm.tsx","components/Forms/AddAdjunctForm.tsx","components/Forms/MashForm.tsx","components/Forms/BoilForm.tsx","components/Forms/FermentationForm.tsx","components/Forms/PackagingForm.tsx","components/Textarea/Textarea.tsx","components/Forms/NotesForm.tsx","resources/javascript/usePreviousHook.js","components/Forms/TagsForm.tsx","store/BrewContextUtils.ts","store/BrewContext.tsx","views/Brew/FormHandler/FormHandler.tsx","resources/javascript/isEmpty.js","store/BrewService.tsx","views/Brew/BrewUtils.ts","views/Brew/BrewComponents/BrewEditableField.tsx","views/Brew/BrewComponents/BrewSettingsAndStats.tsx","views/Brew/BrewComponents/BrewFermentables.tsx","views/Brew/BrewComponents/BrewHops.tsx","views/Brew/BrewComponents/BrewAdjuncts.tsx","views/Brew/BrewComponents/BrewYeast.tsx","views/Brew/BrewComponents/BrewMash.tsx","views/Brew/BrewComponents/BrewBoil.tsx","views/Brew/BrewComponents/BrewFermentation.tsx","views/Brew/BrewComponents/BrewPackaging.tsx","views/Brew/BrewComponents/BrewNotes.tsx","resources/images/history-first.svg","resources/images/history-last.svg","resources/images/history-current.svg","resources/images/history-next.svg","resources/images/history-prev.svg","views/Brew/BrewComponents/BrewHistoryNav.tsx","views/Brew/BrewComponents/BrewHistoryList.tsx","resources/images/clone.svg","resources/images/history.svg","resources/images/searchDarker.svg","views/Brew/Brew.tsx","components/Modal/Modal.tsx","views/Profile/Profile.tsx","views/Brews/SortMenu.tsx","views/Brews/Brews.tsx","views/Calculators/Calculators/total-water.tsx","views/Calculators/Calculators/strike-volume.tsx","views/Calculators/Calculators/strike-temperature.tsx","views/Calculators/Calculators/sparge-volume.tsx","views/Calculators/Calculators/evap-percent.tsx","views/Calculators/Calculators/pre-boil-volume.tsx","views/Calculators/Calculators/og.tsx","views/Calculators/Calculators/pre-boil-gravity.tsx","views/Calculators/Calculators/yeast-target.tsx","views/Calculators/Calculators/yeast-rate.tsx","views/Calculators/Calculators/fg.tsx","views/Calculators/Calculators/alcohol-content.tsx","views/Calculators/Calculators/apparent-attenuation.tsx","views/Calculators/Calculators/ibu.tsx","views/Calculators/Calculators/srm.tsx","views/Calculators/Calculators/co2.tsx","views/Calculators/Calculators/mash-infusion.tsx","views/Calculators/Calculators/mash-efficiency.tsx","views/Calculators/Calculators.tsx","views/404/NoMatch.tsx","views/PrivateRoute.tsx","resources/images/beerforge_logo_white.svg","resources/images/dashboard.png","resources/images/rotate.svg","resources/images/new_brew.png","resources/images/mobile_brew.png","resources/javascript/bubbles.js","views/Home/Home.tsx","components/Snackbar/Snackbar.tsx","components/Feedback/Feedback.tsx","components/IngredientPopup/IngredientGraph.tsx","components/IngredientPopup/IngredientPopup.tsx","App.tsx","serviceWorker.js","index.tsx","components/Footer/Footer.module.scss","components/Header/Header.module.scss","views/Brew/Brew.module.scss","components/IngredientPopup/IngredientPopup.module.scss","views/Dashborad/UserInfo/UserInfo.module.scss","views/Brew/BrewComponents/BrewComponents.module.scss","components/Fade/Fade.module.scss","components/ActivityPanel/ActivityPanel.module.scss","components/Modal/Modal.module.scss","components/Feedback/Feedback.module.scss"],"names":["module","exports","colors","Avatar","image","user","mask","id","schema","icon_schema","index","colorScheme","width","height","viewBox","fill","xmlns","opacity","mask-type","maskUnits","x","y","cx","cy","r","d","x1","y1","x2","y2","gradientUnits","stopColor","offset","className","styles","avatar","Tooltip","show","children","placement","onClose","useState","closing","setClosing","tooltipRef","React","createRef","useEffect","current","focus","closeTimeout","setTimeout","clearTimeout","tooltip","close","ref","tabIndex","onBlur","ls","key","jsonData","expirationMin","expirationMS","record","value","JSON","stringify","timestamp","Date","getTime","localStorage","setItem","parse","getItem","removeItem","initialState","UserContext","createContext","reducer","state","action","type","payload","storage","Error","useUser","useContext","UserProvider","contextValue","useReducer","Provider","withRouter","history","userDispatch","showTooltip","setTooltip","header","to","logoLink","src","logoImage","alt","window","location","pathname","loginLink","title","username","header__user","onClick","userMenu","userMenu__header","userMenu__buttons","e","push","ModalContext","body","node","buttons","classOverride","useModal","ModalProvider","year","getFullYear","Footer","modalDispatch","footer","href","target","rel","link","sm","instagram","twitter","facebook","modalClass","Fade","props","background","oldBackground","transitioned","this","replace","split","setClasses","prevProps","oldLocation","setState","fade","Component","Card","color","customClass","customStyle","card","style","UserInfo","brewsNum","avatarContainer","infoContainer","infoContainer__header","first_name","last_name","infoContainer__stats","List","list","ListItem","clicked","label","data","listItem","aria-label","data-custom","getFormattedDate","date","month","getMonth","slice","day","getDate","FormattedDate","getSrmToRgb","srm","Math","round","min","max","pow","g","b","Activity","brews","separator","length","map","element","i","backgroundColor","undefined","onMouseEnter","onMouseLeave","today","ActivityPanel","ActivityPanel__container","weeks","names","weekDate","dateOfWeeksAgo","forEach","brew","date1","date2","date_brewed","name","reverse","createActivity","Loader","stroke","loader","fillRule","transform","strokeWidth","strokeOpacity","attributeName","begin","dur","values","calcMode","repeatCount","scrollToTop","scrollDuration","cosParameter","scrollY","scrollCount","oldTimestamp","performance","now","requestAnimationFrame","step","newTimestamp","PI","scrollTo","cos","SnackbarContext","message","status","useSnackbar","SnackbarProvider","form","formWrapper","paypalexpress","allowpaymentrequest","frameBorder","scrolling","seamless","Dashboard","brewLogPage","setBrewLogPage","snackbarDispatch","numToShow","brewLog","setBrewLog","brewActivity","setBrewActivity","setBrewsNum","loading","setLoading","currentUser","setCurrentUser","userViewing","setUserViewing","isMounted","useRef","authHeaders","token","document","userId","Number","isNaN","listUserBrews","getUser","a","axios","get","process","headers","then","result","allBrews","filter","is_draft","catch","error","togglePage","page","event","brewLogItems","brewLog__item","brewId","pill","noBrews","dashboard","topRow","ReactGA","category","leftColumn","dashboard__label","brewLogLoader","brewLog__footer","rightColumn","activityLoader","flex","cardLink","dashboard__header","calcImage","stopPropagation","donate","coinsImage","google","version","filterUnits","dx","dy","in","stdDeviation","rx","LoginSignup","setUsername","password","setPassword","password1","setPassword1","password2","setPassword2","email","setEmail","newUsername","setNewUsername","flip","setFlip","setError","saving","setSaving","forgotPassword","setForgotPassword","forgotUsername","setForgotUsername","code","URLSearchParams","search","googleLogin","authenticationUrl","clientID","redirectURL","encodeURIComponent","logInOrSignUpUser","url","post","response","handlePassReset","preventDefault","request","success","flipStyles","direction","loginSignup","container","logInPanel","loginSignup__header","onSubmit","loginSignup__label","onChange","required","autoComplete","loginSignup__buttons","loginSignupButton","savingLoader","googleButton","forgotButton","signUpPanel","forgotPanel","disabled","Info","alignment","info","infoImage","convertToGravityUnits","parseFloat","toFixed","convertToGravityPoints","gravity","convertToPlato","SG","calculateRealExtract","OE","AE","oz2kg","number","oz2g","g2oz","gal2l","l2gal","qt2l","l2qt","lb2kg","kg2lb","f2c","c2f","tanh","exp","totalFermentableWeight","malts","reduce","accumulator","currentValue","weight","totalWater","batchSize","boilTime","boilOff","grainWeight","options","trubLoss","equipmentLoss","absorptionRate","totalBIABWater","hopWeight","hopAbsorptionRate","strikeVolume","ratio","sVol","strikeTemp","grainTemp","targetTemp","factor","Tw","parseInt","infusionWaterVol","initailTemp","grainVol","totalMashVol","infusionWaterTemp","one","two","spargeVolume","mashVolume","evaporationPercent","preBoil","postBoil","boilTimeCorrction","mashEfficiency","volume","extraction","malt","potential","preBoilG","OG","totalWaterVol","batchType","PBVol","preBoilVol","PreBoilG","loss","partialMashTopOff","preBoilVolume","fermentableUnits","totalPoints","calculatedWeight","targetPitchingRate","vol","targetRate","rate","toPrecision","pitchingRate","cellCount","amount","dateBrewed","viableCells","dateManufactured","daysElapsed","floor","liquidCells","FG","attenuation","alcoholContent","RE","ABW","ABV","getWhirlpoolUtilization","hop","use","T","whirlpoolTemp","whirlpoolUtilization","IBU","hops","multiplier","lengthInBoil","days","utilizationFactor","utilization","E","alphaAcid","adjustment","SRM","units","MCU","Infinity","lovibond","CO2","temp","beerVol","X","dissolvedCO2","log","toString","SelectOption","option","selected","focused","onSelect","onHover","handleKeyPress","addEventListener","removeEventListener","role","aria-selected","onMouseOver","onMouseOut","Select","placeholder","optionHoverEffect","optionBlurEffect","dropdownClosed","useSearch","open","setOpen","hasFocus","setHasFocus","isSearching","setIsSearching","focusedIndex","setFocusedIndex","searchTerm","setSearchTerm","optionsLength","setOptionsLength","selectRef","selectOptionsRef","searchInputRef","moveFocusUp","useCallback","moveFocusDown","handleHover","focusedNode","includes","currentTarget","delay","newEvent","handleClick","targetIsSvg","nodeName","some","string","contains","resetFocus","handleKeyDown","searchAndFiltersHeight","topOfScrollableElement","scrollTop","bottomOfScrollableElement","offsetHeight","focusedOption","offsetTop","filteredOptions","optionText","toLowerCase","handleSelect","currentlySelectedOption","find","selectContainer","onFocus","selectDropdown","aria-expanded","searchAndFilters","selectSearch","closeButton","selectOptions","UNITS","ADJUNCT_TYPES","ADJUNCT_USE","HOP_USE","PITCHING_RATES","INGREDIENTS_GRAPH_COLORS","finishing","bittering","dualPurpose","base","caramelCrystal","adjunctGrains","kilnedToasted","roasted","sugars","BrewSettingsForm","formData","setFormData","dataChanged","hours","getHours","minutes","getMinutes","dataUpdated","mash_efficiency","defaultValue","row","fullButton","delete","isDraft","pen","console","AddFermentableForm","fermentables","setFermentables","projectedTotalSRM","setProjectedTotalSRM","og","projectedOG","setProjectedOG","editOG","setEditOG","targetOG","setTargetOG","inputRef","dataToSet","fermentablesArray","editingData","splice","fermentablesToCalculate","pointsNeeded","weightNeeded","fermentable","fermentableWeight","brewsMalts","custom","lastIndex","listAllFermentables","choice","editOGInput","inline","onKeyDown","gridOption3Col","yellow","origin","unused","extra","alignRight","edit","PopupContext","dispatch","ingredient","coords","usePopup","PopupProvider","getAdjunctById","adjunct","getAverageAA","minAA","maxAA","AddHopForm","popupDispatch","setHops","ibu","projectedTotalIBU","setProjectedTotalIBU","timeout","listAllHops","hopsArray","hopsToCalculate","boilLength","mashLength","mash","stepLength","ibus","ibu_formula","alpha_min","alpha_max","hoveredHopId","optionCoords","getBoundingClientRect","hoveredHop","description","details","graph","attributes","tropical_fruit","flavor_profile","citrus","floral","herbal","piney_resinous","grassy","spicy","vegital","rowThirds","AddYeastForm","yeast","setYeast","field","item","manufacturer","cell_count","averageAttenuation","average_attenuation","viableCellCount","mfgDate","yeastArray","listAllYeast","gridOption2Col","pitchCellCount","calculateViableCells","targetPitchingCellCount","AddAdjunctsForm","adjuncts","setAdjuncts","adjunctsArray","listAllAdjuncts","unit","time","MashForm","kettleSize","stepsArray","newData","targetStepTemp","spargeTemp","setFormDataSwitch","kettle_size","waterToGrain","boil_temp","currentMashTemp","BoilForm","evaporationRate","evap_rate","FermentationForm","stageTemp","stageLength","stageName","fermentationArray","fermentation","PackagingForm","packagingType","carbonationMethod","CO2VolumeTarget","beerTemp","Textarea","textInput","resizeTextArea","scrollHeight","valueUpdated","NotesForm","notes","usePrevious","TagsForm","tags","setTags","prevTags","removeTag","tag","tagData","tagDeleted","tagWrapper","compareWeight","weightA","weightB","comparison","compareAmount","amountA","amountB","compareStep","typeA","typeB","compareTime","lengthA","lengthB","byUse","usesOrderArray","indexOf","BrewContext","sortBrew","sort","processBrew","totalWeight","totalPercent","totalFermentables","totalFermentablesPercent","Calculator","nonExtractFermentablesArray","extract","totalGrainFermentables","strike","totalHops","totalIbu","ibuFormula","strikeFactor","waterVol","totalInfusionWaterVol","totalCellCount","totalMashVolume","topOff","attenuationAdditions","fg","amountForCO2","clonedState","parent","rebrewState","useBrew","BrewProvider","FormHandler","component","submitText","nextForm","closeSidebar","updateBrew","deleteBrew","brewdayResults","optionData","setOptionData","saveData","setData","handleNext","dupeHops","editingIndex","openModal","editSimilarHops","yesText","noText","yesCallback","noCallback","AddAdjunctForm","formContainer","sideBarClose","formContainer__footer","editingArray","isEmpty","obj","hasOwnProperty","saveBrew","processedBrew","cloneDeep","put","getBrew","getBrewResults","updateBrewResults","recipe","parseStringValues","charAt","toUpperCase","transformNotes","__html","BrewEditableField","fieldName","editValue","classes","editing","setEditing","noInputLabel","calculate","setShowTooltip","showInput","setShowInput","closeEditMenu","componentStyles","editResultsMenu","moreButton","divider","editInput","autoFocus","onKeyPress","BrewSettingsAndStats","newBrew","readOnly","unitLabels","openSideBar","clone","brewdayResultsToggle","applyEdit","originalBrew","showSwatch","setShowSwatch","array","editedBrew","change","utilityProps","new","res","draft","view","brew__numbers","brew__numbersMenu","brew__numbersList","originalValue","brew__menu","brew__stats","brew__stat","editInputCenter","editInputLarge","bottomSpacing","srmSwatch","BrewFermentables","containerRef","handleClickOutside","keyCode","getFermentableWeight","weightUpdated","handleEditToggle","brew__header","largeWeight","editButton","brew__ingredients","ingredientListItem","firstCol","editable","amountEditor","secondCol","thirdCol","fourthCol","BrewHops","getHopWeight","smallWeight","fifthCol","sixthCol","textTransform","BrewAdjuncts","BrewYeast","BrewMash","brew__section","originalStep","mash_step","mash_label","section__values","calculateRatio","smallVol","BrewBoil","withStats","section__stats","editInputMedium","arrow","BrewFermentation","stage","originalStage","fermentation_stage","first","fermentation_label","BrewPackaging","BrewNotes","brew__notes","dangerouslySetInnerHTML","tagsWrapper","tagsButton","BrewHistoryNav","historyLength","currentPage","pageClicked","historyNav","prev","next","last","BrewHistoryList","itemClicked","historyItem","listStyles","notCurrent","evenMargin","Brew","brewDispatch","setNewBrew","setReadOnly","setBrewdayResults","sideBarOpen","setSideBarOpen","topSpacing","setTopSpacing","setForm","setEditingData","savingDraft","setSavingDraft","shouldBlock","setShouldBlock","cloning","setCloning","currentPageIndex","setCurrentPageIndex","changeBrew","setChangeBrew","showBrewHistory","setShowBrewHistory","setOriginalBrew","deleted","setDeleted","brewContainer","top","marginTop","prevBrew","userSettings","strike_adjustment","kettle","evapRate","trub_loss","equipment_loss","absorption_rate","hop_absorption_rate","handleScroll","passive","copiedBrew","getBrewdayResults","findIndex","sideBarMode","getComputedStyle","position","openModalForm","onbeforeunload","callback","brewService","showBasicError","brewdayBrew","handleUpdateBrew","handleDeleteBrew","mobileFormHandler","rect","DOMRect","formOrder","handleHistoryNavClicked","localName","handleSaveBrew","statusText","updateSuccess","updatedBrew","Object","entries","constructor","checkShouldBlock","func","searchImg","modalImageSmaller","promise","triggerBrewdayResults","cookie","resultsImg","modalImage","future","setDate","commonProps","fadeOut","when","mainContent","brew__pageHeading","titleToggle","brew__pageSubHeading","userLink","subHeading","brewdayResultsLabel","pageHeading__items","staticContext","cloneImg","buttonContainer","saveButton","sideBar","formsContainer","Modal","modalRef","modal","modalOverlay","onMouseDown","modalButtons","Profile","fileInput","firstName","setFirstName","lastName","setLastName","edited","boilTemp","settings","setSettings","file","setFile","uploading","setUploading","handleChangeSettings","debounce","updateUser","icon","deleteUser","uploadBrews","files","FormData","append","profile","profilePic","date_joined","formStyles","updateButton","htmlFor","rowOneThird","accept","uploadButton","SortMenu","dateSort","setDateSort","displaySort","setDisplaySort","setNumToShow","sortMenu","sortMenu__column","checked","countInput","Brews","setSearch","setBrews","brewsCount","setBrewsCount","setPage","showSort","setShowSort","placeholderClass","setPlaceholderClass","logHeader","headerClass","getUserAndBrews","params","num","count","exportBrew","responseType","downloadUrl","URL","createObjectURL","Blob","createElement","setAttribute","appendChild","click","remove","fixedHeader","openMoreMenu","pagination","Array","from","ceil","allBrews__header","topRow__container","sortButton","sortMenuContainer","brewLogHeader","nameCol","allBrews__list","child","abvCol","abv","ibuCol","srmCol","dateCol","moreMenuWrapper","kebab","closeMoreMenu","moreMenu","brewLInk","textAlign","brewLogPages","TotalWater","setUnits","setBatchSize","setGrainWeight","setBoilTime","setBoilOff","calculator","labels","isFinite","results","StrikeVolume","setRatio","setWeight","StrikeTemperature","temp1","settTmp1","temp2","setTemp2","setFactor","SpargeVolume","totalVol","settotalVol","mashVol","setMashVol","EvaporationPercent","postBoilV","setPostBoilV","preBoilV","setPreBoilV","PreBoilVolume","setBatchType","setTotalWaterVol","OriginalGravity","setPotential","efficiency","setEfficiency","setVolume","PreBoilGravity","setOg","setGrainVol","YeastTargetPitchingRate","setTarget","YeastPitchingRate","setType","setNumber","cells","setCells","FinalGravity","setAttenuation","AlcoholContent","setFg","formula","setFormula","alc","ABVResults","ApparentAttenuation","atten","attenuationResults","aa","setVol","addHop","rowQuad","interiorRow","interiorRow2","setMalts","addMalt","maltsArray","display","marginRight","borderRadius","border","setTemp","setBeerVol","co2Vol","setCo2Vol","method","setMethod","MashInfusion","setTargetTemp","setInitailTemp","setTotalMashVol","setInfusionWaterTemp","MashEfficiency","setGravity","Calculators","filtered","terms","term","calculators","calculators__header","controls","calculators__container","noResults","NoMatch","noMatch","PrivateRoute","rest","path","exact","render","Fragment","sketch","Sketch","create","autopause","fullscreen","clientWidth","particles","strokeStyle","globalCompositeOperation","Particle","random","innerWidth","innerHeight","vx","vy","radius","baseRadius","maxRadius","threshold","hue","prototype","update","beginPath","arc","closePath","fillStyle","z","clear","clearRect","draw","Home","setCalculator","transition","setTransition","featuresRef","calculatorArray","start","updateDimensions","stop","querySelector","canvas","gl","getContext","viewport","displayWidth","home","introText","featuresLink","scroll","left","behavior","topAngle","phone","mobileBrewImage","browser","dashboardImage","features","featuresText","cta","rotateBtn","handleRotateClick","oldNum","rotate","calcStyles","cardOverride","out","featuresAngle","finalCta","bottomLogo","whiteLogoImage","screenshot","newBrewImage","bottomAngle","Snackbar","snackbar","FeedbackModal","sender","setSender","setMessage","messageError","setMessageError","handleSubmit","Feedback","feedback","FlavorGraph","graphData","keys","words","substr","attribute","join","accumulatorIndex","indexBy","maxValue","margin","right","bottom","curve","borderWidth","gridLevels","gridShape","gridLabelOffset","enableDots","enableDotLabel","barData","getInsightBarColorCode","fillOpacity","animate","isInteractive","theme","textColor","fontFamily","grid","line","IngredientPopup","popup","hovering","setHovering","popupRef","ingredientPopup","ingredientName","ingredientDetails","detail","initialize","listen","set","pageview","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.58f60c68.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Forms_row___d1ln\",\"rowThirds\":\"Forms_rowThirds__28GBD\",\"rowOneThird\":\"Forms_rowOneThird__3VnWk\",\"extra\":\"Forms_extra__2fbhb\",\"alignRight\":\"Forms_alignRight__3ITjo\",\"inline\":\"Forms_inline__3ykBX\",\"edit\":\"Forms_edit__18ql7\",\"lock\":\"Forms_lock__lD2pD\",\"unlock\":\"Forms_unlock__10R_z\",\"fullButton\":\"Forms_fullButton__3mefF\",\"unused\":\"Forms_unused__1RPJY\",\"tagWrapper\":\"Forms_tagWrapper__3A4GM\",\"info\":\"Forms_info__3Wi-o\",\"gridOption2Col\":\"Forms_gridOption2Col__2tDYL\",\"gridOption3Col\":\"Forms_gridOption3Col__18wpO\",\"category\":\"Forms_category__30dHa\",\"yellow\":\"Forms_yellow__1KvwD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"Tooltip_tooltip__1K7qB\",\"fadeIn\":\"Tooltip_fadeIn__3cIS_\",\"close\":\"Tooltip_close__3RqWM\",\"fadeOut\":\"Tooltip_fadeOut__3cROp\",\"right\":\"Tooltip_right__xTYqq\",\"bottom\":\"Tooltip_bottom__36usu\",\"bottom-right\":\"Tooltip_bottom-right__3Ijt8\",\"bottom-center\":\"Tooltip_bottom-center__1p2-b\",\"top\":\"Tooltip_top__3MlaK\",\"top-right\":\"Tooltip_top-right__3FadV\",\"top-left\":\"Tooltip_top-left__2hgIp\",\"top-center\":\"Tooltip_top-center__lqa3v\",\"left-center\":\"Tooltip_left-center__20BSp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"FormHandler_formContainer__bDgGr\",\"sideBarClose\":\"FormHandler_sideBarClose__26SMt\",\"formContainer__footer\":\"FormHandler_formContainer__footer__2krYH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"evenMargin\":\"BrewHistoryList_evenMargin__2vXiw\",\"current\":\"BrewHistoryList_current__3MbzB\",\"notCurrent\":\"BrewHistoryList_notCurrent__2LuYD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"snackbar\":\"Snackbar_snackbar__1-2gT\",\"fadeIn\":\"Snackbar_fadeIn__1qb0n\",\"close\":\"Snackbar_close__3Vp_F\",\"fadeOut\":\"Snackbar_fadeOut__1zTeg\",\"success\":\"Snackbar_success__yN79T\",\"error\":\"Snackbar_error__2a-E5\",\"warning\":\"Snackbar_warning__2hBSU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__35wN0\",\"dashboard\":\"Card_dashboard__l3Rpp\",\"brew\":\"Card_brew__13jDo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"ListItem_listItem__yhvKp\",\"dashboard\":\"ListItem_dashboard__rdGxF\",\"brew\":\"ListItem_brew__2sQFA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Activity\":\"Activity_Activity__nIXZ3\",\"active\":\"Activity_active__1-s1f\",\"tooltip\":\"Activity_tooltip__2F8L5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Info_container__264dM\",\"info\":\"Info_info__1xth-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noMatch\":\"NoMatch_noMatch__15BwB\",\"header\":\"NoMatch_header__3wmtR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allBrews\":\"Brews_allBrews__27geU\",\"topRow\":\"Brews_topRow__1_w8Y\",\"topRow__container\":\"Brews_topRow__container__KjUMM\",\"search\":\"Brews_search__2NnIT\",\"sortButton\":\"Brews_sortButton__1zMz0\",\"sortMenuContainer\":\"Brews_sortMenuContainer__6ELBM\",\"open\":\"Brews_open__aB71C\",\"sortMenu\":\"Brews_sortMenu__3MCFH\",\"sortMenu__column\":\"Brews_sortMenu__column__MplmF\",\"filterInput\":\"Brews_filterInput__2maKF\",\"countInput\":\"Brews_countInput___hd7a\",\"allBrews__header\":\"Brews_allBrews__header__2C1Xu\",\"brewLogHeader\":\"Brews_brewLogHeader__1S1tv\",\"nameCol\":\"Brews_nameCol__3ZTRG\",\"fixedHeader\":\"Brews_fixedHeader__zL8SB\",\"brewLog\":\"Brews_brewLog__1dTX1\",\"brewLog__item\":\"Brews_brewLog__item__13g99\",\"child\":\"Brews_child__Ta9wS\",\"pill\":\"Brews_pill__Z9vqn\",\"abvCol\":\"Brews_abvCol__ViB-Y\",\"ibuCol\":\"Brews_ibuCol__2k8Pn\",\"srmCol\":\"Brews_srmCol__14r-T\",\"dateCol\":\"Brews_dateCol__tjThi\",\"srmSwatch\":\"Brews_srmSwatch__v_m1p\",\"brewLogPages\":\"Brews_brewLogPages__V8GD0\",\"loader\":\"Brews_loader__2-P-S\",\"brewLInk\":\"Brews_brewLInk__o4LAf\",\"moreMenuWrapper\":\"Brews_moreMenuWrapper__36rAw\",\"kebab\":\"Brews_kebab__1zdA3\",\"moreMenu\":\"Brews_moreMenu__2GGaf\",\"moreButton\":\"Brews_moreButton__1swt4\",\"divider\":\"Brews_divider__2-ErF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginSignup\":\"LoginSignup_loginSignup__3NaHI\",\"loginSignup__header\":\"LoginSignup_loginSignup__header__JBT7n\",\"loginSignup__label\":\"LoginSignup_loginSignup__label__1A4TL\",\"loginSignup__buttons\":\"LoginSignup_loginSignup__buttons__Vqd_n\",\"container\":\"LoginSignup_container__9j_5T\",\"signUpPanel\":\"LoginSignup_signUpPanel__2YOKB\",\"logInPanel\":\"LoginSignup_logInPanel__1n44N\",\"forgotPanel\":\"LoginSignup_forgotPanel__3xZ4e\",\"front\":\"LoginSignup_front__mlbe7\",\"flipFront\":\"LoginSignup_flipFront__1i8Qo\",\"flashFront\":\"LoginSignup_flashFront__1EipL\",\"flipBack\":\"LoginSignup_flipBack__2ZunL\",\"flashBack\":\"LoginSignup_flashBack__kbU-i\",\"back\":\"LoginSignup_back__1HlGF\",\"forgotFront\":\"LoginSignup_forgotFront__22Lsi\",\"forgotBack\":\"LoginSignup_forgotBack__p96NS\",\"loginSignupButton\":\"LoginSignup_loginSignupButton__2kCG7\",\"forgotButton\":\"LoginSignup_forgotButton__3TYu6\",\"googleButton\":\"LoginSignup_googleButton__31VQP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3Xdg2\",\"link\":\"Home_link__1B6cG\",\"introText\":\"Home_introText__UbgcN\",\"featuresLink\":\"Home_featuresLink__1f6Xa\",\"phone\":\"Home_phone__3DPEx\",\"browser\":\"Home_browser__24_38\",\"topAngle\":\"Home_topAngle__2Y8Z3\",\"features\":\"Home_features__2Ftbk\",\"featuresText\":\"Home_featuresText__1Ey_P\",\"cta\":\"Home_cta__2kZpW\",\"calculators\":\"Home_calculators__bsdFI\",\"rotateBtn\":\"Home_rotateBtn__2hhpN\",\"cardOverride\":\"Home_cardOverride__3amiI\",\"out\":\"Home_out__3wHUY\",\"in\":\"Home_in__efLI_\",\"fadeIn\":\"Home_fadeIn__3k4ds\",\"featuresAngle\":\"Home_featuresAngle__2F9kk\",\"finalCta\":\"Home_finalCta__o7rg8\",\"bottomLogo\":\"Home_bottomLogo__2Ho9J\",\"screenshot\":\"Home_screenshot__wzqYw\",\"bottomAngle\":\"Home_bottomAngle__3tE5r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__33rUO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__3N6Zs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2hZcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"historyNav\":\"BrewHistoryNav_historyNav__v7EWM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"Dashboard_h1__2iFBX\",\"h2\":\"Dashboard_h2__2IHU1\",\"dashboard\":\"Dashboard_dashboard__rQaTl\",\"topRow\":\"Dashboard_topRow__261i8\",\"leftColumn\":\"Dashboard_leftColumn__3IygP\",\"rightColumn\":\"Dashboard_rightColumn__1tJZp\",\"flex\":\"Dashboard_flex__ge2SV\",\"dashboard__label\":\"Dashboard_dashboard__label__2q1za\",\"dashboard__header\":\"Dashboard_dashboard__header__1hnGt\",\"cardLink\":\"Dashboard_cardLink__2Sx5e\",\"brewLog\":\"Dashboard_brewLog__1ZWGW\",\"page1\":\"Dashboard_page1__1OOjM\",\"page2\":\"Dashboard_page2__1pnPs\",\"noBrews\":\"Dashboard_noBrews__cIOYM\",\"brewLog__item\":\"Dashboard_brewLog__item__2I1JQ\",\"pill\":\"Dashboard_pill__3U1jR\",\"brewLog__footer\":\"Dashboard_brewLog__footer__1ig4t\",\"brewLogLoader\":\"Dashboard_brewLogLoader__aq-Vc\",\"activityLoader\":\"Dashboard_activityLoader__qU2AX\",\"formWrapper\":\"Dashboard_formWrapper__-4jJy\",\"donate\":\"Dashboard_donate__1ICnR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calculators\":\"Calculators_calculators__1MY3A\",\"topRow\":\"Calculators_topRow__Dp9x_\",\"controls\":\"Calculators_controls__2OulR\",\"search\":\"Calculators_search__13d6h\",\"calculators__header\":\"Calculators_calculators__header__Af8Bw\",\"calculators__container\":\"Calculators_calculators__container__3akj6\",\"noResults\":\"Calculators_noResults__6O7nR\",\"card\":\"Calculators_card__3ON8X\",\"row\":\"Calculators_row__Gw-ME\",\"rowQuad\":\"Calculators_rowQuad__1FTLm\",\"interiorRow\":\"Calculators_interiorRow__2892G\",\"interiorRow2\":\"Calculators_interiorRow2__2hd_Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1VorZ\",\"profilePic\":\"Profile_profilePic__1MrnI\",\"form\":\"Profile_form__15kMR\",\"buttons\":\"Profile_buttons__26O0b\",\"updateButton\":\"Profile_updateButton__1y_m6\",\"saving\":\"Profile_saving__1YP5E\",\"uploadButton\":\"Profile_uploadButton__1Uo9A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectContainer\":\"Select_selectContainer__3UH4F\",\"searchAndFilters\":\"Select_searchAndFilters__3SD_D\",\"isSearching\":\"Select_isSearching__3fLO_\",\"placeholder\":\"Select_placeholder__1N0bn\",\"closeButton\":\"Select_closeButton__2AY1x\",\"selectSearch\":\"Select_selectSearch__qK06u\",\"selectDropdown\":\"Select_selectDropdown__1Z79N\",\"open\":\"Select_open__2gBBz\",\"selectOptions\":\"Select_selectOptions__1VY8L\",\"option\":\"Select_option__1cja-\",\"selected\":\"Select_selected__3dtUR\",\"focused\":\"Select_focused__2CFrj\"};","export default __webpack_public_path__ + \"static/media/beerforge_logo.d91d7474.svg\";","import React from 'react';\n\nimport styles from './Avatar.module.scss';\n\ninterface Props {\n  user: any,\n}\n\nconst colors = [\n  ['#F4D03F', '#EBAF3C', '#E9662C'],\n  ['#00AEA3', '#0C8D85', '#005142'],\n  ['#16A05E', '#008B49', '#00540D'],\n  ['#E9662C', '#D44B11', '#A60000'],\n  ['#FFFFFF', '#DAE7E6', '#224749'],\n  ['#191919', '#505050', '#FFFAE7'],\n];\n\nfunction Avatar({\n  user\n}: Props) {\n  let image;\n\n  if (user) {\n    const mask = `mask${user.id}`;\n    const schema = user.icon_schema;\n    const index = schema[2];\n    const colorScheme = colors[index];\n  \n    image = <svg width=\"100%\" height=\"100%\" viewBox={`${schema[0]} ${schema[1]} 80 80`} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect mask={`url(#${mask})`} width=\"216\" height=\"216\" fill={colorScheme[0]} />\n        <g opacity=\"0.5\">\n          <mask id={mask} mask-type=\"alpha\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"216\" height=\"216\">\n            <circle cx={schema[0] + 40} cy={schema[1] + 40} r=\"40\" fill=\"#000\" />\n          </mask>\n          <g mask={`url(#${mask})`}>\n            <path d=\"M201.866 69.1425L106.348 61.4545C102.709 61.1616 99.088 62.2082 96.1665 64.3975V64.3975C93.3512 66.5071 89.8829 67.5582 86.3701 67.3664L23 63.9054C24.6582 86.7054 61.2188 98.5476 109.637 114.133C111.101 114.604 111.598 116.433 110.565 117.572L85.468 145.265C84.2061 146.658 85.2486 148.882 87.126 148.802L176.456 145.033C179.371 144.91 181.294 141.946 180.221 139.233C178.491 134.857 176.035 128.61 173.955 123.186C168.245 108.301 166.158 100.999 203.478 74.6251C205.825 72.9668 204.738 69.2265 201.866 69.1425Z\" fill={colorScheme[1]} />\n            <path d=\"M88.4277 107.223C125.472 91.7279 164.39 79.8213 204.747 71.9377C204.824 72.92 204.438 73.9467 203.478 74.625C166.158 100.999 168.245 108.301 173.955 123.186C176.035 128.61 178.491 134.857 180.221 139.233C181.294 141.946 179.371 144.91 176.456 145.033L87.1261 148.802C85.2486 148.882 84.2062 146.658 85.468 145.265L110.565 117.572C111.598 116.433 111.101 114.604 109.637 114.133C102.265 111.76 95.1685 109.474 88.4277 107.223Z\" fill={`url(#paint${mask}_linear)`}/>\n          </g>\n        </g>\n        <defs>\n          <linearGradient id={`paint${mask}_linear`} x1=\"137.941\" y1=\"90.1765\" x2=\"137.941\" y2=\"139.238\" gradientUnits=\"userSpaceOnUse\">\n            <stop stopColor={colorScheme[2]} />\n            <stop offset=\"1\" stopColor={colorScheme[1]} />\n          </linearGradient>\n        </defs>\n      </svg>;\n  };\n\n  return(\n    <div\n      className={styles.avatar}\n    >{image}</div>\n  );\n};\n\nexport default Avatar;","import React, { useState, useEffect } from \"react\";\n\nimport styles from './Tooltip.module.scss';\n\ninterface Props {\n  show: boolean;\n  placement: 'bottom' | 'bottom-center' | 'bottom-right' | 'bottom-left' | 'top' | 'top-center' | 'top-right' | 'top-left' | 'left-center';\n  onClose: Function;\n  children?: any;\n  className?: any;\n};\n\nfunction Tooltip({\n  show,\n  children,\n  placement,\n  onClose,\n  className,\n}: Props) {\n  const [closing, setClosing] = useState(false);\n  const tooltipRef = React.createRef<HTMLDivElement>();\n\n  useEffect(() => {\n    if ( tooltipRef.current) {\n      tooltipRef.current.focus();\n    }\n  }, [tooltipRef]);\n\n  useEffect(() => {\n    let closeTimeout: any;\n\n    if (closing) {\n      closeTimeout = setTimeout(() => {\n        setClosing(false);\n        onClose();\n      }, 350);\n    }\n\n    return () => {\n      clearTimeout(closeTimeout);\n    }\n  }, [closing, onClose]);\n\n  return show ? (\n    <span\n      className={`\n        ${styles.tooltip}\n        ${closing ? styles.close : null}\n        ${placement ? styles[placement] : null}\n        ${className}\n      `}\n      ref={tooltipRef}\n      tabIndex={0}\n      onBlur={() => setClosing(true)}\n    >\n      {children}\n    </span>\n  ) : null;\n};\n\nexport default Tooltip;\n","import React, { useReducer, useContext } from 'react';\n\nexport interface UserInterface {\n  id: number;\n  username: string;\n  first_name: string;\n  last_name: string;\n  email: string;\n  token: string;\n  date_joined: string;\n  googleLogin?: boolean;\n};\n\n// check local storage for user\nexport const ls = {\n\tsave : function(key: string, jsonData: any, expirationMin: number) {\n\t\tvar expirationMS = expirationMin * 60 * 1000;\n\t\tvar record = {value: JSON.stringify(jsonData), timestamp: new Date().getTime() + expirationMS}\n\t\tlocalStorage.setItem(key, JSON.stringify(record));\n\t\treturn jsonData;\n\t},\n\tload : function(key: string) {\n    var record = JSON.parse(localStorage.getItem(key) || '{}');\n    if (!record) {\n      return false;\n    }\n    if (new Date().getTime() < record.timestamp) {\n      return JSON.parse(record.value);\n    } else {\n      localStorage.removeItem(key);\n      return false;\n    }\n\t}\n}\n\nconst initialState = ls.load('currentUser');\n\nexport const UserContext = React.createContext(initialState);\n\nconst reducer = (state: any, action: any) => {\n  switch (action.type) {\n    case 'save':\n      state = action.payload;\n      // keep users logged in for 12 hours\n      ls.save('currentUser', state, 720);\n      return state;\n    case 'update':\n      const storage = JSON.parse(localStorage.getItem('currentUser') || '{}');\n      const record = {value: JSON.stringify(action.payload), timestamp: storage.timestamp}\n      localStorage.setItem('currentUser', JSON.stringify(record));\n      state = action.payload;\n      return state;\n    case 'load':\n      const user = ls.load('currentUser');\n      state = user !== false ? user : false;\n      return state;\n    case 'logout':\n      localStorage.removeItem('currentUser');\n      return false;\n    default:\n      throw new Error('Unexpected action');\n  }\n};\n\nconst UserProvider = ({ children }: any) => {\n  const contextValue = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={contextValue}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nconst useUser = () => {\n  return useContext(UserContext);\n};\n\nexport default UserProvider;\nexport { useUser };","import React, { useState } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport styles from \"./Header.module.scss\";\nimport logoImage from \"../../resources/images/beerforge_logo.svg\";\nimport Avatar from \"../Avatar/Avatar\";\nimport Tooltip from \"../Tooltip/Tooltip\";\nimport { useUser } from '../../store/UserContext';\n\nconst Header = ({ history }: any) => {\n  const [user, userDispatch] = useUser();\n  const [showTooltip, setTooltip] = useState(false);\n\n  const logOut = (e: any) => {\n    setTooltip(false);\n    userDispatch({type: 'logout'});\n  }\n\n  const goToProfile = (e: any) => {\n    setTooltip(false);\n    history.push('/profile')\n  }\n\n  return (\n    <header className={styles.header}>\n      <Link to={!user ? \"/\" : \"/dashboard\"} className={styles.logoLink}>\n        <img src={logoImage} alt=\"BeerForge - Modern homebrewing\" />\n      </Link>\n      {window.location.pathname !== \"/login\" && !user ? (\n        <Link to=\"/login\" className={styles.loginLink}>\n          Log In\n        </Link>\n      ) : null}\n      {window.location.pathname !== \"/profile\" && user ? (\n        <div title={user.username} className={styles.header__user}>\n          <div className={styles.avatar} onClick={() => setTooltip(true)}>\n            <Avatar user={user} />\n          </div>\n          <Tooltip\n            show={showTooltip}\n            placement=\"bottom-right\"\n            onClose={() => setTooltip(false)}\n            className={styles.userMenu}\n          >\n            <>\n              <h2 className={styles.userMenu__header}>{user.username}</h2>\n              <div className={styles.userMenu__buttons}>\n                <button\n                  className=\"button button--small button--green button--no-shadow\"\n                  onClick={goToProfile}\n                >\n                  Profile\n                </button>\n                <button\n                  className=\"button button--small button--yellow button--no-shadow\"\n                  onClick={logOut}\n                >\n                  Log Out\n                </button>\n              </div>\n            </>\n          </Tooltip>\n        </div>\n      ) : null}\n      {window.location.pathname === \"/profile\" && user ? (\n        <button\n          className={`button button--link ${styles.loginLink}`}\n          onClick={() => userDispatch({type: 'logout'})}\n        >\n          Log Out\n        </button>\n      ) : null}\n    </header>\n  );\n}\n\nexport default withRouter(Header);\n","import React, { useReducer, useContext } from 'react';\n\nexport interface ModalProviderInterface {\n  show: boolean;\n  showModal: Function;\n  hideModal: Function;\n};\n\nexport interface ModalInterface {\n  title?: string;\n  body?: any;\n  node?: any;\n  buttons?: any;\n  classOverride?: any;\n  closing: boolean;\n  show: boolean;\n  image: any;\n}\n\nexport type Visibility = 'show' | 'hide' | 'close' | 'cancelHide';\n\nconst initialState: any = '';\n\nexport const ModalContext = React.createContext(initialState);\n\nconst reducer = (state: ModalInterface, action: {type: Visibility, payload: ModalInterface}) => {\n  switch (action.type) {\n    case 'show':\n      state = {\n        show: true,\n        title: action.payload.title,\n        body: action.payload.body,\n        node: action.payload.node,\n        buttons: action.payload.buttons,\n        classOverride: action.payload.classOverride,\n        closing: action.payload.closing,\n        image: action.payload.image\n      }\n      return state;\n    case 'hide':\n      state = {\n        ...state,\n        closing: true,\n      };\n      return state;\n    case 'close':\n      state = {\n        show: false,\n        title: '',\n        body: '',\n        node: '',\n        buttons: '',\n        closing: false,\n        classOverride: '',\n        image: ''\n      };\n      return state;\n    default:\n      throw new Error('Unexpected action');\n  }\n};\n\nconst ModalProvider = ({ children }: any) => {\n  const contextValue = useReducer(reducer, initialState);\n  return (\n    <ModalContext.Provider value={contextValue}>\n      {children}\n    </ModalContext.Provider>\n  );\n};\n\nconst useModal = () => {\n  return useContext(ModalContext);\n};\n\nexport default ModalProvider;\nexport { useModal };","import React from 'react';\n\nimport styles from './Footer.module.scss';\nimport { useModal } from '../../store/ModalContext';\n\nconst year = new Date().getFullYear();\n\nfunction Footer() {\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n\n  const showPolicy = () => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        title: `Privacy Notice`,\n        body: (<><p>This privacy notice discloses the privacy practices for BEERFORGE. This privacy notice applies solely to information collected by this website. It will notify you of the following:</p>\n        <ul>\n          <li>What personally identifiable information is collected from you through the website, how it is used and with whom it may be shared.</li>\n          <li>What choices are available to you regarding the use of your data.</li>\n          <li>The security procedures in place to protect the misuse of your information.</li>\n          <li>How you can correct any inaccuracies in the information.</li>\n        </ul>\n\n        <h2>Information Collection, Use, and Sharing</h2>\n        <p>We are the sole owners of the information collected on this site. We only have access to/collect information that you voluntarily give us via email or other direct contact from you. We will not sell or rent this information to anyone.</p>\n        \n        <p>We will use your information to respond to you, regarding the reason you contacted us. We will not share your information with any third party outside of our organization, other than as necessary to fulfill your request, e.g. to ship an order.</p>\n        \n        <p>Unless you ask us not to, we may contact you via email in the future to tell you about specials, new products or services, or changes to this privacy policy.</p>\n        \n        <h2>Your Access to and Control Over Information</h2>\n        <p>You may opt out of any future contacts from us at any time. You can do the following at any time by contacting us via the email address or phone number given on our website:</p>\n        <ul>\n          <li>See what data we have about you, if any.</li>\n          <li>Change/correct any data we have about you.</li>\n          <li>Have us delete any data we have about you.</li>\n          <li>Express any concern you have about our use of your data.</li>\n        </ul>\n\n        <h2>Security</h2>\n        <p>We take precautions to protect your information. When you submit sensitive information via the website, your information is protected both online and offline.</p>\n        \n        <p>While we use encryption to protect sensitive information transmitted online, we also protect your information offline. Only employees who need the information to perform a specific job (for example, billing or customer service) are granted access to personally identifiable information. The computers/servers in which we store personally identifiable information are kept in a secure environment.</p>\n        \n        <h2>Cookies</h2>\n        <p>Some of our business partners may use cookies on our site (for example, advertisers). However, we have no access to or control over these cookies.</p>\n        \n        \n        <p>If you feel that we are not abiding by this privacy policy, you should contact us immediately via email.</p></>),\n        classOverride: styles.modalClass,\n        buttons: <>\n            <button\n              className=\"button\"\n              onClick={() => modalDispatch({type: 'hide'})}\n            >Got it</button>\n          </>\n      }\n    });\n  };\n\n  const showTerms = () => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        title: `BEERFORGE Terms and Conditions`,\n        body: (<><h2>1. Introduction.</h2>\n          <p>These Website Standard Terms And Conditions (these “Terms” or these “Website Standard Terms And Conditions”) contained herein on this webpage, shall govern your use of this website, including all pages within this website (collectively referred to herein below as this “Website”). These Terms apply in full force and effect to your use of this Website and by using this Website, you expressly accept all terms and conditions contained herein in full. You must not use this Website, if you have any objection to any of these Website Standard Terms And Conditions.</p>\n          \n          <p>This Website is not for use by any minors (defined as those who are not at least 18 years of age), and you must not use this Website if you a minor.</p>\n          \n          <h2>2. Intellectual Property Rights.</h2>\n          <p>Other than content you own, which you may have opted to include on this Website, under these Terms, BEERFORGE and/or its licensors own all rights to the intellectual property and material contained in this Website, and all such rights are reserved.</p>\n          \n          <p>You are granted a limited license only, subject to the restrictions provided in these Terms, for purposes of viewing the material contained on this Website.</p>\n          \n          <h2>3. Restrictions.</h2>\n          <p>You are expressly and emphatically restricted from all of the following:</p>\n          \n          <ul>\n            <li>publishing any Website material in any media;</li>\n            <li>selling, sublicensing and/or otherwise commercializing any Website material;</li>\n            <li>publicly performing and/or showing any Website material;</li>\n            <li>using this Website in any way that is, or may be, damaging to this Website;</li>\n            <li>using this Website in any way that impacts user access to this Website;</li>\n            <li>using this Website contrary to applicable laws and regulations, or in a way that causes, or may cause, harm to the Website, or to any person or business entity;</li>\n            <li>engaging in any data mining, data harvesting, data extracting or any other similar activity in relation to this Website, or while using this Website;</li>\n            <li>using this Website to engage in any advertising or marketing;</li>\n          </ul>\n          \n          <p>Certain areas of this Website are restricted from access by you and BEERFORGE may further restrict access by you to any areas of this Website, at any time, in its sole and absolute discretion. Any user ID and password you may have for this Website are confidential and you must maintain confidentiality of such information.</p>\n          \n          <h2>4. Your Content.</h2>\n          <p>In these Website Standard Terms And Conditions, “Your Content” shall mean any audio, video, text, images or other material you choose to display on this Website. With respect to Your Content, by displaying it, you grant BEERFORGE a non-exclusive, worldwide, irrevocable, royalty-free, sublicensable license to use, reproduce, adapt, publish, translate and distribute it in any and all media.</p>\n          \n          <p>Your Content must be your own and must not be infringing on any third party’s rights. BEERFORGE reserves the right to remove any of Your Content from this Website at any time, and for any reason, without notice.</p>\n          \n          <h2>5. No warranties.</h2>\n          <p>This Website is provided “as is,” with all faults, and BEERFORGE makes no express or implied representations or warranties, of any kind related to this Website or the materials contained on this Website. Additionally, nothing contained on this Website shall be construed as providing consult or advice to you.</p>\n          \n          <h2>6. Limitation of liability.</h2>\n          <p>In no event shall BEERFORGE, nor any of its officers, directors and employees, be liable to you for anything arising out of or in any way connected with your use of this Website, whether such liability is under contract, tort or otherwise, and BEERFORGE, including its officers, directors and employees shall not be liable for any indirect, consequential or special liability arising out of or in any way related to your use of this Website.</p>\n          \n          <h2>7. Indemnification.</h2>\n          <p>You hereby indemnify to the fullest extent BEERFORGE from and against any and all liabilities, costs, demands, causes of action, damages and expenses (including reasonable attorney’s fees) arising out of or in any way related to your breach of any of the provisions of these Terms.</p>\n          \n          <h2>8. Severability.</h2>\n          <p>If any provision of these Terms is found to be unenforceable or invalid under any applicable law, such unenforceability or invalidity shall not render these Terms unenforceable or invalid as a whole, and such provisions shall be deleted without affecting the remaining provisions herein.</p>\n          \n          <h2>9. Variation of Terms.</h2>\n          <p>BEERFORGE is permitted to revise these Terms at any time as it sees fit, and by using this Website you are expected to review such Terms on a regular basis to ensure you understand all terms and conditions governing use of this Website.</p>\n          \n          <h2>10. Assignment.</h2>\n          <p>BEERFORGE shall be permitted to assign, transfer, and subcontract its rights and/or obligations under these Terms without any notification or consent required. However, .you shall not be permitted to assign, transfer, or subcontract any of your rights and/or obligations under these Terms.</p>\n          \n          <h2>11. Entire Agreement.</h2>\n          <p>These Terms, including any legal notices and disclaimers contained on this Website, constitute the entire agreement between BEERFORGE and you in relation to your use of this Website, and supersede all prior agreements and understandings with respect to the same.</p>\n          \n          <h2>12. Governing Law & Jurisdiction.</h2>\n          <p>These Terms will be governed by and construed in accordance with the laws of the State of Washington, and you submit to the non-exclusive jurisdiction of the state and federal courts located in Washington for the resolution of any disputes.</p></>),\n        classOverride: styles.modalClass,\n        buttons: <>\n            <button\n              className=\"button\"\n              onClick={() => modalDispatch({type: 'hide'})}\n            >Got it</button>\n          </>\n      }\n    });\n  };\n\n  return(\n    <footer className={styles.footer}>\n      <p>&copy; Copyright {year} - BeerForge<span> &nbsp; | &nbsp; </span><br />Made with 🍺 by <a href=\"https://www.davidpreese.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className={styles.link}>Dave</a></p>\n      <p>\n        <a\n          href=\"https://www.instagram.com/beerforge/\"\n          className={`${styles.sm} ${styles.instagram}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <span>Instagram</span>\n        </a>\n        <a\n          href=\"https://twitter.com/beer_forge\"\n          className={`${styles.sm} ${styles.twitter}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <span>Twitter</span>\n        </a>\n        <a\n          href=\"https://www.facebook.com/beerforge.net\"\n          className={`${styles.sm} ${styles.facebook}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <span>Facebook</span>\n        </a>\n        <button\n          className={`button button--link ${styles.link}`}\n          onClick={showPolicy}\n        >Privacy Policy</button>\n        <span>&nbsp;|&nbsp;</span><br />\n        <button\n          className={`button button--link ${styles.link}`}\n          onClick={showTerms}\n        >Terms &amp; Conditions</button>\n        </p>\n    </footer>\n  );\n};\n\nexport default Footer;","import React, { ComponentState } from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router';\n\nimport styles from './Fade.module.scss';\n\n// Due to rerendering issues, this component will need to stay a class for now.\nclass Fade extends React.Component<RouteComponentProps, ComponentState> {\n  constructor(props: RouteComponentProps) {\n    super(props);\n    this.state = {\n      background: 'default',\n      oldBackground: '',\n      transitioned: true\n    }\n  }\n\n  componentDidMount() {\n    const location: string = this.props.location.pathname.replace('/', '').split('/')[0];\n    this.setClasses(location, '');\n  }\n\n  componentDidUpdate(prevProps: RouteComponentProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      const location: string = this.props.location.pathname.replace('/', '').split('/')[0];\n      const oldLocation: string = prevProps.location.pathname.replace('/', '').split('/')[0];\n      this.setClasses(location, oldLocation);\n    }\n  }\n\n  setClasses(location: string, oldLocation: string): void {\n    this.setState({\n      background: location !== '' ? location : 'default',\n      oldBackground: oldLocation !== '' ? `old-${oldLocation}` : 'old-default',\n      transitioned: true,\n    }, () => {\n      setTimeout(() => {\n        this.setState({transitioned: false});\n      }, 100);\n    });\n  }\n\n  render() {\n    return (\n      <div className={`\n        ${styles.fade}\n        ${styles[this.state.background]}\n        ${styles[this.state.oldBackground]}\n        ${this.state.transitioned ? styles.transitioned : ''}\n      `}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Fade);","export default __webpack_public_path__ + \"static/media/calculators.4aa3b425.svg\";","export default __webpack_public_path__ + \"static/media/coins.19e9c28c.svg\";","import React from 'react';\n\nimport styles from './Card.module.scss';\n\ninterface Props {\n  color?: 'dashboard' | 'brew';\n  customClass?: string;\n  customStyle?: {},\n  children?: any;\n}\n\nfunction Card({\n  color,\n  customClass,\n  customStyle,\n  children\n}: Props) {\n  return(\n    <div\n      className={`${styles.card} ${customClass} ${styles[color ? color : 'dashboard']}`}\n      style={customStyle}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Card;","import React from 'react';\n\nimport styles from './UserInfo.module.scss';\nimport Avatar from '../../../components/Avatar/Avatar';\n\ninterface Props {\n  user: {\n    username: string;\n    first_name: string;\n    last_name: string;\n    brewCount: number;\n    badgeCount: number;\n  },\n  brewsNum: number,\n}\n\nfunction UserInfo({\n  user,\n  brewsNum\n}: Props) {\n\n  return(\n    <div className={styles.user}>\n      <div className={styles.avatarContainer}>\n      {user.username && <Avatar user={user} />}\n      </div>\n      <div className={styles.infoContainer}>\n        {user.username && <h1 className={styles.infoContainer__header}>\n          {user.username ? user.username : `${user.first_name} ${user.last_name}`}\n        </h1>}\n        <p className={styles.infoContainer__stats}>\n          Beers Brewed: <span>{brewsNum ? brewsNum : 0}</span> \n          {/* Badges Earned: <span>{user.badges ? user.badges : 0}</span> */}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default UserInfo;","import React from 'react';\n\nimport styles from './List.module.scss';\n\ninterface Props {\n  customClass?: string;\n  children?: any;\n}\n\nfunction List({\n  customClass,\n  children\n}: Props) {\n  return(\n    <ul className={`${styles.list} ${customClass}`}>\n      {children}\n    </ul>\n  );\n};\n\nexport default List;","import React from 'react';\n\nimport styles from './ListItem.module.scss';\n\ninterface Props {\n  clicked?: any;\n  data?: string;\n  label?: string;\n  color?: 'dashboard' | 'brew';\n  customClass?: string;\n  children?: any;\n}\n\nfunction ListItem({\n  color,\n  customClass,\n  children,\n  clicked,\n  label,\n  data,\n}: Props) {\n  return(\n    <li\n      className={`${styles.listItem} ${customClass} ${styles[color ? color : 'dashboard']}`}\n      tabIndex={-1}\n      onClick={clicked}\n      aria-label={label}\n      data-custom={data}\n    >\n      {children}\n    </li>\n  );\n};\n\nexport default ListItem;","import React from 'react';\n\ninterface Props {\n  className?: any;\n  children?: any;\n}\n\nexport const getFormattedDate = (date: string | Date) => {\n  const d = new Date(date);\n  const month = ('0' + (d.getMonth() + 1)).slice(-2)\n  const day = ('0' + d.getDate()).slice(-2)\n  const year = d.getFullYear();\n\n  return (`${month}.${day}.${year}`);\n}\n\nfunction FormattedDate({\n  className,\n  children\n}: Props) {\n  return(\n    <span className={className}>\n      {getFormattedDate(children)}\n    </span>\n  );\n};\n\nexport default FormattedDate;","export const getSrmToRgb = (srm) => {\n  const r = Math.round(Math.min(255, Math.max(0, 255 * Math.pow(0.975, srm))));\n  const g = Math.round(Math.min(255, Math.max(0, 245 * Math.pow(0.88, srm))));\n  const b = Math.round(Math.min(255, Math.max(0, 220 * Math.pow(0.7, srm))));\n\n  return `rgb(${ r }, ${ g }, ${ b }`;\n}","import React, { useState } from 'react';\n\nimport styles from './Activity.module.scss';\nimport { getSrmToRgb } from '../../../resources/javascript/srmToRgb';\nimport Tooltip from '../../Tooltip/Tooltip';\n\ninterface Props {\n  srm: number | null;\n  brews: Array<string>;\n  date: string;\n}\n\nfunction Activity({\n  srm,\n  brews,\n  date,\n}: Props) {\n  const [showTooltip, setTooltip] = useState(false);\n\n  const separator = brews.length > 0 ? '| ' : '';\n  let title = brews.map((element, i) => {\n    return <span key={i}>{element}</span>;\n  });\n\n  const color = srm && srm > 0 ? {backgroundColor: getSrmToRgb(srm)} : {backgroundColor: '#f4d03f'};\n\n  return(\n    <>\n      <div\n        className={styles.Activity}\n        style={srm !== null ? color : undefined}\n        onMouseEnter={() => setTooltip(true)}\n        onMouseLeave={() => setTooltip(false)}\n      >\n      <Tooltip\n        show={showTooltip}\n        placement={'bottom'}\n        onClose={() => {}}\n        className={styles.tooltip}\n      >{title}{separator + date}</Tooltip>\n      </div>\n    </>\n  );\n};\n\nexport default Activity;","import React from 'react';\n\nimport styles from './ActivityPanel.module.scss';\nimport Activity from './Activity/Activity';\nimport { getFormattedDate } from '../FormattedDate/FormattedDate';\n\ninterface Props {\n  brews: any;\n}\n\nconst today = new Date();\n\nconst weeksBetween = (date1: any, date2: any) => {\n  return Math.round((date2 - date1) / (7 * 24 * 60 * 60 * 1000));\n}\n\nconst dateOfWeeksAgo = (date: Date, weeks: number) => {\n  const dateOfWeeksAgo = new Date(date.getFullYear(), date.getMonth(), date.getDate()-(weeks*7));\n  return getFormattedDate(dateOfWeeksAgo);\n}\n\nfunction ActivityPanel({\n  brews,\n}: Props) {\n\n  const createActivity = () => {\n    let weeks = [];\n    for (let i = 0; i < 104; i++) {\n      let color: number | null = null;\n      let names: Array<string> = [];\n      const weekDate = dateOfWeeksAgo(today, i);\n      brews.forEach((brew: any) => {\n        const weeksAgo = weeksBetween(new Date(brew.date_brewed), today);\n        if (weeksAgo === i) {\n          color = brew.srm ? brew.srm : 0;\n          names.push(brew.name);\n        }\n      });\n      weeks.push(<Activity key={i} date={weekDate} srm={color} brews={names} />);\n    }\n    return weeks.reverse();\n  }\n\n  return(\n    <div className={styles.ActivityPanel}>\n      <div className={styles.year}>\n        {today.getFullYear() - 2}\n      </div>\n      <div className={styles.ActivityPanel__container}>\n        {createActivity()}\n      </div>\n      <div className={styles.year}>\n        {today.getFullYear()}\n      </div>\n    </div>\n  );\n};\n\nexport default ActivityPanel;","import React from \"react\";\n\nimport styles from './Loader.module.scss';\n\ninterface Props {\n  show?: boolean;\n  className?: any;\n  color?: string;\n}\n\nfunction Loader({show, className, color}: Props) {\n  return (\n    <svg\n      width=\"45\"\n      height=\"45\"\n      viewBox=\"0 0 45 45\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      stroke={color ? color : '#ffdb4a'}\n      className={`${styles.loader} ${className ? className : null}`}\n    >\n      <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(1 1)\" strokeWidth=\"2\">\n        <circle cx=\"22\" cy=\"22\" r=\"6\" strokeOpacity=\"0\">\n          <animate attributeName=\"r\"\n            begin=\"1.5s\" dur=\"3s\"\n            values=\"6;22\"\n            calcMode=\"linear\"\n            repeatCount=\"indefinite\" />\n          <animate attributeName=\"stroke-opacity\"\n            begin=\"1.5s\" dur=\"3s\"\n            values=\"1;0\" calcMode=\"linear\"\n            repeatCount=\"indefinite\" />\n          <animate attributeName=\"stroke-width\"\n            begin=\"1.5s\" dur=\"3s\"\n            values=\"2;0\" calcMode=\"linear\"\n            repeatCount=\"indefinite\" />\n        </circle>\n        <circle cx=\"22\" cy=\"22\" r=\"6\" strokeOpacity=\"0\">\n          <animate attributeName=\"r\"\n            begin=\"3s\" dur=\"3s\"\n            values=\"6;22\"\n            calcMode=\"linear\"\n            repeatCount=\"indefinite\" />\n          <animate attributeName=\"stroke-opacity\"\n            begin=\"3s\" dur=\"3s\"\n            values=\"1;0\" calcMode=\"linear\"\n            repeatCount=\"indefinite\" />\n          <animate attributeName=\"stroke-width\"\n            begin=\"3s\" dur=\"3s\"\n            values=\"2;0\" calcMode=\"linear\"\n            repeatCount=\"indefinite\" />\n        </circle>\n        <circle cx=\"22\" cy=\"22\" r=\"8\">\n          <animate attributeName=\"r\"\n            begin=\"0s\" dur=\"1.5s\"\n            values=\"6;1;2;3;4;5;6\"\n            calcMode=\"linear\"\n            repeatCount=\"indefinite\" />\n        </circle>\n      </g>\n    </svg>\n  );\n}\n\nexport default Loader;","export function scrollToTop(scrollDuration) {\n  var cosParameter = window.scrollY / 2,\n      scrollCount = 0,\n      oldTimestamp = performance.now();\n\n  function step (newTimestamp) {\n    scrollCount += Math.PI / (scrollDuration / (newTimestamp - oldTimestamp));\n    if (scrollCount >= Math.PI) window.scrollTo(0, 0);\n    if (window.scrollY === 0) return;\n    window.scrollTo(0, Math.round(cosParameter + cosParameter * Math.cos(scrollCount)));\n    oldTimestamp = newTimestamp;\n    window.requestAnimationFrame(step);\n  }\n  window.requestAnimationFrame(step);\n}","import React, { useReducer, useContext } from 'react';\nimport { Visibility } from './ModalContext';\n\nexport interface SnackbarProviderInterface {\n  hideSnackbar: Function;\n  show: boolean;\n  showSnackbar: Function;\n};\n\nexport interface SnackbarInterface {\n  show: boolean;\n  closing: boolean;\n  message: string;\n  status: 'error' | 'success' | 'warning';\n}\n\nconst initialState: any = '';\n\nexport const SnackbarContext = React.createContext(initialState);\n\nconst reducer = (state: SnackbarInterface, action: {type: Visibility, payload: SnackbarInterface}) => {\n  switch (action.type) {\n    case 'show':\n      state = {\n        show: true,\n        closing: false,\n        message: action.payload.message,\n        status: action.payload.status,\n      };\n      return state;\n    case 'hide':\n      state = {\n        ...state,\n        closing: true\n      };\n      return state;\n    case 'close':\n      state = {\n        show: false,\n        closing: false,\n        message: '',\n        status: 'success',\n      }\n      return state;\n    default:\n      throw new Error('Unexpected action');\n  }\n};\n\nconst SnackbarProvider = ({ children }: any) => {\n  const contextValue = useReducer(reducer, initialState);\n  return (\n    <SnackbarContext.Provider value={contextValue}>\n      {children}\n    </SnackbarContext.Provider>\n  );\n};\n\nconst useSnackbar = () => {\n  return useContext(SnackbarContext);\n};\n\nexport default SnackbarProvider;\nexport { useSnackbar };","import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport ReactGA from 'react-ga';\n\nimport styles from './Dashboard.module.scss';\nimport calcImage from '../../resources/images/calculators.svg';\nimport coinsImage from '../../resources/images/coins.svg';\nimport Card from '../../components/Card/Card';\nimport UserInfo from './UserInfo/UserInfo';\nimport List from '../../components/List/List';\nimport ListItem from '../../components/ListItem/ListItem';\nimport FormattedDate from '../../components/FormattedDate/FormattedDate';\nimport ActivityPanel from '../../components/ActivityPanel/ActivityPanel';\nimport Loader from '../../components/Loader/Loader';\nimport { scrollToTop } from '../../resources/javascript/scrollToTop';\nimport { useUser } from '../../store/UserContext';\nimport { useSnackbar } from '../../store/SnackbarContext';\nimport { useModal } from '../../store/ModalContext';\nimport { BrewInterface } from '../../store/BrewContext';\n\n// @ts-ignore\nconst form = <div className={styles.formWrapper}><script src=\"https://donorbox.org/widget.js\" paypalexpress=\"false\"></script><p>Help me keep the servers running, or just buy me a beer!</p><iframe title=\"donate\" allowpaymentrequest=\"\" frameBorder=\"0\" height=\"750px\" name=\"donorbox\" scrolling=\"no\" seamless=\"seamless\" src=\"https://donorbox.org/embed/keep-the-servers-on-or-buy-me-a-beer-1\" style={{\"maxWidth\": \"500px\", \"minWidth\": \"310px\", \"maxHeight\": \"none !important\"}} width=\"100%\"></iframe></div>;\n\nconst Dashboard = (props: any) => {\n  // CONTEXT\n  const [user, userDispatch] = useUser();\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n\n  // STATE\n  const [brewLogPage, setBrewLogPage] = useState(1);\n  // eslint-disable-next-line\n  const [snackbar, snackbarDispatch] = useSnackbar();\n  // eslint-disable-next-line\n  const [numToShow, setNumToShow] = useState(20);\n  const [brewLog, setBrewLog] = useState([]);\n  const [brewActivity, setBrewActivity] = useState([]);\n  const [brewsNum, setBrewsNum] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState(false);\n  const [userViewing, setUserViewing] = useState<any>({});\n\n  const isMounted: any = useRef();\n\n  const authHeaders = {'authorization': user ? user.token : null};\n\n  // mount\n  useEffect(() => {\n    document.title = \"BeerForge | Dashboard\";\n  }, []);\n\n  useEffect(() => {\n    const userId = Number(window.location.pathname.split('/')[2]);\n    if (!isNaN(userId)) {\n      getUser(userId);\n      isMounted.current = true;\n      isMounted && listUserBrews(userId);\n    } else {\n      setCurrentUser(true);\n      isMounted.current = true;\n      isMounted && listUserBrews();\n    }\n\n    scrollToTop(400);\n\n    // unmount\n    return function cleanup() {\n      isMounted.current = false;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.history.location.pathname]);\n\n  const listUserBrews = async (userId: number | null = null) => {\n    try {\n      setLoading(true);\n      userDispatch({type: 'load'});\n      await axios.get(\n        `${process.env.REACT_APP_API_ENDPOINT}/brews/${userId ? userId : user.id}/dashboard/?num=${numToShow}`,\n        { headers: authHeaders }\n      ).then(result => {\n        if (isMounted) {\n          setBrewLog(result.data.allBrews);\n          setBrewActivity(result.data.brews);\n          setBrewsNum(result.data.allBrews.filter((brew: BrewInterface) => brew.is_draft === false).length)\n          setLoading(false);\n        }\n      });\n    } catch (error) {\n      if (isMounted) {\n        snackbarDispatch({type: 'show', payload: {\n          status: 'error',\n          message: error.message,\n        }});\n        setLoading(false);\n      }\n    }\n  }\n\n  const getUser = async (userId: number) => {\n    setLoading(true);\n    await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/users/${userId}`, {\n      headers: authHeaders,\n    }).then(result => {\n      setLoading(false);\n      setUserViewing(result.data);\n      setCurrentUser(false);\n    })\n    .catch((error) => {\n      snackbarDispatch({type: 'show', payload: {\n        status: 'error',\n        message: error.message,\n      }});\n      props.history.push('/dashboard');\n    });\n  }\n\n  const handleBrewClick = (brewId: number) => (event: any) => {\n    props.history.push(`/brew/${brewId}`);\n  }\n\n  const togglePage = (page: number) => (event: any) => {\n    setBrewLogPage(page);\n    scrollToTop(400);\n  }\n\n  const handleDonateClick = (event: any) => {\n    event.stopPropagation();\n    ReactGA.event({\n      category: \"Donate\",\n      action: \"User pressed the donate button\",\n    });\n    modalDispatch({\n      type: 'show',\n      payload: {\n        classOverride: styles.donate,\n        title: `DONATE TO BEERFORGE`,\n        body: form,\n      },\n    });\n  }\n\n  const brewLogItems = brewLog.length > 0\n    ? brewLog.map((brew: any, index: number) => {\n        if (index <= 19) {\n          return (\n            <ListItem\n              key={brew.id}\n              customClass={styles.brewLog__item}\n              data={index < 10 ? 'page1' : 'page2'}\n              clicked={handleBrewClick(brew.id)}\n              label=\"Click to see brew details\"\n            >\n              <p>{brew.name}{brew.is_draft && <span className={styles.pill}>Draft</span>}</p> <span><FormattedDate>{brew.date_brewed}</FormattedDate></span>\n            </ListItem>\n          );\n        } else {\n          return null;\n        }\n      })\n    : <li className={styles.noBrews}>\n        {currentUser && <Link\n          to=\"brew\"\n          className=\"button\"\n        >Get Brewing!</Link>}\n      </li>\n  ;\n\n  return (\n    <section className={styles.dashboard}>\n      <div className={styles.topRow}>\n        <UserInfo user={currentUser ? user : userViewing} brewsNum={brewsNum} />\n        {currentUser && <Link\n          to=\"brew\"\n          className=\"button button--large button--yellow\"\n          onClick={() => {\n            ReactGA.event({\n              category: \"New Brew\",\n              action: \"User pressed the New Brew button on the dashboard\",\n            });\n          }}\n        >New Brew</Link>}\n      </div>\n      <div className={styles.leftColumn}>\n        <Card>\n          <h2 className={styles.dashboard__label}>Brew Log</h2>\n          <List customClass={`${styles.brewLog} ${styles['page' + brewLogPage]}`}>\n            {loading ? <Loader className={styles.brewLogLoader} /> : brewLogItems}\n          </List>\n          <div className={styles.brewLog__footer}>\n              <div>\n                <button\n                  className={`button button--page ${brewLogPage === 1 ? 'on' : ''}`}\n                  onClick={togglePage(1)}\n                >1</button>\n                {brewLog.length > 10 ?\n                  <button\n                    className={`button button--page ${brewLogPage === 2 ? 'on' : ''}`}\n                    onClick={togglePage(2)}\n                  >2</button>\n                  : null\n                }\n              </div>\n              {currentUser && <Link to=\"/brews\">All Brews</Link>}\n              {!currentUser && <Link to={`/user/${userViewing.id}/brews`}>All Brews</Link>}\n          </div>\n        </Card>\n      </div>\n      <div className={styles.rightColumn}>\n        <Card>\n          <h2 className={styles.dashboard__label}>Weekly Activity</h2>\n          {loading ? <Loader className={styles.activityLoader} /> : <ActivityPanel brews={brewActivity} />}\n        </Card>\n        <Card customClass={styles.flex}>\n            <Link to=\"/calculators\" className={styles.cardLink}>\n              <h2 className={styles.dashboard__header}>Calculators</h2>\n              <img src={calcImage} alt=\"calculators\" />\n            </Link>\n          </Card>\n        <Card customClass={styles.flex}>\n            <button\n              className={styles.cardLink}\n              onClick={handleDonateClick}\n            >\n              <h2 className={styles.dashboard__header}>Donate</h2>\n              <img src={coinsImage} alt=\"calculators\" />\n            </button>\n          </Card>\n        \n      </div>\n    </section>\n  );\n}\n\nexport default Dashboard;","import React from 'react';\n\nexport const google = \n  <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"25px\" height=\"25px\" viewBox=\"10 10 26 26\"><defs><filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" filterUnits=\"objectBoundingBox\" id=\"filter-1\"><feOffset dx=\"0\" dy=\"1\" in=\"SourceAlpha\" result=\"shadowOffsetOuter1\"></feOffset><feGaussianBlur stdDeviation=\"0.5\" in=\"shadowOffsetOuter1\" result=\"shadowBlurOuter1\"></feGaussianBlur><feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0\" in=\"shadowBlurOuter1\" type=\"matrix\" result=\"shadowMatrixOuter1\"></feColorMatrix><feOffset dx=\"0\" dy=\"0\" in=\"SourceAlpha\" result=\"shadowOffsetOuter2\"></feOffset><feGaussianBlur stdDeviation=\"0.5\" in=\"shadowOffsetOuter2\" result=\"shadowBlurOuter2\"></feGaussianBlur><feColorMatrix values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0\" in=\"shadowBlurOuter2\" type=\"matrix\" result=\"shadowMatrixOuter2\"></feColorMatrix><feMerge><feMergeNode in=\"shadowMatrixOuter1\"></feMergeNode><feMergeNode in=\"shadowMatrixOuter2\"></feMergeNode><feMergeNode in=\"SourceGraphic\"></feMergeNode></feMerge></filter><rect id=\"path-2\" x=\"0\" y=\"0\" width=\"40\" height=\"40\" rx=\"2\"></rect><rect id=\"path-3\" x=\"5\" y=\"5\" width=\"38\" height=\"38\" rx=\"1\"></rect></defs><g id=\"Google-Button\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\"><g id=\"9-PATCH\" transform=\"translate(-608.000000, -219.000000)\"></g><g id=\"btn_google_dark_normal\" transform=\"translate(-1.000000, -1.000000)\"><g id=\"button\" transform=\"translate(4.000000, 4.000000)\" filter=\"url(#filter-1)\"><g id=\"button-bg\"><use fill=\"#4285F4\" fillRule=\"evenodd\"></use><use fill=\"none\"></use><use fill=\"none\"></use><use fill=\"none\"></use></g></g><g id=\"button-bg-copy\"><use fill=\"#FFFFFF\" fillRule=\"evenodd\"></use><use fill=\"none\"></use><use fill=\"none\"></use><use fill=\"none\"></use></g><g id=\"logo_googleg_48dp\" transform=\"translate(15.000000, 15.000000)\"><path d=\"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z\" id=\"Shape\" fill=\"#4285F4\"></path><path d=\"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z\" id=\"Shape\" fill=\"#34A853\"></path><path d=\"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z\" id=\"Shape\" fill=\"#FBBC05\"></path><path d=\"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z\" id=\"Shape\" fill=\"#EA4335\"></path><path d=\"M0,0 L18,0 L18,18 L0,18 L0,0 Z\" id=\"Shape\"></path></g><g id=\"handles_square\"></g></g></g></svg>\n;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ReactGA from 'react-ga';\n\nimport styles from './LoginSignup.module.scss';\nimport Loader from '../../components/Loader/Loader';\nimport { useUser } from '../../store/UserContext';\nimport { useSnackbar } from '../../store/SnackbarContext';\nimport { google } from '../../resources/javascript/googleSvg';\n\nconst LoginSignup = (props: any) => {\n  // CONTEXT\n  // eslint-disable-next-line\n  const [user, userDispatch] = useUser();\n  // eslint-disable-next-line\n  const [snackbar, snackbarDispatch] = useSnackbar();\n\n  // STATE\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [password1, setPassword1] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [email, setEmail] = useState('');\n  const [newUsername, setNewUsername] = useState('');\n  const [flip, setFlip] = useState('');\n  const [error, setError] = useState<number | string | null>(null);\n  const [saving, setSaving] = useState(false);\n  const [forgotPassword, setForgotPassword] = useState('');\n  const [forgotUsername, setForgotUsername] = useState('');\n\n  // mount\n  useEffect(() => {\n    document.title = \"BeerForge | Log In or Sign Up\";\n\n    const params = new URLSearchParams(props.location.search);\n    const code = params.get(\"code\");\n    if (code) {\n      googleLogin(code);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    // Password matching validation for sign up\n    if ( password2 !== '' && password1 !== password2) {\n      setError('noMatch');\n    } else {\n      setError(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [password1, password2]);\n\n  const authenticationUrl = () => {\n    const scope: string = \"profile https://www.googleapis.com/auth/user.emails.read\";\n    const clientID: string = `${process.env.REACT_APP_GOOGLE_CLIENT_ID}`;\n    const redirectURL: string = `${process.env.REACT_APP_GOOGLE_REDIRECT_URL}`;\n    const allowedDomain = \"gmail.com\";\n    const url = `https://accounts.google.com/o/oauth2/auth?scope=${scope}&client_id=${clientID}&redirect_uri=${encodeURIComponent(redirectURL)}&response_type=code&hd=${allowedDomain}`;\n    return url;\n  };\n\n  const logInOrSignUpUser = async (url: string, body: Object) => {\n    try {\n      setSaving(true);\n      const response = await axios.post(url, body);\n      userDispatch({type: 'save', payload: response.data});\n      setSaving(false);\n      props.history.push('/dashboard');\n    } catch (error) {\n      setError(error.response.status);\n      setSaving(false);\n    }\n  }\n\n  const handleLogIn = (e: any) => {\n    e.preventDefault();\n    logInOrSignUpUser(`${process.env.REACT_APP_API_ENDPOINT}/login`, {\n      username: username,\n      password: password\n    });\n  }\n\n  const handleSignUp = (e: any) => {\n    e.preventDefault();\n    if (error !== 'noMatch') {\n      ReactGA.event({\n        category: \"New Signup\",\n        action: `There was a new user signup: ${newUsername}`,\n      });\n      logInOrSignUpUser(`${process.env.REACT_APP_API_ENDPOINT}/users`, {\n        username: newUsername,\n        password1: password1,\n        password2: password2,\n        email: email,\n      });\n    }\n  }\n\n  const googleLogin = async (code: string) => {\n    try {\n      setSaving(true);\n      const response = await axios.post(`${process.env.REACT_APP_API_ENDPOINT}/login`, {code: code});\n      const payload = response.data;\n      userDispatch({type: 'save', payload: {...payload, googleLogin: true}});\n      setSaving(false);\n      props.history.push('/dashboard');\n    } catch (error) {\n      setError(100);\n      setSaving(false);\n    }\n  }\n\n  const handlePassReset = async (e: any) => {\n    e.preventDefault();\n    if (forgotUsername && forgotPassword) {\n      setError('notBoth');\n    } else {\n      let url = '';\n      let payload;\n      if (forgotUsername) {\n        url = `${process.env.REACT_APP_API_ENDPOINT}/recover/user`;\n        payload = {email: forgotUsername};\n      } else {\n        url = `${process.env.REACT_APP_API_ENDPOINT}/recover/pass`;\n        payload = {username: forgotPassword};\n      }\n      try {\n        setSaving(true);\n        const request = await axios.post(url, payload);\n        setSaving(false);\n        snackbarDispatch({type: 'show', payload: {\n          status: 'success',\n          message: request.data.success,\n        }});\n      } catch (error) {\n        snackbarDispatch({type: 'show', payload: {\n          status: 'error',\n          message: error.response.data.error,\n        }});\n        setSaving(false);\n      }\n    }\n  }\n\n  const flipStyles = (direction: string) => {\n    setFlip(styles[direction]);\n  }\n\n  return (\n    <section className={styles.loginSignup}>\n      <div className={`${styles.container} ${flip}`}>\n        <div className={styles.logInPanel}>\n          <h1 className={styles.loginSignup__header}>Log In</h1>\n          {\n            error === 404 ?\n              <p className={`error center-text`}>\n                No user with that name found. Please try again.\n              </p>\n              : null\n          }\n          {\n            error === 401 ?\n              <p className={`error center-text`}>\n                Incorrect password. Please try again.\n              </p>\n              : null\n          }\n          {\n            error === 100 ?\n              <p className={`error center-text`}>\n                Failed to validate user.\n              </p>\n              : null\n          }\n          <form onSubmit={handleLogIn}>\n            <label className={styles.loginSignup__label}>\n              Username<br />\n              <input\n                type=\"text\"\n                name=\"username\"\n                className={`dark ${error === 404 ? 'error' : ''}`}\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                required\n                autoComplete=\"off\"\n              />\n            </label><br />\n            <label className={styles.loginSignup__label}>\n              Password<br />\n              <input\n                type=\"password\"\n                name=\"password\"\n                className={`dark ${error === 401 ? 'error' : ''}`}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </label>\n            <div className={styles.loginSignup__buttons}>\n              <button\n                type=\"submit\"\n                className={`button button--yellow ${styles.loginSignupButton}`}\n              >\n                <span>Submit</span>\n                {saving ? <Loader className={styles.savingLoader} color=\"#191919\" /> : null}\n              </button>\n              <button\n                type=\"button\"\n                className=\"button button--no-button button--brown\"\n                onClick={() => flipStyles('back')}\n              >Sign Up</button>\n            </div>\n          </form>\n          <div className={styles.loginSignup__buttons}>\n            <div className={styles.googleButton}>\n              <button\n              className='button button--small'\n                onClick={() => {\n                  ReactGA.event({\n                    category: \"Google Sign in\",\n                    action: \"User pressed the Sign in with Google button\",\n                  });\n                  // @ts-ignore-line\n                  window.location = authenticationUrl();\n                }}\n              >\n                {google}\n                Sign in with Google\n              </button>\n            </div>\n          </div>\n          <button\n            onClick={() => {\n              flipStyles('forgotBack');\n              ReactGA.event({\n                category: \"Forgot Password\",\n                action: \"User pressed the forgot password button\",\n              });\n            }}\n            className={`button button--link button--small ${styles.forgotButton}`}\n          >Forgot Password</button>\n        </div>\n\n        <div className={styles.signUpPanel}>\n          <h1 className={styles.loginSignup__header}>Sign Up</h1>\n          {\n            error === 500 ?\n              <p className={`error center-text`}>\n                That username already exists. Please try something different.\n              </p>\n              : null\n          }\n          {\n            error === 100 ?\n              <p className={`error center-text`}>\n                Failed to validate user.\n              </p>\n              : null\n          }\n          <form onSubmit={handleSignUp}>\n            <label className={styles.loginSignup__label}>\n              Email<br />\n              <input\n                type=\"email\"\n                name=\"email\"\n                className=\"dark\"\n                required\n                autoComplete=\"off\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </label><br />\n            <label className={styles.loginSignup__label}>\n              Username<br />\n              <input\n                type=\"text\"\n                name=\"newUsername\"\n                className={`dark ${error === 500 ? 'error' : ''}`}\n                required\n                autoComplete=\"off\"\n                value={newUsername}\n                onChange={(e) => setNewUsername(e.target.value)}\n              />\n            </label><br />\n            <label className={styles.loginSignup__label}>\n              Password<br />\n              <input\n                type=\"password\"\n                name=\"password1\"\n                required\n                value={password1}\n                onChange={(e) => setPassword1(e.target.value)}\n                className={`dark ${error === 'noMatch' ? 'error' : ''}`}\n              />\n            </label><br />\n            <label className={styles.loginSignup__label}>\n              Re-Type Password<br />\n              <input\n                type=\"password\"\n                name=\"password2\"\n                required\n                value={password2}\n                onChange={(e) => setPassword2(e.target.value)}\n                className={`dark ${error === 'noMatch' ? 'error' : ''}`}\n              />\n            </label><br />\n            {\n              error === 'noMatch' ?\n                <p className=\"error\">Passwords don't match.</p>\n                : null\n            }\n            <div className={styles.loginSignup__buttons}>\n              <button\n                type=\"submit\"\n                className={`button button--yellow ${styles.loginSignupButton}`}\n              >\n                <span>Submit</span>\n                {saving ? <Loader className={styles.savingLoader} color=\"#191919\" /> : null}\n              </button>\n              <button\n                type=\"button\"\n                className=\"button button--no-button\"\n                onClick={() => flipStyles('front')}\n              >Log In</button>\n            </div>\n          </form>\n          <div className={styles.loginSignup__buttons}>\n            <div className={styles.googleButton}>\n              <button\n              className='button button--small'\n                onClick={() => {\n                  ReactGA.event({\n                    category: \"Google Sign in\",\n                    action: \"User pressed the Sign in with Google button\",\n                  });\n                  // @ts-ignore-line\n                  window.location = authenticationUrl();\n                }}\n              >\n                {google}\n                Sign up with Google\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div className={styles.forgotPanel}>\n          <h1 className={styles.loginSignup__header}>Password Reset</h1>\n          {\n            error === 'notBoth' ?\n              <span className={`error center-text`}>\n                Please submit either password reset or username recovery, not both.\n              </span>\n              : null\n          }\n          <form onSubmit={handlePassReset}>\n            <p>Enter your username to recieve a new temporary password at the email address we have on file.</p>\n            <label className={styles.loginSignup__label}>\n              Username<br />\n              <input\n                type=\"text\"\n                name=\"forgotPassword\"\n                className='dark'\n                autoComplete=\"off\"\n                value={forgotPassword}\n                disabled={forgotUsername ? true : false}\n                onChange={(e) => setForgotPassword(e.target.value)}\n              />\n            </label><br />\n            <p>If you forgot that, enter your email to be sent your username.</p>\n            <label className={styles.loginSignup__label}>\n              Email<br />\n              <input\n                type=\"email\"\n                name=\"forgotUsername\"\n                className='dark'\n                autoComplete=\"off\"\n                value={forgotUsername}\n                disabled={forgotPassword ? true : false}\n                onChange={(e) => setForgotUsername(e.target.value)}\n              />\n            </label><br />\n            <div className={styles.loginSignup__buttons}>\n              <button\n                type=\"submit\"\n                className={`button button--yellow ${styles.loginSignupButton}`}\n              >\n                <span>{forgotUsername ? 'Submit' : 'Reset'}</span>\n                {saving ? <Loader className={styles.savingLoader} color=\"#191919\" /> : null}\n              </button>\n              <button\n                type=\"button\"\n                className=\"button button--no-button\"\n                onClick={() => flipStyles('forgotFront')}\n              >Log In</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default LoginSignup;","export default __webpack_public_path__ + \"static/media/info.754de19f.svg\";","import React, { useState } from \"react\";\n\nimport styles from './Info.module.scss';\nimport infoImage from \"../../resources/images/info.svg\";\nimport Tooltip from \"../Tooltip/Tooltip\";\n\ninterface Props {\n  alignment: 'bottom' | 'bottom-center' | 'bottom-right' | 'bottom-left' | 'top' | 'top-center' | 'top-right' | 'top-left';\n  info: string;\n};\n\nfunction Info({ alignment, info }: Props) {\n  const [showTooltip, setTooltip] = useState(false);\n\n  return (\n    <span className={styles.container}>\n      <img\n        src={infoImage}\n        className={styles.info}\n        alt=\"info\"\n        onMouseEnter={() => setTooltip(true)}\n        onMouseLeave={() => setTooltip(false)}\n      />\n      <Tooltip\n        show={showTooltip}\n        placement={alignment}\n        onClose={() => setTooltip(false)}\n      >{info}</Tooltip>\n    </span>\n  );\n}\n\nexport default Info;","// CONSTANTS\nconst shrinkage = 4; // 4%\nconst thermodynamicConstant = 0.2;\n\n// PRIVATE FUNCTIONS\n\nfunction convertToGravityUnits(value) {\n  return parseFloat(((value / 1000) + 1).toFixed(3));\n};\n\nfunction convertToGravityPoints(gravity) {\n  return (gravity - 1) * 1000;\n}\n\nfunction convertToPlato(SG) {\n  // E = -668.962 + (1262.45 * SG) - (776.43 * SG^2) + (182.94 * SG^3)  - specific gravity to plato\n  const E = -668.962 + (1262.45 * SG) - (776.43 * Math.pow(SG, 2)) + (182.94 * Math.pow(SG, 3));\n  return E;\n};\n\nfunction calculateRealExtract(OE, AE) {\n  // RE (real extract) = (0.8114 * AE) + (0.1886 * OE)\n  const RE = (0.8114 * AE) + (0.1886 * OE);\n  return RE;\n};\n\nfunction oz2kg(number) {\n  return number * 0.0283495;\n};\n\nexport function oz2g(number) {\n  return number * 28.3495;\n};\n\nexport function g2oz(number) {\n  return number / 28.3495;\n};\n\nexport function gal2l(number) {\n  return number * 3.78541;\n};\n\nexport function l2gal(number) {\n  return number / 3.78541;\n};\n\nexport function qt2l(number) {\n  return number / 1.057;\n};\n\nexport function l2qt(number) {\n  return number * 1.057;\n};\n\nfunction gal2ml(number) {\n  return number * 3785.41;\n};\n\nexport function lb2kg(number) {\n  return number * 0.453592;\n};\n\nexport function kg2lb(number) {\n  return number / 0.453592;\n};\n\nexport function f2c(number) {\n  return (number - 32) * 5/9;\n};\n\nexport function c2f(number) {\n  return (number * 9/5) + 32;\n};\n\nexport function f2kelvin(number) {\n  return (number - 32) * 5/9 + 273.15;\n};\n\nexport function kelvin2f(number) {\n  return (number - 273.15) * 9/5 + 32\n};\n\nexport function c2kelvin(number) {\n  return number + 273.15;\n};\n\nexport function kelvin2c(number) {\n  return number - 273.15;\n};\n\nfunction tanh(number) {\n  return (Math.exp(number) - Math.exp(-number)) / (Math.exp(number) + Math.exp(-number));\n};\n\n\n// PUBLIC FUNCTIONS\n\n// * Total fermentable weight\nexport function totalFermentableWeight(malts) {\n  return parseFloat(malts.reduce((accumulator, currentValue) => (\n    accumulator + +currentValue.weight\n  ), 0).toFixed(2));\n};\n\n// * Total hop weight\nexport function totalHopWeight(hops) {\n  let totalHops = 0;\n  hops.forEach(hop => {\n    totalHops += hop.weight ? hop.weight : 0;\n  });\n return parseFloat(totalHops.toFixed(5));\n};\n\n// * Total Water\nexport function totalWater(batchSize, boilTime, boilOff, grainWeight, options) {\n  // boilTime is in hours, hense (boilTime / 60)\n  // totalWater = (((batchSize + trubLoss) / (1 - (shrinkage / 100))) / (1 - (boilTime * (boilOff / 100)))) + equipmentLoss + (grainWeight * absorptionRate)\n  const {trubLoss, equipmentLoss, absorptionRate} = options;\n  batchSize = parseFloat(batchSize);\n  boilTime = parseFloat(boilTime);\n  boilOff = parseFloat(boilOff);\n  grainWeight = parseFloat(grainWeight);\n\n  const totalWater = (((batchSize + trubLoss) / (1 - (shrinkage / 100))) / (1 - ((boilTime / 60) * (boilOff / 100)))) + equipmentLoss + (grainWeight * absorptionRate);\n  return parseFloat(totalWater.toFixed(4));\n};\n\n// * BIAB Total Water\nexport function totalBIABWater(batchSize, boilTime, boilOff, grainWeight, hopWeight, options) {\n  const {trubLoss, absorptionRate, hopAbsorptionRate} = options;\n  batchSize = parseFloat(batchSize);\n  boilTime = parseFloat(boilTime);\n  boilOff = parseFloat(boilOff);\n  grainWeight = parseFloat(grainWeight);\n  hopWeight = parseFloat(hopWeight);\n\n  const totalWater = (((batchSize + ((boilTime / 60) * boilOff)) + (absorptionRate * grainWeight)) + (hopAbsorptionRate * hopWeight)) + trubLoss;\n  return parseFloat(totalWater.toFixed(2));\n};\n\n// * Strike Water Volume\nexport function strikeVolume(grainWeight, ratio = 1.5) {\n  const sVol = (ratio * grainWeight) / 4;\n  return parseFloat(sVol.toFixed(2));\n};\n\n// * Strike Water Temperature\nexport function strikeTemp(grainTemp, targetTemp, ratio, factor) {\n  // R - ratio of water to grain, T1 - initial temp of grain, T2 - mash temp target\n  // Strike Water Temperature Tw = (0.2 / R)(T2 - T1) + T2\n  const useFactor = factor ? factor : 1; // the factor is for equipment temp losses\n  const Tw = ((thermodynamicConstant / ratio) * (targetTemp - (grainTemp * useFactor)) + parseInt(targetTemp)).toFixed(2);\n  return parseInt(Tw, 10); // round it\n};\n\n// * BIAB Strike Water Temperature\nexport function biabStrikeTemp(totalWater, grainWeight, targetTemp, grainTemp, units = 'us') {\n  // (.2/((totalwater/grain)*4))*(mashTemp-grainTemp)+mashTemp\n  const thermoConst = units !== 'us' ? 0.41 : thermodynamicConstant;\n  const Tw = ((thermoConst / ((totalWater / grainWeight) * 4)) * (targetTemp - grainTemp) + parseInt(targetTemp)).toFixed(2);\n  return parseInt(Tw, 10);\n};\n\n// Mash Infusion Equation:\nexport function infusionWaterVol(targetTemp, initailTemp, grainVol, totalMashVol, infusionWaterTemp) {\n  // totalMashVol is in QUARTS\n  // result is in QUARTS\n  // Wa = (T2 - T1)(.2G + Wm)/(Tw - T2)\n  const one = targetTemp - initailTemp;\n  const two = (0.2 * grainVol) + Number(totalMashVol);\n  const three = infusionWaterTemp - targetTemp;\n  const result = one * two / three;\n  return parseFloat(result.toFixed(2));\n};\n\n// * Sparge Water Volume\nexport function spargeVolume(totalWater, mashVolume) {\n  return parseFloat((totalWater - mashVolume).toFixed(2));\n}\n\n// Boil-Off Evaporation Percentage\nexport function evaporationPercent(preBoil, postBoil, boilTime) {\n  // [V(pb) - V(ab)] / time of boil\n\n  preBoil = parseFloat(preBoil);\n  postBoil = parseFloat(postBoil);\n  const boilTimeCorrction = parseFloat(boilTime / 60);\n\n  return parseFloat( ((preBoil - postBoil) / preBoil * 10) / boilTimeCorrction ).toFixed(2);\n};\n\n// * BIAB Total Mash Volume\nexport function totalMashVolume(totalWaterVol, grainWeight) {\n  // Mash volume plus grains. Used to see if the batch will fit in the kettle.\n  const grainSpace = 0.08; // grain takes up 0.08 gallons/pound or 0.667 L/kg\n  return ((grainWeight * grainSpace) + totalWaterVol).toFixed(2);\n};\n\n// * Mash Efficiency %\nexport function mashEfficiency(malts, volume, gravity) {\n  let extraction = 0;\n  malts.forEach(malt => {\n    extraction += malt.potential * malt.weight;\n  });\n  return (((volume * (gravity * 1000 - 1000)) / extraction) * 100).toFixed(0);\n};\n\n// * Pre-Boil Gravity\nexport function preBoilG(OG, grainVol, totalWaterVol, batchSize, equipmentLoss, absorptionRate, batchType = 'allGrain') {\n  const PBVol = preBoilVol(totalWaterVol, grainVol, equipmentLoss, absorptionRate, batchType);\n  // Pre-boil specific gravity points = (Post-boil volume * Post-boil gravity points) / Pre-boil volume\n  const PreBoilG = (batchSize * convertToGravityPoints(OG)) / PBVol;\n\n  // convert back to gravity units and return\n  return convertToGravityUnits(PreBoilG);\n};\n\n// * Pre-Boil Volume\nexport function preBoilVol(totalWaterVol, grainVol, equipmentLoss, absorptionRate, batchType = 'allGrain') {\n  // totalWaterVol - (grainVol * absorptionRate) - equipmentLoss\n  const loss = batchType === 'BIAB' ? 0 : equipmentLoss;\n  const result = totalWaterVol - (grainVol * absorptionRate) - loss;\n  return parseFloat(result.toFixed(2));\n};\n\n// Partial Mash Top-off\nexport function partialMashTopOff(preBoilVolume, strikeVolume, grainVol, absorptionRate) {\n  const result = preBoilVolume - (strikeVolume - (grainVol * absorptionRate));\n  return parseFloat(result.toFixed(2));\n};\n\n// * Original Gravity\nexport function OG(malts, mashEfficiency, batchSize, fermentableUnits) {\n  mashEfficiency = parseFloat(mashEfficiency);\n  batchSize = parseFloat(batchSize);\n\n  let totalPoints = 0,\n      OG = null;\n\n  for ( let i = 0; i < malts.length; i++ ) {\n    const weight = fermentableUnits === 'percent' ? malts[i].calculatedWeight : malts[i].weight;\n    totalPoints += malts[i].potential * weight;\n  }\n\n  // multiply by mash efficiency\n  OG = totalPoints * (mashEfficiency/100) / batchSize;\n\n  // convert back to gravity units and return\n  return convertToGravityUnits(OG);\n};\n\n// * Target Yeast Pitching Rate\nexport function targetPitchingRate(OG, vol, targetRate) {\n  // Target pitch rate: million cells / ml / degree plato\n  const rate = (targetRate * 1000000) * gal2ml(vol) * convertToPlato(OG);\n  return parseFloat((rate / 1000000000).toPrecision(3));\n};\n\n// * Yeast Pitching Rate\nexport function pitchingRate(type, cellCount, amount, dateBrewed, dateManufactured = null) {\n  const date = dateBrewed ? Date.parse(dateBrewed) : Date.now();\n  let viableCells;\n  if (type === 'liquid') {\n    const daysElapsed = Math.floor((date - Date.parse(dateManufactured)) / 86400000);\n    const liquidCells = cellCount * amount * 1000000;\n    viableCells = liquidCells - (liquidCells * ((daysElapsed * 0.7) / 100));\n  } else if (type === 'dry') {\n    viableCells = cellCount * amount * 1000000;\n  }\n  const result = (viableCells / 1000000).toPrecision(3);\n  return result > cellCount * amount ? cellCount : parseFloat(result);\n};\n\n// * Final Gravity\nexport function FG(OG, attenuation) {\n  // (Gravity points - (Gravity points * Attenuation rate%) + 1000) / 1000\n  const gravity = convertToGravityPoints(OG);\n  const aPercentage = attenuation/100;\n\n  return parseFloat(((gravity - (gravity * aPercentage) + 1000) / 1000).toFixed(3));\n};\n\n// * Alcohol Content\nexport function alcoholContent(OG, FG, type = 'ABV') {\n  // ABW = (OE - RE) / (2.0665 - (.010665 * OE) )      - alcohol by weight\n  // ABV = (ABW * (FG / .794) )                        - alcohol by vol\n  const OE = convertToPlato(OG);\n  const AE = convertToPlato(FG);\n  const RE = calculateRealExtract(OE, AE);\n  const ABW = (OE - RE) / (2.0665 - (.010665 * OE) );\n  const ABV = (ABW * (FG / .794) );\n\n  const result = type === 'ABW' ? ABW.toFixed(2) : ABV.toFixed(2);\n\n  return parseFloat(result);\n};\n\n// * Attenuation\nexport function attenuation(OG, FG) {\n  // A = 100 * (OG – FG)/(OG – 1.0)\n  const A = (100 * (OG - FG)/(OG - 1.0)).toFixed(1);\n  return A;\n};\n\n// Utilization calculator for hte IBU Calculator\nfunction getWhirlpoolUtilization(hop) {\n  if (hop.use === 'whirlpool') {\n    const T = f2kelvin(hop.whirlpoolTemp);\n    const whirlpoolUtilization = 2.39 * Math.pow(10, 11) * Math.pow(2.71828, (-9773/T));\n    return parseFloat(whirlpoolUtilization.toFixed(2) > 1 ? 1 : whirlpoolUtilization.toFixed(2));\n  } else {\n    return 1; // 100%\n  }\n};\n\n// * IBU\nexport function IBU(hops, OG, vol, type = 'rager') {\n  // TODO: sepatate the unit conversions out of this function\n\n  let IBU = 0,\n      multiplier = 1;\n\n  for ( let i = 0; i < hops.length; i++ ) {\n    if (hops[i].use === 'first wort') { multiplier = hops[i].multiplier * 0.01 + 1; }\n    if (hops[i].use === 'mash') { multiplier = 0.125; }\n    if (hops[i].lengthInBoil || hops[i].days) {\n      const utilizationFactor = hops[i].form === 'pellet' ? 1.15 : 1.0;\n\n      if (type === 'tinseth') {\n        const utilization = (1.65 * Math.pow(0.000125, OG - 1.0) * ((1 - Math.pow(Math.E, -0.04 * hops[i].lengthInBoil)) / 4.15));\n        const whirlpoolUtilization = getWhirlpoolUtilization(hops[i]);\n        IBU += (utilization * whirlpoolUtilization) * ((hops[i].alphaAcid / 100.0 * oz2kg(hops[i].weight) * 1000000) / gal2l(vol) * utilizationFactor);\n      } else if (type === 'rager') {\n        const utilization = 18.11 + 13.86 * tanh((hops[i].lengthInBoil - 31.32) / 18.27);\n        const whirlpoolUtilization = getWhirlpoolUtilization(hops[i]);\n        const adjustment = Math.max(0, (OG - 1.050) / 0.2);\n        // multiply by the multiplyer for first wort calculations\n        IBU += (oz2kg(hops[i].weight) * 100 * (utilization * whirlpoolUtilization) * utilizationFactor * hops[i].alphaAcid / (gal2l(vol) * (1 + adjustment))) * multiplier;\n      }\n    }\n  }\n\n  return !isNaN(IBU) ? parseFloat(IBU.toFixed(2)) : undefined;\n};\n\n// * SRM\nexport function SRM(malts, vol, units = 'weight') {\n  // MCU = (grain_color * grain_weight_lbs) / volume_gallons - Malt Color Units\n  // SRM = 1.4922 * [MCU ^ 0.6859] - The more accurate Morey equation\n  let MCU = 0,\n      SRM;\n\n  for ( let i = 0; i < malts.length; i++ ) {\n    if (units === 'percent') {\n      MCU += (malts[i].lovibond * malts[i].calculatedWeight) / vol;\n    } else {\n      MCU += (malts[i].lovibond * malts[i].weight) / vol;\n    }\n    MCU = Infinity === MCU ? 0 : MCU;\n  }\n\n  SRM = (1.4922 * Math.pow(MCU, 0.6859)).toFixed(2);\n\n  return SRM > 0 ? parseFloat(SRM) : undefined;\n};\n\n// * CO2\nexport function CO2(temp, vol, type, beerVol) {\n  let X,\n      dissolvedCO2 = ((-0.9753) * Math.log(temp) + 4.9648);\n      beerVol = null === beerVol ? 5 : '' === beerVol.toString() ? 5 : beerVol;\n\n  switch (type) {\n    case 'forced':\n      // P = -16.6999 - 0.0101059*T + 0.00116512*T^2 + 0.173354*T*V + 4.24267*V - 0.0684226*V^2\n      X = (-16.6999 - (0.0101059 * temp) + (0.00116512 * Math.pow(temp, 2)) + (0.173354 * temp * vol) + (4.24267 * vol) - (0.0684226 * Math.pow(vol, 2))).toFixed(2);\n      break;\n    case 'cornSugar':\n      X = ((((Number(vol) - dissolvedCO2) * 4 * (beerVol * 3.8)) / 28.34952) * 1).toFixed(2);\n      break;\n    case 'caneSugar':\n      X = ((((Number(vol) - dissolvedCO2) * 4 * (beerVol * 3.8)) / 28.34952) * 0.91).toFixed(2);\n      break;\n    case 'dme':\n      X = ((((Number(vol) - dissolvedCO2) * 5.33 * (beerVol * 3.8) ) / 28.34952) * 0.91).toFixed(2);\n      break;\n    default:\n      break;\n  }\n\n  return parseFloat(X);\n};","import React, { useEffect } from 'react';\n\nimport styles from './Select.module.scss';\n\nexport interface SelectOptionItem {\n  option: JSX.Element | string;\n  value: number | string;\n  label?: string;\n}\n\ninterface OptionProps extends SelectOptionItem {\n  selected: boolean;\n  focused: boolean;\n  onSelect: (value: number | string) => void;\n  onHover?: (event: React.MouseEvent<HTMLDivElement>) => void;\n  onBlur?: () => void;\n}\n\nconst SelectOption: React.FC<OptionProps> = (\n  {\n    option,\n    value,\n    selected,\n    focused,\n    onSelect,\n    onHover,\n    onBlur\n  }\n) => {\n\n  useEffect(() => {\n    const handleKeyPress = (event: KeyboardEvent) => {\n      if (event.code === \"Enter\") {\n        onSelect(value);\n      }\n    }\n    focused && document.addEventListener(\"keypress\", handleKeyPress);\n\n    return () => {\n      focused && document.removeEventListener(\"keypress\", handleKeyPress);\n    }\n  }, [onSelect, value, focused]);\n\n  return <div\n    role=\"option\"\n    aria-selected={selected}\n    className={\n      `${styles.option} ${focused ? styles.focused : \"\"} ${selected ? styles.selected : \"\"}`\n    }\n    onClick={() => onSelect(value)}\n    onMouseOver={(event: React.MouseEvent<HTMLDivElement>) => onHover && onHover(event)}\n    onMouseOut={() => onBlur && onBlur()}\n  >\n    {option}\n  </div>;\n};\n\nexport default SelectOption;","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport SelectOption, { SelectOptionItem } from './SelectOption';\n\nimport styles from './Select.module.scss';\n\ninterface SelectProps {\n  options: SelectOptionItem[];\n  value: string | number;\n  onChange: (event: {currentTarget: {value: number | string}}) => void;\n  className?: string;\n  placeholder?: string;\n  useSearch?: boolean;\n  optionHoverEffect?: (event: React.MouseEvent<HTMLInputElement>, delay?: number) => void;\n  optionBlurEffect?: () => void;\n  onMouseOut?: (delay?: number) => void;\n  dropdownClosed?: () => void;\n}\n\nconst Select: React.FC<SelectProps> = ({\n    options,\n    value,\n    onChange,\n    className,\n    placeholder,\n    optionHoverEffect,\n    optionBlurEffect,\n    onMouseOut,\n    dropdownClosed,\n    useSearch = false\n}) => {\n  const [open, setOpen] = useState<boolean>(false);\n  const [hasFocus, setHasFocus] = useState<boolean>(false);\n  const [isSearching, setIsSearching] = useState<boolean>(false);\n  const [focusedIndex, setFocusedIndex] = useState<number>(0);\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\n  const [optionsLength, setOptionsLength] = useState<number>(options.length);\n  const selectRef: any = useRef<HTMLDivElement>(null);\n  const selectOptionsRef: any = useRef<HTMLDivElement>(null);\n  const searchInputRef: any = useRef<HTMLInputElement>(null);\n\n  const moveFocusUp = useCallback(() => {\n    focusedIndex > 0 && setFocusedIndex(focusedIndex - 1);\n  }, [focusedIndex]);\n\n  const moveFocusDown = useCallback(() => {\n    focusedIndex < optionsLength - 1 && setFocusedIndex(focusedIndex + 1);\n  }, [focusedIndex, optionsLength]);\n\n  const handleHover = useCallback((option: SelectOptionItem, event: React.MouseEvent<HTMLDivElement> | KeyboardEvent) => {\n    const focusedNode = event.target as HTMLElement;\n    const target = focusedNode.className.includes('option') ? event.currentTarget : selectOptionsRef.current.children[focusedIndex];\n    const delay = focusedNode.className.includes('option') ? 500 : 0;\n    const newEvent = {currentTarget: target} as React.MouseEvent<HTMLInputElement>;\n    newEvent.currentTarget.value = option.value.toString();\n    optionHoverEffect && optionHoverEffect(newEvent, delay);\n  }, [optionHoverEffect, focusedIndex]);\n\n  useEffect(() => {\n    const handleClick = (event: MouseEvent) => {\n      if (open) {\n        const element = event.target as HTMLElement;\n        const targetIsSvg = element.nodeName === 'path' || element.nodeName === 'rect' || element.nodeName === 'text';\n\n        if (!targetIsSvg && element.className?.includes('selectSearch')) {\n          return null;\n        }\n\n        if (targetIsSvg) {\n          return null;\n        }\n\n        if (\n          !targetIsSvg &&\n          ['searchAndFilters', 'placeholder', 'closeButton']\n            .some(string => element.className.includes(string))\n        ) {\n          setIsSearching(!isSearching);\n          return null;\n        }\n\n        if (\n          (selectOptionsRef.current &&\n          !selectOptionsRef.current.contains(element) &&\n          !element.className.includes('Popup'))\n        ) {\n          setOpen(false);\n          setFocusedIndex(0);\n          setSearchTerm(\"\");\n          setIsSearching(false);\n          dropdownClosed && dropdownClosed();\n        }\n      }\n    };\n\n    const resetFocus = () => {\n      setIsSearching(false);\n      selectRef.current.focus();\n    }\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (open) {\n        const searchAndFiltersHeight = useSearch ? 41 : 0;\n        const topOfScrollableElement = selectOptionsRef.current.scrollTop + searchAndFiltersHeight;\n        const bottomOfScrollableElement = selectOptionsRef.current.scrollTop + selectOptionsRef.current.offsetHeight + searchAndFiltersHeight;\n        let focusedOption = selectOptionsRef.current.children[focusedIndex];\n\n        switch (event.code) {\n          case 'ArrowUp':\n            event.preventDefault();\n            if (!focusedOption) {\n              return;\n            }\n            resetFocus();\n            moveFocusUp();\n            focusedOption = focusedIndex > 0\n              ? selectOptionsRef.current.children[focusedIndex-1]\n              : focusedOption;\n            if (focusedOption.offsetTop - 5 < topOfScrollableElement) {\n              selectOptionsRef.current.scrollTop = focusedOption.offsetTop - searchAndFiltersHeight - 5;\n            } else if (focusedOption.offsetTop > bottomOfScrollableElement) {\n              selectOptionsRef.current.scrollTop = focusedOption.offsetTop + focusedOption.offsetHeight - selectOptionsRef.current.offsetHeight - searchAndFiltersHeight;\n            }\n            onMouseOut && onMouseOut(0);\n            break;\n          case 'ArrowDown':\n            event.preventDefault();\n            if (!focusedOption) {\n              return;\n            }\n            resetFocus();\n            moveFocusDown();\n            focusedOption = focusedIndex < optionsLength - 1\n              ? selectOptionsRef.current.children[focusedIndex+1]\n              : focusedOption;\n            if (\n              focusedOption.offsetTop + 5 >= bottomOfScrollableElement ||\n              focusedOption.offsetTop < topOfScrollableElement\n            ) {\n              selectOptionsRef.current.scrollTop = focusedOption.offsetTop - searchAndFiltersHeight - 5;\n            }\n            onMouseOut && onMouseOut(0);\n            break;\n          case 'ArrowLeft':\n            handleHover(options[focusedIndex], event);\n            break;\n          case 'ArrowRight':\n            onMouseOut && onMouseOut(0);\n            break;\n          case 'Enter':\n            isSearching && event.preventDefault();\n            break;\n          default:\n            return;\n        }\n      } else if (hasFocus && event.code === 'ArrowDown') {\n        event.preventDefault();\n        setOpen(true);\n      }\n    }\n\n    document.addEventListener('mousedown', handleClick);\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('mousedown', handleClick);\n      document.removeEventListener('keydown', handleKeyDown);\n    }\n  }, [\n    options,\n    open,\n    hasFocus,\n    moveFocusUp,\n    moveFocusDown,\n    focusedIndex,\n    optionsLength,\n    setIsSearching,\n    isSearching,\n    useSearch,\n    dropdownClosed,\n    handleHover,\n    onMouseOut\n  ]);\n\n  useEffect(() => {\n    const filteredOptions = options.filter((option: SelectOptionItem) => {\n      const optionText = option.label ?\n        option.label :\n        typeof option.option === \"string\" ?\n          option.option as string :\n          null;\n      if (!searchTerm) {\n        return option;\n      }\n      return optionText && optionText.toLowerCase().includes(searchTerm.toLowerCase());\n    });\n    setOptionsLength(filteredOptions.length);\n  }, [searchTerm, options]);\n\n  useEffect(() => {\n    if (isSearching) {\n      searchInputRef.current.focus();\n    }\n  }, [isSearching]);\n\n  const handleSelect = (value: number | string) => {\n    onChange({currentTarget: {value: value}});\n    setIsSearching(false);\n    setSearchTerm(\"\");\n    setOpen(false);\n    setFocusedIndex(0);\n  }\n\n  const onFocus = () => {\n    setHasFocus(true);\n  };\n\n  const onBlur = () => {\n    setHasFocus(false);\n  };\n\n  const handleBlur = () => {\n    optionBlurEffect && optionBlurEffect();\n  }\n\n  const currentlySelectedOption = options.find(option => option.value === value);\n\n  return (\n    <div\n      className={`${styles.selectContainer} ${className}`}\n      onClick={() => !open && setOpen(true)}\n      role=\"button\"\n      tabIndex={0}\n      ref={selectRef}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      onMouseOut={() => onMouseOut && onMouseOut()}\n    >\n      <span>{!!currentlySelectedOption ? currentlySelectedOption?.label || currentlySelectedOption?.option : placeholder}</span>\n      <div\n        className={`${styles.selectDropdown} ${open && styles.open}`}\n        aria-expanded={open}\n      >\n        {useSearch && (\n          <div className={`${styles.searchAndFilters} ${isSearching ? styles.isSearching : \"\"}`}>\n            {!isSearching &&\n              <span\n                className={`${styles.placeholder} ${searchTerm.length > 0 ? styles.isSearching : \"\"}`}\n              >\n                {searchTerm || \"Search\"}\n              </span>\n            }\n            {isSearching && (\n              <>\n                <input\n                  type=\"text\"\n                  placeholder=\"Search\"\n                  ref={searchInputRef}\n                  className={styles.selectSearch}\n                  value={searchTerm}\n                  onChange={(e: React.ChangeEvent<HTMLInputElement>) => setSearchTerm(e.target.value)}\n                />\n                <button\n                  type=\"button\"\n                  tabIndex={0}\n                  className={styles.closeButton}\n                />\n              </>\n            )}\n          </div>\n        )}\n        <div\n          className={`${styles.selectOptions}`}\n          ref={selectOptionsRef}\n        >\n          {open && options.filter((option: SelectOptionItem) => {\n            const optionText = option.label ?\n              option.label :\n                typeof option.option === \"string\" ?\n                  option.option as string :\n                  null;\n            if (!searchTerm) {\n              return option;\n            }\n            return optionText && optionText.toLowerCase().includes(searchTerm.toLowerCase());\n          }).map((option: SelectOptionItem, index: number) => (\n            <SelectOption\n              key={option.value}\n              focused={focusedIndex === index}\n              selected={option.value === value}\n              onSelect={handleSelect}\n              onHover={(event: React.MouseEvent<HTMLDivElement>) => handleHover(option, event)}\n              onBlur={() => handleBlur()}\n              {...option}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Select;","export const UNITS = [\n  'g',\n  'mg',\n  'kg',\n  'ml',\n  'L',\n  'pkg',\n  'items',\n  'drops',\n  'tsp',\n  'tbsp',\n  'cup',\n  'pt',\n  'qt',\n  'gal',\n  'oz',\n  'lb'\n];\n\nexport const ADJUNCT_TYPES = [\n  {label: 'flavor', value: 1},\n  {label: 'spice', value: 2},\n  {label: 'herb', value: 3},\n  {label: 'fining', value: 4},\n  {label: 'water agent', value: 5},\n  {label: 'other', value: 6}\n];\n\nexport const ADJUNCT_USE = [\n  'mash',\n  'boil',\n  'primary',\n  'secondary',\n  'bottling'\n];\n\n\nexport const HOP_USE = [\n  'mash',\n  'first wort',\n  'boil',\n  'aroma',\n  'whirlpool',\n  'dry hop',\n];\n\nexport const PITCHING_RATES = [\n  {value:\"0.35\", option:\"0.35 (Mfr. rate for Ale)\"},\n  {value:\"0.5\", option:\"0.5 (Mfr. rate for Ale)\"},\n  {value:\"0.75\", option:\"0.75 (Ale)\"},\n  {value:\"1.0\", option:\"1.0 (Ale)\"},\n  {value:\"1.25\", option:\"1.25 (High OG Ale)\"},\n  {value:\"1.5\", option:\"1.5 (Lager)\"},\n  {value:\"1.75\", option:\"1.75 (Lager)\"},\n  {value:\"2.0\", option:\"2.0 (High OG Lager)\"},\n];\n\nexport const INGREDIENTS_GRAPH_COLORS = {\n  finishing: '#92f132',\n  bittering: '#3ae492',\n  dualPurpose: '#16a05e',\n  base: '#ffdb4a',\n  caramelCrystal: '#d48d1c',\n  adjunctGrains: '#ffefb3',\n  kilnedToasted: '#cf6f00',\n  roasted: '#894200',\n  sugars: '#c4c4c4',\n};","import React, { useState, useEffect } from \"react\";\n\nimport styles from \"./Forms.module.scss\";\nimport Info from \"../Info/Info\";\nimport { useUser } from \"../../store/UserContext\";\nimport { BrewInterface } from \"../../store/BrewContext\";\nimport { l2gal, gal2l } from \"../../resources/javascript/calculator\";\nimport Select from \"../Select/Select\";\nimport { PITCHING_RATES } from \"../../resources/javascript/constants\";\n\ninterface Props {\n  brew: BrewInterface;\n  dataUpdated: Function;\n  delete: Function;\n}\n\nfunction BrewSettingsForm(props: Props) {\n  const [user] = useUser();\n  const [formData, setFormData] = useState({\n    ...props.brew,\n    targetPitchingRate: props.brew.targetPitchingRate\n      ? props.brew.targetPitchingRate\n      : \"0.75\"\n  });\n\n  const dataChanged = (type: string) => (event: any) => {\n    let data;\n    if (type === \"dateBrewed\") {\n      const now = new Date();\n      const hours = now.getHours();\n      const minutes = now.getMinutes();\n      data = `${event.currentTarget.value}T${hours}:${minutes}`;\n    } else if (type === \"batchSize\") {\n      data =\n        user.units === \"metric\"\n          ? l2gal(event.currentTarget.value)\n          : event.currentTarget.value;\n    } else {\n      data = event.currentTarget.value;\n    }\n    setFormData({ ...formData, [type]: data });\n  };\n\n  const getFormattedDate = (date: string | Date) => {\n    const d = new Date(date);\n    const month = (\"0\" + (d.getMonth() + 1)).slice(-2);\n    const day = (\"0\" + d.getDate()).slice(-2);\n    const year = d.getFullYear();\n\n    return `${year}-${month}-${day}`;\n  };\n\n  useEffect(() => {\n    props.dataUpdated(formData);\n  }, [formData, props]);\n\n  useEffect(() => {\n    if (!formData.mashEfficiency) {\n      setFormData({...formData, mashEfficiency: user.mash_efficiency ? user.mash_efficiency : ''});\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <label>\n        Name\n        <br />\n        <input\n          type=\"text\"\n          placeholder=\"New Brew\"\n          defaultValue={`${props.brew.name}`}\n          onChange={dataChanged(\"name\")}\n        />\n      </label>\n      <label>\n        Brew Date\n        <br />\n        <input\n          type=\"date\"\n          defaultValue={\n            props.brew.dateBrewed\n              ? getFormattedDate(props.brew.dateBrewed).toString()\n              : \"\"\n          }\n          onChange={dataChanged(\"dateBrewed\")}\n        />\n      </label>\n      <div className={styles.row}>\n        <label>\n          Batch Type\n          <br />\n          <Select\n            options={[\n              {value:\"\", option:\"Choose One\"},\n              {value:\"allGrain\", option:\"All Grain\"},\n              {value:\"BIAB\", option:\"BIAB\"},\n              {value:\"partialMash\", option:\"Partial Mash\"},\n              {value:\"extract\", option:\"Extract\"},\n            ]}\n            value={formData.batchType || \"\"}\n            onChange={dataChanged('batchType')}\n            className=\"capitalize lightInput\"\n          />\n        </label>\n        <label>\n          Units (global change)&nbsp;\n          <Info\n            alignment=\"top-right\"\n            info=\"The&nbsp;units&nbsp;are&nbsp;managed at the account level. Go to your profile to switch. This will only change how units are displayed, and will not have any other affect on saved brews.\"\n          />\n          <br />\n          <span className={styles.info}>Current: <strong>{`${user.units === \"metric\" ? \"Metric\" : \"US\"}`}</strong></span>\n        </label>\n      </div>\n      <div className={styles.row}>\n        <label>\n          Batch Size ({user.units === \"metric\" ? \"L\" : \"gal\"})&nbsp;\n          <Info\n            alignment=\"top-right\"\n            info=\"Volume&nbsp;of&nbsp;wort you expect to transfer to the fermentor.\"\n          />\n          <br />\n          <input\n            type=\"number\"\n            placeholder={user.units === \"metric\" ? \"22.5\" : \"6\"}\n            step=\"0.1\"\n            defaultValue={`${\n              user.units === \"metric\"\n                ? parseFloat(gal2l(props.brew.batchSize).toFixed(2))\n                : props.brew.batchSize\n            }`}\n            onChange={dataChanged(\"batchSize\")}\n          />\n        </label>\n        <label>\n          Mash Efficiency (%){\" \"}\n          <Info\n            alignment=\"top-right\"\n            info=\"Mash&nbsp;extraction efficiency in percentage.\"\n          />\n          <br />\n          <input\n            type=\"number\"\n            placeholder=\"75\"\n            value={`${formData.mashEfficiency}`}\n            onChange={dataChanged(\"mashEfficiency\")}\n          />\n        </label>\n      </div>\n      <label>\n        Target Pitching Rate (million cells / ml / °Plato){\" \"}\n        <Info\n          alignment=\"top-right\"\n          info=\"It is reccommended to use a rate highter than&nbsp;the&nbsp;manufacturer's.\"\n        />\n        <br />\n        <Select\n          options={PITCHING_RATES}\n          value={`${formData.targetPitchingRate}`}\n          onChange={dataChanged('targetPitchingRate')}\n          className=\"capitalize lightInput\"\n        />\n      </label>\n      {props.brew.id ? (\n        <button\n          className={`button button--error button--no-shadow ${styles.fullButton}`}\n          onClick={() => props.delete()}\n        >\n          {props.brew.isDraft ? `Remove Draft` : `Remove Brew`}\n        </button>\n      ) : null}\n    </>\n  );\n}\n\nexport default BrewSettingsForm;\n","import React from 'react';\n\nexport const pen = \n  <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n    <title></title>\n    <g id=\"icomoon-ignore\">\n    </g>\n    <path d=\"M512 80c0-44.183-35.817-80-80-80-26.174 0-49.409 12.572-64.004 32.004l-287.996 287.996 112 112 287.996-287.996c19.432-14.595 32.004-37.83 32.004-64.004z\"></path>\n    <path d=\"M0 512l48-160 112 112z\"></path>\n  </svg>\n;","import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nimport styles from './Forms.module.scss';\nimport { BrewInterface, FermentableInterface } from '../../store/BrewContext';\nimport { useUser } from '../../store/UserContext';\nimport { lb2kg, kg2lb, SRM, OG } from '../../resources/javascript/calculator';\nimport { pen } from '../../resources/javascript/penSvg.js';\nimport Select from '../Select/Select';\n\ninterface Props {\n  brew: BrewInterface;\n  editingData: FermentableInterface;\n  dataUpdated: Function;\n}\n\nasync function listAllFermentables() {\n  try {\n    return await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/ingredients/fermentables`)\n      .then(result => {\n        return result.data;\n      });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction AddFermentableForm(props: Props) {\n  const [user] = useUser();\n  const [formData, setFormData] = useState<FermentableInterface>({});\n  const [fermentables, setFermentables] = useState<FermentableInterface[]>([]);\n  const [projectedTotalSRM, setProjectedTotalSRM] = useState<number>(props.brew.srm ? props.brew.srm : 0);\n  const [projectedOG, setProjectedOG] = useState<number>(props.brew.og ? props.brew.og : 0);\n  const [editOG, setEditOG] = useState<boolean>(false);\n  const [targetOG, setTargetOG] = useState<number>(props.brew.fermentableUnits === 'percent'\n    ? props.brew.targetOG\n      ? props.brew.targetOG\n      : props.brew.og ? props.brew.og : 1.000\n    : props.brew.og ? props.brew.og : 1.000\n  );\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    // when formData changes, update the data in formHandler component\n    let dataToSet: FermentableInterface[] = [];\n    const fermentablesArray = props.brew.fermentables ? [...props.brew.fermentables] : [];\n    const index = props.editingData && props.editingData.index ? props.editingData.index : -1;\n\n    if (index > -1) {\n      dataToSet = [...fermentablesArray];\n      // index is passed as +1, so we need to subtract 1\n      dataToSet.splice(index-1, 1, formData);\n    } else {\n      dataToSet = [...fermentablesArray, formData];\n    }\n\n    // Update the projected SRM and OG\n    let fermentablesToCalculate = [...props.brew.fermentables];\n    // if we are editing a fermentable, remove it's index from the list here and add it back\n    // below so we don't end up with duplicates\n    if (props.editingData !== null) {\n      // @ts-ignore-line\n      fermentablesToCalculate.splice(props.editingData.index-1, 1);\n    }\n    if (props.brew.mashEfficiency && props.brew.batchSize) {\n      const pointsNeeded = parseFloat((((targetOG - 1) * 1000) * props.brew.batchSize).toPrecision(3));\n      const weightNeeded = parseFloat((pointsNeeded / ((props.brew.mashEfficiency / 100) * 36)).toFixed(2));\n      if (formData.units === 'percent') {\n        fermentablesToCalculate.map(fermentable => {\n          const fermentableWeight = fermentable.weight ? fermentable.weight : 0;\n          return fermentable.calculatedWeight = parseFloat((weightNeeded * (fermentableWeight / 100)).toFixed(2));\n        });\n      }\n      const brewsMalts = (formData.id && formData.id > 0) || (formData.custom && formData.custom.length > 0)\n        ? [...fermentablesToCalculate, {\n            potential: formData.potential ? formData.potential : 0,\n            weight: formData.weight ? formData.weight : 0,\n            calculatedWeight: parseFloat((weightNeeded * ((formData.weight ? formData.weight : 0) / 100)).toFixed(2)),\n            lovibond: formData.lovibond ? formData.lovibond : 0\n          }]\n        : fermentablesToCalculate;\n      const srm = SRM(brewsMalts, props.brew.batchSize, formData.units);\n      setProjectedTotalSRM(srm ? srm : 0);\n      setProjectedOG(OG(brewsMalts, props.brew.mashEfficiency, props.brew.batchSize));\n    }\n\n    // this lastIndex stuff is a check to make sure we don't submit an empty selection\n    const lastIndex = dataToSet.length - 1;\n    const name = dataToSet[lastIndex].name ? dataToSet[lastIndex].name : dataToSet[lastIndex].custom;\n    if (name && name.length > 0) {\n      props.dataUpdated(\n        {...props.brew, fermentables: dataToSet},\n        {targetOG: targetOG, units: formData.units}\n      );\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData, targetOG]);\n\n  useEffect(() => {\n    // load fermentables when component renders\n    listAllFermentables().then(result => {\n      setFermentables(result);\n    });\n    if (props.brew.fermentableUnits === 'percent') {\n      setFormData({...formData, units: 'percent'});\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    // reset form when submitted\n    if (props.brew.fermentableUnits === 'percent') {\n      setFormData({id: 0, units: 'percent'});\n    } else {\n      setFormData({id: 0});\n    }\n  }, [props.brew]);\n\n  useEffect(() => {\n    // if the form's editingData changes, we've selected something to edit.\n    // set the form default valies to be the data we're editing.\n    if (props.editingData !== null) {\n      if (props.brew.fermentableUnits === 'percent') {\n        setFormData({...props.editingData, units: 'percent'});\n      } else {\n        setFormData(props.editingData);\n      }\n    } else {\n      if (props.brew.fermentableUnits === 'percent') {\n        setFormData({id: 0, units: 'percent'});\n      } else {\n        setFormData({id: 0});\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.editingData]);\n\n  useEffect(() => {\n    // focus on target og input\n    if (editOG === true && inputRef.current) {\n      inputRef.current.focus();\n    }\n  }, [editOG]);\n\n  const dataChanged = (type: string) => (event: any) => {\n    let data: FermentableInterface = {};\n    if (type === 'fermentable') {\n      const choice = fermentables.find(fermentable => fermentable.id === parseInt(event.currentTarget.value));\n      data = choice ? choice : {};\n    } else if (type === 'custom') {\n      data.custom = event.currentTarget.value;\n    } else if (type === 'weight') {\n      data.weight = formData.units !== 'percent' && user.units === 'metric'\n        ? kg2lb(Number(event.currentTarget.value) + 0)\n        : Number(event.currentTarget.value) + 0;\n    } else if (type === 'units') {\n      data.units = event.currentTarget.value;\n    } else {\n      data[type] = Number(event.currentTarget.value) + 0;\n    }\n\n    if (data !== undefined) {\n      if (type === 'custom' && !formData['custom']) {\n        data['id'] = undefined;\n        data['extract'] = undefined;\n        data['lovibond'] = undefined;\n        data['name'] = '';\n        data['origin'] = '';\n        data['potential'] = undefined;\n      } else if (type === 'fermentable' && formData['custom']) {\n        data['custom'] = '';\n      }\n\n      setFormData({...formData, ...data});\n    }\n  };\n\n  const editOGInput = <input\n      id=\"editOG\"\n      className={styles.inline}\n      ref={inputRef}\n      type=\"number\"\n      step=\"0.001\"\n      placeholder=\"1.000\"\n      min=\"0\"\n      value={targetOG}\n      onChange={(event) => setTargetOG(Number(event.currentTarget.value))}\n      onBlur={() => setEditOG(false)}\n      onKeyDown={(event) => {\n        if (event.key === \"Enter\") {\n          setEditOG(false)\n        }\n      }}\n    />;\n\n  return(\n    <>\n      <label>Select Fermentable<br />\n        <Select\n          options={[\n            ...fermentables.map(fermentable => ({\n              label: fermentable.name,\n              option: <div className={styles.gridOption3Col}>\n                  <span className={`${styles.category} ${fermentable.category}`}>{fermentable.name}</span>\n                  <span className={styles.yellow}>{fermentable.origin}</span>\n                  <span className={styles.yellow}>{fermentable.lovibond}°L</span>\n                </div>,\n              value: fermentable.id || \"\"\n            }))\n          ]}\n          placeholder=\"Choose Fermentable\"\n          value={formData.id ? formData.id : 0}\n          onChange={dataChanged('fermentable')}\n          className={`capitalize lightInput ${formData.custom ? styles.unused : ''}`}\n          useSearch\n        />\n      </label>\n      <label><strong>Or</strong> add your own<br />\n        <input\n          type=\"text\"\n          placeholder=\"Fermentable Name\"\n          value={formData.custom ? formData.custom : ''}\n          onChange={dataChanged('custom')}\n          className={!formData.custom ? styles.unused : ''}\n        />\n      </label>\n      {formData.custom\n        ? <div className={styles.row}>\n            <label>Lovibond (color)<br />\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                placeholder=\"1\"\n                min=\"0\"\n                value={formData.lovibond ? formData.lovibond : ''}\n                onChange={dataChanged('lovibond')}\n              />\n            </label>\n            <label>Conversion Potential<br />\n              <input\n                type=\"number\"\n                step=\"1\"\n                placeholder=\"34\"\n                min=\"0\"\n                value={formData.potential ? formData.potential : ''}\n                onChange={dataChanged('potential')}\n              />\n            </label>\n          </div>\n        : null }\n      <div className={styles.row}>\n        <label>Weight ({formData.units === 'percent'\n          ? '%'\n          : user.units === 'metric' ? 'kg' : 'lb'})<br />\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            placeholder=\"0\"\n            min=\"0\"\n            value={formData.weight\n              ? formData.units !== 'percent' && user.units === 'metric'\n                ? parseFloat(lb2kg(formData.weight).toFixed(5))\n                : formData.weight\n              : ''}\n            onChange={dataChanged('weight')}\n          />\n        </label>\n        <label>Units<br />\n        <Select\n          options={[\n            {option: user.units === 'metric' ? 'kg' : 'lb', value: user.units === 'metric' ? 'kg' : 'lb'},\n            {option: 'percent', value: \"percent\"},\n          ]}\n          value={formData.units\n            ? formData.units\n            : user.units === 'metric' ? 'kg' : 'lb'}\n          onChange={dataChanged('units')}\n          className=\"lightInput\"\n        />\n        </label>\n      </div>\n      <p className={styles.extra}>\n        {props.brew.srm || (formData.lovibond && formData.weight && props.brew.batchSize)\n          ? <>Projected SRM: <strong>{projectedTotalSRM}</strong><br /></>\n          : null}\n        {props.brew.srm || (formData.lovibond && formData.weight && props.brew.batchSize)\n          ? formData.units === 'percent'\n              ? <>Target OG: <strong>{editOG === true ? editOGInput : Number(targetOG).toFixed(3)}</strong></>\n              : <>Projected OG: <strong>{Number(projectedOG).toFixed(3)}</strong></>\n          : null}\n        {(props.brew.srm || (formData.lovibond && formData.weight && props.brew.batchSize)) && formData.units === 'percent'\n          // if the brew is using percentages, show the OG editing buttons\n          ? <span className={styles.alignRight}>\n              <button\n                className={`button button--link ${styles.edit}`}\n                onClick={() => setEditOG(!editOG)}\n              >{pen}</button>\n              {/* // Not supporing unlocked OG if fermentable units is percent right now\n              <button\n                className={`button button--link ${lockOG ? styles.lock : styles.unlock}`}\n                onClick={() => setLockOG(!lockOG)}\n              >{lockOG ? locked : unlocked}</button> */}\n            </span>\n          : null}\n      </p>\n    </>\n  );\n};\n\nexport default AddFermentableForm;","import React, { useReducer, useContext, Dispatch } from 'react';\nimport { DataForGraph } from '../components/IngredientPopup/IngredientGraph';\nimport { Visibility } from './ModalContext';\n\ninterface PopupActions {\n  type: Visibility;\n  payload?: Popup;\n}\n\nexport interface PopupIngredient {\n  name: string;\n  category: string;\n  details?: string[];\n  description?: string;\n  graph: DataForGraph;\n}\n\nexport interface Popup {\n  show?: boolean;\n  closing?: boolean;\n  ingredient?: PopupIngredient;\n  coords?: DOMRect;\n}\n\nexport const PopupContext = React.createContext<{\n  state: Popup;\n  dispatch: Dispatch<PopupActions>;\n}>({\n  state: {},\n  dispatch: () => null\n});\n\nconst reducer = (state: Popup, action: PopupActions) => {\n  switch (action.type) {\n    case 'show':\n      state = {\n        show: true,\n        ingredient: action.payload?.ingredient,\n        coords: action.payload?.coords,\n        closing: false,\n      }\n      return state;\n    case 'hide':\n      state = {\n        ...state,\n        closing: true,\n      };\n      return state;\n    case 'cancelHide':\n      state = {\n        ...state,\n        closing: false,\n      };\n      return state;\n    case 'close':\n      state = {\n        show: false,\n        ingredient: undefined,\n        coords: undefined,\n        closing: false,\n      };\n      return state;\n    default:\n      throw new Error('Unexpected action');\n  }\n};\n\nconst PopupProvider = ({ children }: any) => {\n  const [state, dispatch] = useReducer(reducer, {});\n  return (\n    <PopupContext.Provider value={{state, dispatch}}>\n      {children}\n    </PopupContext.Provider>\n  );\n};\n\nconst usePopup = () => {\n  return useContext(PopupContext);\n};\n\nexport default PopupProvider;\nexport { usePopup };","import { ADJUNCT_TYPES } from \"./constants\";\n\nexport const getAdjunctById = (id?: number): string | undefined => {\n  if (!id) {\n    return undefined;\n  }\n  \n  const adjunct = ADJUNCT_TYPES.find(type => id === type.value);\n  return adjunct?.label;\n};\n\nexport const getAverageAA = (minAA: number, maxAA: number): number => {\n  return +((minAA + maxAA) / 2).toFixed(1);\n};","import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\n\nimport styles from './Forms.module.scss';\nimport Info from \"../Info/Info\";\nimport { BrewInterface, HopInterface } from '../../store/BrewContext';\nimport { useUser } from '../../store/UserContext';\nimport { oz2g, g2oz, IBU, f2c, c2f } from '../../resources/javascript/calculator';\nimport { HOP_USE } from '../../resources/javascript/constants';\nimport Select from '../Select/Select';\nimport { usePopup } from '../../store/PopupContext';\nimport { getAverageAA } from '../../resources/javascript/functions';\n\ninterface Props {\n  brew: BrewInterface;\n  editingData: HopInterface;\n  dataUpdated: Function;\n}\n\nexport interface HopFlavors {\n  tropical_fruit: number;\n  herbal: number;\n  floral: number;\n  vegital: number;\n  piney_resinous: number;\n  grassy: number;\n  spicy: number;\n  citrus: number;\n}\n\nexport interface HopResults {\n  id: number;\n  name: string;\n  origin: string;\n  alpha_min: number;\n  alpha_max: number;\n  category: \"finishing\" | \"bittering\" | \"dualPurpose\";\n  description: string;\n  flavor_profile: HopFlavors;\n}\n\nasync function listAllHops() {\n  try {\n    return await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/ingredients/hops`)\n      .then(result => {\n        return result.data;\n      });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction AddHopForm(props: Props) {\n  const {dispatch: popupDispatch} = usePopup();\n  const [user] = useUser();\n  const [formData, setFormData] = useState<HopInterface>({});\n  const [hops, setHops] = useState<HopResults[]>([]);\n  const [projectedTotalIBU, setProjectedTotalIBU] = useState<number>(props.brew.ibu ?? 0);\n  const timeout: any = useRef();\n\n  useEffect(() => {\n    // load hops when component renders\n    listAllHops().then(result => {\n      setHops(result);\n    });\n  }, []);\n\n  useEffect(() => {\n    // when formData changes, update the data in formHandler component\n    let dataToSet: HopInterface[] = [];\n    const hopsArray = props.brew.hops ? [...props.brew.hops] : [];\n    const index = props.editingData?.index ?? -1;\n\n    if (index > -1) {\n      dataToSet = [...hopsArray];\n      // index is passed as +1, so we need to subtract 1\n      dataToSet.splice(index-1, 1, formData);\n    } else {\n      dataToSet = [...hopsArray, formData];\n    }\n\n    // Update the projected IBU\n    let hopsToCalculate = [...props.brew.hops];\n    // if we are editing a hop, remove it's index from the list here and add it back\n    // below so we don't end up with duplicates\n    if (props.editingData !== null) {\n      // @ts-ignore-line\n      hopsToCalculate.splice(props.editingData.index-1, 1);\n    }\n    if (formData.use === 'first wort') {\n      formData.lengthInBoil = props.brew.boilLength;\n    } else if (formData.use === 'mash') {\n      let mashLength = 0;\n      props.brew.mash.forEach(step => {\n        mashLength += step.stepLength ? Number(step.stepLength) : 0;\n      });\n      formData.lengthInBoil = mashLength;\n    }\n    const brewsHops = (formData.id && formData.id > 0) || (formData.custom && formData.custom.length > 0)\n      ? [...hopsToCalculate, {\n          ...formData,\n          alphaAcid: formData.alphaAcid ? formData.alphaAcid : 0,\n          weight: formData.weight ? formData.weight : 0,\n        }]\n      : hopsToCalculate;\n    const ibus = IBU(brewsHops, props.brew.og, props.brew.batchSize, user.ibu_formula ? user.ibu_formula : 'rager');\n    setProjectedTotalIBU(ibus ? ibus : 0);\n\n    // this lastIndex stuff is a check to make sure we don't submit an empty selection\n    const lastIndex = dataToSet.length - 1;\n    const name = dataToSet[lastIndex].name ? dataToSet[lastIndex].name : dataToSet[lastIndex].custom;\n    if (name && name.length > 0) {\n      props.dataUpdated({...props.brew, hops: dataToSet});\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  useEffect(() => {\n    // reset form when submitted\n    setFormData({id: 0, use: 'boil', form: 'pellet'});\n  }, [props.brew]);\n\n  useEffect(() => {\n    // if the form's editingData changes, we've selected something to edit.\n    // set the form default valies to be the data we're editing.\n    if (props.editingData !== null) {\n      setFormData(props.editingData);\n    } else {\n      setFormData({id: 0, use: 'boil', form: 'pellet'});\n    }\n  }, [props.editingData]);\n\n  const dataChanged = (type: string) => (event: any) => {\n    clearTimeout(timeout.current);\n    popupDispatch({type: 'close'});\n    let data: HopInterface = {};\n    if (type === 'hop') {\n      const choice = hops.find(hop => hop.id === parseInt(event.currentTarget.value));\n      data = choice\n        ? {\n            id: choice.id,\n            name: choice.name,\n            alphaAcid: getAverageAA(choice.alpha_min, choice.alpha_max)\n          }\n        : {};\n    } else if (type === 'form' || type === 'custom') {\n      data[type] = event.currentTarget.value;\n    } else if (type === 'use' || type === 'custom') {\n      data[type] = event.currentTarget.value;\n      if (data[type] !== 'dry hop') {\n        data['days'] = undefined;\n      }\n      if (data[type] !== 'boil') {\n        data['lengthInBoil'] = undefined;\n      }\n      if (data[type] !== 'first wort') {\n        data['multiplier'] = undefined;\n      } else {\n        data['multiplier'] = 10;\n      }\n      if (data[type] !== 'whirlpool') {\n        data['whirlpoolTemp'] = undefined;\n      }\n    } else if (type === 'weight') {\n      data.weight = user.units === 'metric'\n        ? g2oz(Number(event.currentTarget.value) + 0)\n        : Number(event.currentTarget.value) + 0;\n    } else if (type === 'whirlpoolTemp') {\n      data[type] =\n        user.units === \"metric\"\n          ? c2f(event.currentTarget.value)\n          : event.currentTarget.value;\n    } else {\n      data[type] = Number(event.currentTarget.value) + 0;\n    }\n\n    if (data !== undefined) {\n      data.ibu = IBU(\n        [{...formData, ...data}],\n        props.brew.og,\n        props.brew.batchSize,\n        'rager'\n      );\n\n      if (type === 'custom' && !formData['custom']) {\n        data['id'] = undefined;\n        data['name'] = '';\n        data['alphaAcid'] = undefined;\n      } else if (type === 'hop' && formData['custom']) {\n        data['custom'] = '';\n      }\n\n      setFormData({...formData, ...data});\n    }\n  };\n\n  const openPopup = (event: React.MouseEvent<HTMLInputElement>, delay: number = 500) => {\n    if (+event.currentTarget.value === 0) {\n      return;\n    }\n    const hoveredHopId = +event.currentTarget.value;\n    const optionCoords = event.currentTarget.getBoundingClientRect();\n    clearTimeout(timeout.current);\n    timeout.current = window.setTimeout(() => {\n      const hoveredHop = hops.find((hop: HopResults) => hop.id === hoveredHopId);\n      if (!hoveredHop || !hoveredHop.description) {\n        popupDispatch({type: 'close'}); // don't show if not all the data is there\n        return;\n      }\n      popupDispatch({\n        type: 'show',\n        payload: {\n          ingredient: {\n            name: hoveredHop.name || \"\",\n            category: hoveredHop.category,\n            details: [\n              `${hoveredHop.alpha_min}-${hoveredHop?.alpha_max}% Alpha Acid`,\n              hoveredHop.origin || \"\"\n            ],\n            description: hoveredHop.description,\n            graph: {\n              type: 'hop',\n              values: [\n                {\n                  id: hoveredHopId,\n                  category: hoveredHop.category,\n                  attributes: {\n                    tropical_fruit: hoveredHop.flavor_profile.tropical_fruit,\n                    citrus: hoveredHop.flavor_profile.citrus,\n                    floral: hoveredHop.flavor_profile.floral,\n                    herbal: hoveredHop.flavor_profile.herbal,\n                    piney_resinous: hoveredHop.flavor_profile.piney_resinous,\n                    grassy: hoveredHop.flavor_profile.grassy,\n                    spicy: hoveredHop.flavor_profile.spicy,\n                    vegital: hoveredHop.flavor_profile.vegital,\n                  }\n                }\n              ]\n            }\n          },\n          coords: optionCoords\n        }\n      });\n    }, delay);\n  };\n\n  const closePopup = (delay: number = 250) => {\n    clearTimeout(timeout.current);\n    timeout.current = window.setTimeout(() => {\n      popupDispatch({type: 'hide'});\n    }, delay);\n  };\n\n  return(\n    <>\n      <label>Hop<br />\n        <Select\n          options={[\n            ...hops.map(hop => ({\n              label: hop.name,\n              option: <div className={styles.gridOption3Col}>\n                  <span className={`${styles.category} ${hop.category}`}>{hop.name}</span>\n                  <span className={styles.yellow}>{hop.origin}</span>\n                  <span className={styles.yellow}>{getAverageAA(hop.alpha_min, hop.alpha_max)}% AA</span>\n                </div>,\n              value: hop.id || \"\"\n            }))\n          ]}\n          placeholder=\"Choose Hop\"\n          value={formData.id ? formData.id : 0}\n          onChange={dataChanged('hop')}\n          className={`capitalize lightInput ${formData.custom ? styles.unused : ''}`}\n          useSearch\n          optionHoverEffect={openPopup}\n          onMouseOut={closePopup}\n          dropdownClosed={() => popupDispatch({type: 'close'})}\n        />\n      </label>\n      <label><strong>Or</strong> add your own<br />\n        <input\n          type=\"text\"\n          placeholder=\"Hop Name\"\n          value={formData.custom ? formData.custom : ''}\n          onChange={dataChanged('custom')}\n          className={!formData.custom ? styles.unused : ''}\n        />\n      </label>\n      <div className={styles.row}>\n        <label>Use<br />\n        <Select\n          options={HOP_USE.map(use => ({\n            option: use,\n            value: use\n          }))}\n          value={formData.use ? formData.use : 'boil'}\n          onChange={dataChanged('use')}\n          className=\"capitalize lightInput\"\n        />\n        </label>\n        <label>Form<br />\n          <Select\n            options={[\n              {option: 'Pellet', value: 'pellet'},\n              {option: 'Whole Leaf', value: 'leaf'}\n            ]}\n            value={formData.form ? formData.form : ''}\n            onChange={dataChanged('form')}\n            className=\"capitalize lightInput\"\n          />\n        </label>\n      </div>\n      <div className={\n        formData.use === 'boil'\n        || formData.use === 'dry hop'\n        || formData.use === 'first wort'\n        || formData.use === \"whirlpool\"\n          ? styles.rowThirds\n          : styles.row\n      }>\n        <label>Alpha Acid<br />\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            placeholder=\"0\"\n            min=\"0\"\n            value={formData.alphaAcid ? formData.alphaAcid : ''}\n            onChange={dataChanged('alphaAcid')}\n          />\n        </label>\n        <label>Weight ({user.units === 'metric' ? 'g' : 'oz'})<br />\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            placeholder=\"0\"\n            min=\"0\"\n            value={formData.weight\n              ? user.units === 'metric' ? parseFloat(oz2g(formData.weight).toFixed(5)) : formData.weight\n              : ''}\n            onChange={dataChanged('weight')}\n          />\n        </label>\n        {(formData.use === 'boil' || formData.use === 'whirlpool') &&\n          <label>Time (min)<br />\n            <input\n              type=\"number\"\n              step=\"1\"\n              placeholder=\"0\"\n              min=\"0\"\n              value={formData.lengthInBoil !== undefined && formData.lengthInBoil !== null\n                ? formData.lengthInBoil\n                : ''}\n              onChange={dataChanged('lengthInBoil')}\n            />\n          </label>\n        }\n        {formData.use === 'first wort' &&\n          <label>Multiplier %&nbsp;\n            <Info\n              alignment=\"top-right\"\n              info=\"First&nbsp;wort&nbsp;hopping&nbsp;generally adds about 10% to your ibu calculation using the total boil time. Setting the multiplier to 0 would be the same calculation as a hop addition for the full boil.\"\n            /><br />\n            <input\n              type=\"number\"\n              step=\"1\"\n              placeholder=\"10\"\n              value={formData.multiplier !== undefined && formData.multiplier !== null\n                ? formData.multiplier\n                : ''}\n              onChange={dataChanged('multiplier')}\n            />\n          </label>\n        }\n        {formData.use === 'dry hop' &&\n          <label>Days<br />\n            <input\n              type=\"number\"\n              step=\"1\"\n              placeholder=\"0\"\n              value={formData.days !== undefined ? formData.days : ''}\n              onChange={dataChanged('days')}\n            />\n          </label>\n        }\n        {formData.use === 'whirlpool' &&\n          <label>Temp (°{user.units === \"metric\" ? \"C\" : \"F\"})&nbsp;\n          <Info\n            alignment=\"top-right\"\n            info=\"Temperature&nbsp;of&nbsp;the whirlpool when adding&nbsp;hop&nbsp;addition.\"\n          />\n          <br />\n            <input\n              type=\"number\"\n              step=\"1\"\n              placeholder=\"0\"\n              value={formData.whirlpoolTemp\n                ? user.units === \"metric\"\n                  ? parseFloat(f2c(formData.whirlpoolTemp).toFixed(2))\n                  : formData.whirlpoolTemp\n                : ''}\n              onChange={dataChanged('whirlpoolTemp')}\n            />\n          </label>\n        }\n      </div>\n      <p className={styles.extra}>\n        {props.brew.ibu || (\n          formData.use\n          && (formData.lengthInBoil || formData.days)\n          && formData.form\n          && formData.alphaAcid\n          && formData.weight\n          && props.brew.og\n        )\n        ? <>Projected IBU: <strong>\n            {!props.brew.boilLength && formData.use === 'first wort'\n              ? 'set boil lengh to calculate'\n              : props.brew.mash.length === 0 && formData.use === 'mash'\n                ? 'add mash steps to calculate'\n                : projectedTotalIBU}\n          </strong><br /></>\n          : null}\n      </p>\n    </>\n  );\n};\n\nexport default AddHopForm;\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport styles from \"./Forms.module.scss\"\nimport { pitchingRate } from '../../resources/javascript/calculator';\nimport { BrewInterface, YeastInterface } from '../../store/BrewContext';\nimport Select from '../Select/Select';\n\ninterface Props {\n  brew: BrewInterface;\n  editingData: YeastInterface;\n  dataUpdated: Function;\n}\n\ninterface yeastResults extends YeastInterface {\n  cell_count: number;\n  average_attenuation: number;\n  manufacturer: string;\n}\n\nasync function listAllYeast() {\n  try {\n    return await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/ingredients/yeast`)\n      .then(result => {\n        return result.data;\n      });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction AddYeastForm(props: Props) {\n  const [formData, setFormData] = useState<YeastInterface>({});\n  const [yeast, setYeast] = useState<yeastResults[]>([]);\n\n  const dataChanged = (field: string) => (event: any) => {\n    let data: YeastInterface = {};\n    if (field === 'yeast') {\n      const choice = yeast.find(item => item.id === parseInt(event.currentTarget.value));\n      data = choice\n        ? {\n          id: choice.id,\n          name: choice.name,\n          manufacturer: choice.manufacturer,\n          type: choice.type,\n          cellCount: choice.cell_count,\n          averageAttenuation: choice.average_attenuation,\n        }\n        : {};\n    } else if (field === 'mfgDate' || field === 'custom' || field === 'type' || field === 'units') {\n      data[field] = event.currentTarget.value;\n    } else {\n      data[field] = Number(event.currentTarget.value) + 0;\n    }\n\n    if (data !== undefined) {\n      if (field === 'custom' && !formData['custom']) {\n        data['id'] = undefined;\n        data['name'] = '';\n        data['averageAttenuation'] = undefined;\n        data['cellCount'] = undefined;\n        data['type'] = '';\n        data['mfgDate'] = undefined;\n        data['manufacturer'] = undefined;\n      } else if (field === 'yeast' && formData['custom']) {\n        data['custom'] = '';\n        data['manufacturer'] = '';\n      }\n\n      data.viableCellCount = data.units === 'cells' || formData.units === 'cells'\n        ? data.amount\n        : pitchingRate(\n            data.type ? data.type : formData.type,\n            data.cellCount ? data.cellCount : formData.cellCount,\n            data.amount ? data.amount : formData.amount,\n            props.brew.dateBrewed ? props.brew.dateBrewed : new Date(),\n            data.mfgDate ? data.mfgDate : formData.mfgDate\n        );\n\n      setFormData({...formData, ...data});\n    }\n  };\n\n  const calculateViableCells = () => {\n    let viableCells = (props.brew.pitchCellCount ? props.brew.pitchCellCount : 0)\n        + (formData && formData.viableCellCount ? formData.viableCellCount : 0);\n    if (props.editingData !== null) {\n      viableCells -= props.editingData.viableCellCount ? props.editingData.viableCellCount : 0;\n    }\n\n    return parseFloat(viableCells.toPrecision(3));\n  }\n\n  useEffect(() => {\n    // when formData changes, update the data in formHandler component\n    let dataToSet: YeastInterface[] = [];\n    const yeastArray = props.brew.yeast ? [...props.brew.yeast] : [];\n    const index = props.editingData && props.editingData.index ? props.editingData.index : -1;\n\n    if (index > -1) {\n      dataToSet = [...yeastArray];\n      // index is passed as +1, so we need to subtract 1\n      dataToSet.splice(index-1, 1, formData);\n    } else {\n      dataToSet = [...yeastArray, formData];\n    }\n\n    // this lastIndex stuff is a chack to make sure we don't submit an empty selection\n    const lastIndex = dataToSet.length - 1;\n    const name = dataToSet[lastIndex].name ? dataToSet[lastIndex].name : dataToSet[lastIndex].custom;\n    if (name && name.length > 0) {\n      props.dataUpdated({...props.brew, yeast: dataToSet});\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  useEffect(() => {\n    // load yeast when component renders\n    listAllYeast().then(result => {\n      setYeast(result);\n    });\n  }, []);\n\n  useEffect(() => {\n    // reset form when submitted\n    setFormData({id: 0, units: 'pkg'});\n  }, [props.brew]);\n\n  useEffect(() => {\n    // if the form's editingData changes, we've selected something to edit.\n    // set the form default valies to be the data we're editing.\n    if (props.editingData !== null) {\n      setFormData(props.editingData);\n    } else {\n      setFormData({id: 0, units: 'pkg'});\n    }\n  }, [props.editingData]);\n\n  return(\n    <>\n      <label>Yeast<br />\n        <Select\n          options={[\n            ...yeast.map(choice => ({\n              label: choice.name,\n              option: <div className={styles.gridOption2Col}>\n                  <span>{choice.name}</span>\n                  <span className={styles.yellow}>{choice.manufacturer}</span>\n                </div>,\n              value: choice.id || \"\"\n            }))\n          ]}\n          placeholder=\"Choose Yeast\"\n          value={formData.id ? formData.id : 0}\n          onChange={dataChanged('yeast')}\n          className={`capitalize lightInput ${formData.custom ? styles.unused : ''}`}\n          useSearch\n        />\n      </label>\n      <label><strong>Or</strong> add your own<br />\n        <input\n          type=\"text\"\n          placeholder=\"Yeast Name\"\n          value={formData.custom ? formData.custom : ''}\n          onChange={dataChanged('custom')}\n          className={!formData.custom ? styles.unused : ''}\n        />\n      </label>\n      {formData.custom\n        ? <>\n            <Select\n              options={[\n                {option: 'Choose Type', value: 0},\n                {option: 'Liquid', value: 'liquid'},\n                {option: 'Dry', value: 'dry'},\n              ]}\n              value={formData.type ? formData.type : 0}\n              onChange={dataChanged('type')}\n              className=\"capitalize lightInput\"\n            />\n            <div className={styles.row}>\n              <label>Cell Count<br />\n                <input\n                  type=\"number\"\n                  step=\"10\" \n                  placeholder=\"100\"\n                  min=\"0\"\n                  value={formData.cellCount ? formData.cellCount : ''}\n                  onChange={dataChanged('cellCount')}\n                />\n              </label>\n              <label>Avg. Attenuation<br />\n                <input\n                  type=\"number\"\n                  step=\"1\" \n                  placeholder=\"75\"\n                  min=\"0\"\n                  value={formData.averageAttenuation ? formData.averageAttenuation: ''}\n                  onChange={dataChanged('averageAttenuation')}\n                />\n              </label>\n            </div>\n          </>\n        : null}\n      <div className={styles.row}>\n        <label>Amount<br />\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            placeholder=\"0\"\n            min=\"0\"\n            value={formData.amount ? formData.amount : ''}\n            onChange={dataChanged('amount')}\n          />\n        </label>\n        <label>Units<br />\n          <Select\n            options={[\n              {option: 'pkg', value: 'pkg'},\n              {option: 'cells', value: 'billion cells'},\n            ]}\n            value={formData.units ? formData.units : 0}\n            onChange={dataChanged('units')}\n            className=\"lightInput\"\n          />\n        </label>\n      </div>\n      {formData.type === 'liquid'\n          ? <label>Manufacture Date<br />\n            <input\n              type=\"date\"\n              value={formData.mfgDate ? formData.mfgDate.toString() : ''}\n              onChange={dataChanged('mfgDate')}\n            />\n          </label>\n        : null}\n      {props.brew.yeast.length > 0 || formData.viableCellCount\n        ? <p className={styles.extra}>\n            <strong>\n              {calculateViableCells()} bn</strong> cells {props.brew.targetPitchingCellCount\n                ? <>of <strong>{props.brew.targetPitchingCellCount} bn</strong> target</>\n                : null}\n          </p>\n        : null}\n    </>\n  );\n};\n\nexport default AddYeastForm;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport styles from './Forms.module.scss';\nimport { BrewInterface, AdjunctInterface } from '../../store/BrewContext';\nimport { ADJUNCT_TYPES, UNITS, ADJUNCT_USE } from '../../resources/javascript/constants';\nimport { getAdjunctById } from '../../resources/javascript/functions';\nimport Select from '../Select/Select';\n\ninterface Props {\n  brew: BrewInterface;\n  editingData: AdjunctInterface;\n  dataUpdated: Function;\n}\n\nasync function listAllAdjuncts() {\n  try {\n    return await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/ingredients/adjuncts`)\n      .then(result => {\n        return result.data;\n      });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction AddAdjunctsForm(props: Props) {\n  const [formData, setFormData] = useState<AdjunctInterface>({});\n  const [adjuncts, setAdjuncts] = useState<AdjunctInterface[]>([]);\n\n  const dataChanged = (type: string) => (event: any) => {\n    let data: AdjunctInterface = {};\n    if (type === 'adjunct') {\n      const choice = adjuncts.find(adjunct => adjunct.id === parseInt(event.currentTarget.value));\n      data = choice\n        ? {\n          id: choice.id,\n          name: choice.name,\n          category: choice.category,\n          use: choice.use,\n          units: 'g'\n        }\n        : {};\n    } else if (type === 'time' || type === 'amount' || type === \"category\") {\n      data[type] = !!event.currentTarget.value ? +event.currentTarget.value : undefined;\n    } else {\n      data[type] = event.currentTarget.value;\n    }\n\n    if (data !== undefined) {\n      if (type === 'custom' && !formData['custom']) {\n        data['id'] = undefined;\n        data['category'] = 1;\n        data['use'] = 'mash';\n        data['name'] = '';\n        data['units'] = '';\n      } else if (type === 'adjunct' && formData['custom']) {\n        data['custom'] = '';\n      }\n\n      setFormData({...formData, ...data});\n    }\n  };\n\n  useEffect(() => {\n    // when formData changes, update the data in formHandler component\n    let dataToSet: AdjunctInterface[] = [];\n    const adjunctsArray = props.brew.adjuncts ? [...props.brew.adjuncts] : [];\n    const index = props.editingData && props.editingData.index ? props.editingData.index : -1;\n\n    if (index > -1) {\n      dataToSet = [...adjunctsArray];\n      // index is passed as +1, so we need to subtract 1\n      dataToSet.splice(index-1, 1, formData);\n    } else {\n      dataToSet = [...adjunctsArray, formData];\n    }\n\n    // this lastIndex stuff is a check to make sure we don't submit an empty selection\n    const lastIndex = dataToSet.length - 1;\n    const name = dataToSet[lastIndex].name ? dataToSet[lastIndex].name : dataToSet[lastIndex].custom;\n    if (name && name.length > 0) {\n      props.dataUpdated({...props.brew, adjuncts: dataToSet});\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  useEffect(() => {\n    // load adjuncts when component renders\n    listAllAdjuncts().then(result => {\n      setAdjuncts(result);\n    });\n  }, []);\n\n  useEffect(() => {\n    // reset form when submitted\n    setFormData({id: 0});\n  }, [props.brew]);\n\n  useEffect(() => {\n    // if the form's editingData changes, we've selected something to edit.\n    // set the form default valies to be the data we're editing.\n    if (props.editingData !== null) {\n      setFormData(props.editingData);\n    } else {\n      setFormData({id: 0});\n    }\n  }, [props.editingData]);\n\n  return(\n    <>\n      <label>Select Adjunct<br />\n        <Select\n          options={[\n            ...adjuncts.map(adjunct => ({\n              label: adjunct.name,\n              option: <div className={styles.gridOption2Col}>\n                  <span>{adjunct.name}</span>\n                  <span className={styles.yellow}>{getAdjunctById(adjunct.category)}</span>\n                </div>,\n              value: adjunct.id || \"\"\n            }))\n          ]}\n          placeholder=\"Choose Adjunct\"\n          value={formData.id ? formData.id : 0}\n          onChange={dataChanged('adjunct')}\n          className={`capitalize lightInput ${formData.custom ? styles.unused : ''}`}\n          useSearch\n        />\n      </label>\n      <label><strong>Or</strong> add your own<br />\n        <input\n          type=\"text\"\n          placeholder=\"Adjunct Name\"\n          value={formData.custom ? formData.custom : ''}\n          onChange={dataChanged('custom')}\n          className={!formData.custom ? styles.unused : ''}\n        />\n      </label>\n      {formData.custom\n        ? <label>Type<br />\n            <Select\n              options={ADJUNCT_TYPES.map(type => (\n                {option: type.label, value: type.value}\n                ))}\n              value={formData.category ? formData.category : 0}\n              onChange={dataChanged('category')}\n              className=\"capitalize lightInput\"\n            />\n          </label>\n        : null}\n      <div className={styles.row}>\n        <label>Amount<br />\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            placeholder=\"0\"\n            min=\"0\"\n            value={formData.amount !== undefined && formData.amount !== null ? formData.amount : ''}\n            onChange={dataChanged('amount')}\n          />\n        </label>\n        <label>Units<br />\n          <Select\n            options={UNITS.map(unit => (\n              {option: unit, value: unit}\n            ))}\n            value={formData.units ? formData.units : 'g'}\n            onChange={dataChanged('units')}\n            className=\"lightInput\"\n          />\n        </label>\n      </div>\n      <div className={styles.row}>\n        <label>Use<br />\n        <Select\n            options={ADJUNCT_USE.map(use => (\n              {option: use, value: use}\n            ))}\n            value={formData.use ? formData.use : \"mash\"}\n            onChange={dataChanged('use')}\n            className=\"capitalize lightInput\"\n          />\n        </label>\n        <label>Time ({formData.use === 'mash' || formData.use === 'boil' ? 'min' : 'days'})<br />\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            placeholder=\"0\"\n            min=\"0\"\n            value={formData.time !== undefined && formData.time !== null ? formData.time : ''}\n            onChange={dataChanged('time')}\n          />\n        </label>\n      </div>\n    </>\n  );\n};\n\nexport default AddAdjunctsForm;","import React, { useState, useEffect } from \"react\";\n\nimport { BrewInterface, MashInterface } from \"../../store/BrewContext\";\nimport { useUser } from \"../../store/UserContext\";\nimport {\n  f2c,\n  c2f,\n  gal2l,\n  l2gal,\n  qt2l,\n  l2qt\n} from \"../../resources/javascript/calculator\";\nimport Select from \"../Select/Select\";\n\ninterface Props {\n  brew: BrewInterface;\n  editingData: MashInterface;\n  dataUpdated: Function;\n}\n\nfunction MashForm(props: Props) {\n  const [user] = useUser();\n  const [formData, setFormData] = useState<MashInterface>({ type: \"temperature\" });\n\n  useEffect(() => {\n    // when formData changes, update the data in formHandler component\n    let dataToSet: MashInterface[] = [];\n    const stepsArray = props.brew.mash ? [...props.brew.mash] : [];\n    const index = props.editingData && props.editingData.index ? Number(props.editingData.index) : -1;\n\n    // Take kettleSize out of the mash and put it in the main brew obj\n    let kettleSize;\n    const newData = {...formData};\n    if (newData.kettleSize) {\n      // @ts-ignore-line\n      kettleSize = newData.kettleSize;\n      // @ts-ignore-line\n      delete newData.kettleSize;\n    }\n\n    if (index > -1) {\n      dataToSet = stepsArray;\n      dataToSet.splice(index-1, 1, newData);\n    } else {\n      dataToSet = [...stepsArray, newData];\n    }\n\n    // this lastIndex stuff is a check to make sure we don't submit an empty selection\n    const lastIndex = dataToSet.length - 1;\n    const targetStepTemp = dataToSet[lastIndex].targetStepTemp;\n    const spargeTemp = dataToSet[lastIndex].spargeTemp;\n    if (targetStepTemp || spargeTemp) {\n      if (kettleSize) {\n        props.dataUpdated({...props.brew, mash: dataToSet, kettleSize: kettleSize});\n      } else {\n        props.dataUpdated({...props.brew, mash: dataToSet});\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  useEffect(() => {\n    // reset form when submitted\n    setFormDataSwitch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.brew]);\n\n  useEffect(() => {\n    // if the form's editingData changes, we've selected something to edit.\n    // set the form default valies to be the data we're editing.\n    if (props.editingData !== null) {\n      setFormData({\n        ...props.editingData,\n        kettleSize: props.brew.kettleSize\n          ? props.brew.kettleSize\n          : user.kettle_size ? user.kettle_size : ''\n      });\n    } else {\n      setFormDataSwitch();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.editingData]);\n\n  const dataChanged = (type: string) => (event: any) => {\n    let data: MashInterface = {};\n    if (\n      type === \"targetStepTemp\" ||\n      type === \"grainTemp\" ||\n      type === \"spargeTemp\"\n    ) {\n      data[type] =\n        user.units === \"metric\"\n          ? c2f(event.currentTarget.value)\n          : event.currentTarget.value;\n    } else if (type === \"waterToGrain\") {\n      data.waterToGrain =\n        user.units === \"metric\"\n          ? l2qt(event.currentTarget.value)\n          : event.currentTarget.value;\n    } else if (type === \"kettleSize\") {\n      data.kettleSize =\n        user.units === \"metric\"\n          ? l2gal(event.currentTarget.value)\n          : event.currentTarget.value;\n    } else if (type === \"type\" && event.currentTarget.value === \"infusion\") {\n      data[type] = event.currentTarget.value;\n      data.infusionWaterTemp = user.boil_temp;\n    } else {\n      data[type] = event.currentTarget.value;\n    }\n    setFormData({ ...formData, ...data });\n  };\n\n  const setFormDataSwitch = () => {\n    if (props.brew.mash.length > 0) {\n      setFormData({ type: \"temperature\" });\n    } else {\n      if (props.brew.batchType === \"BIAB\") {\n        setFormData({ type: \"strike\", kettleSize: user.kettle_size ? user.kettle_size : \"\" });\n      } else {\n        setFormData({ type: \"strike\" });\n      }\n    }\n  }\n\n  return (\n    <>\n      <label>\n        Step Type\n        <br />\n        <Select\n          options={\n            props.brew.mash.length > 0 \n              ? (\n                props.editingData && props.editingData.type === 'strike'\n                  ? [{option: 'Strike', value: 'strike'}]\n                  : [\n                      {option: 'Temperature', value: 'temperature'},\n                      {option: 'Infusion', value: 'infusion'},\n                      {option: 'Decoction', value: 'decoction'},\n                      {option: 'Sparge', value: 'sparge'},\n                    ]\n              ) : [{option: 'Start with the strike step', value: 'strike'}]\n          }\n          value={formData.type ? formData.type : ''}\n          onChange={dataChanged('type')}\n          className=\"capitalize lightInput\"\n        />\n      </label>\n      {formData.type !== \"sparge\" ? (\n        <>\n          <label>\n            Target Temperature (°{user.units === \"metric\" ? \"C\" : \"F\"})<br />\n            <input\n              type=\"number\"\n              placeholder={user.units === \"metric\" ? \"66\" : \"150\"}\n              value={formData.targetStepTemp\n                ? user.units === \"metric\"\n                  ? parseFloat(f2c(formData.targetStepTemp).toFixed(2))\n                  : formData.targetStepTemp\n                : ''}\n              onChange={dataChanged(\"targetStepTemp\")}\n            />\n          </label>\n          {formData.type === \"infusion\" ? (\n            <>\n              <label>\n                Current Mash Temperature (°{user.units === \"metric\" ? \"C\" : \"F\"}\n                )\n                <br />\n                <input\n                  type=\"number\"\n                  placeholder={user.units === \"metric\" ? \"60\" : \"140\"}\n                  value={formData.currentMashTemp\n                    ? user.units === \"metric\"\n                      ? parseFloat(f2c(formData.currentMashTemp).toFixed(2))\n                      : formData.currentMashTemp\n                    : ''}\n                  onChange={dataChanged(\"currentMashTemp\")}\n                />\n              </label>\n              <label>\n                Infusion Water Temperature (°\n                {user.units === \"metric\" ? \"C\" : \"F\"})<br />\n                <input\n                  name=\"infusionWaterTemp\"\n                  type=\"number\"\n                  placeholder={user.units === \"metric\" ? \"98.89\" : \"210\"}\n                  value={formData.infusionWaterTemp\n                    ? user.units === \"metric\"\n                      ? parseFloat(f2c(formData.infusionWaterTemp).toFixed(2))\n                      : formData.infusionWaterTemp\n                    : ''}\n                  onChange={dataChanged(\"infusionWaterTemp\")}\n                ></input>\n              </label>\n            </>\n          ) : null}\n          {formData.type === \"strike\" &&\n          (props.brew.batchType === \"allGrain\" ||\n            props.brew.batchType === \"partialMash\") ? (\n            <label>\n              Water to Grain Ratio ({user.units === \"metric\" ? \"L\" : \"qt\"})\n              <br />\n              <input\n                type=\"number\"\n                step=\"0.1\"\n                placeholder={\n                  props.brew.batchType === \"partialMash\" ? \"1\" : \"1.5\"\n                }\n                value={formData.waterToGrain\n                  ? user.units === \"metric\"\n                    ? parseFloat(qt2l(formData.waterToGrain).toFixed(5))\n                    : formData.waterToGrain\n                  : ''}\n                onChange={dataChanged(\"waterToGrain\")}\n              />\n            </label>\n          ) : null}\n          {formData.type === \"strike\" ? (\n            <label>\n              Initial Grain Temperature (°{user.units === \"metric\" ? \"C\" : \"F\"})\n              <br />\n              <input\n                type=\"number\"\n                placeholder={user.units === \"metric\" ? \"21\" : \"70\"}\n                value={formData.grainTemp\n                  ? user.units === \"metric\"\n                    ? parseFloat(f2c(formData.grainTemp).toFixed(2))\n                    : formData.grainTemp\n                  : ''}\n                onChange={dataChanged(\"grainTemp\")}\n              />\n            </label>\n          ) : null}\n          {formData.type === \"strike\" && props.brew.batchType === \"BIAB\" ? (\n            <label>\n              Kettle Size ({user.units === \"metric\" ? \"L\" : \"gal\"})<br />\n              <input\n                type=\"number\"\n                placeholder={user.units === \"metric\" ? \"37.8\" : \"10\"}\n                value={formData.kettleSize\n                  ? user.units === \"metric\"\n                    ? parseFloat(gal2l(formData.kettleSize).toFixed(5))\n                    : formData.kettleSize\n                  : ''}\n                onChange={dataChanged(\"kettleSize\")}\n              />\n            </label>\n          ) : null}\n          <label>\n            Step Length (min)\n            <br />\n            <input\n              type=\"number\"\n              placeholder=\"60\"\n              value={formData.stepLength ? formData.stepLength : ''}\n              onChange={dataChanged(\"stepLength\")}\n            />\n          </label>\n        </>\n      ) : null}\n      {formData.type === \"sparge\" ? (\n        <label>\n          Sparge Temperature (°{user.units === \"metric\" ? \"C\" : \"F\"})<br />\n          <input\n            type=\"number\"\n            placeholder={user.units === \"metric\" ? \"75.56\" : \"168\"}\n            value={formData.spargeTemp\n              ? user.units === \"metric\"\n                ? parseFloat(f2c(formData.spargeTemp).toFixed(2))\n                : formData.spargeTemp\n              : ''}\n            onChange={dataChanged(\"spargeTemp\")}\n          />\n        </label>\n      ) : null}\n    </>\n  );\n}\n\nexport default MashForm;\n","import React, { useState, useEffect } from 'react';\n\nimport { BrewInterface } from '../../store/BrewContext';\nimport { useUser } from '../../store/UserContext';\nimport { gal2l, l2gal } from '../../resources/javascript/calculator';\n\ninterface Props {\n  brew: BrewInterface;\n  dataUpdated: Function;\n}\n\nfunction BoilForm(props: Props) {\n  const [user] = useUser();\n  const [formData, setFormData] = useState(props.brew);\n\n  const dataChanged = (type: string) => (event: any) => {\n    let data;\n    if (type === 'evaporationRate' && props.brew.batchType === 'BIAB') {\n      data = user.units === 'metric' ? l2gal(props.brew.kettleSize) : event.currentTarget.value;\n    } else {\n      data = event.currentTarget.value\n    }\n    setFormData({...formData, [type]: data});\n  };\n\n  useEffect(() => {\n    props.dataUpdated(formData);\n  });\n\n  useEffect(() => {\n    if (props.brew.batchType !== 'BIAB' && !formData.evaporationRate) {\n      setFormData({...formData, evaporationRate: user.evap_rate ? user.evap_rate : ''});\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return(\n    <>\n      <label>Boil Length (min)<br />\n        <input\n          type=\"number\"\n          placeholder=\"60\"\n          defaultValue={`${props.brew.boilLength}`}\n          onChange={dataChanged('boilLength')}\n        />\n      </label>\n      <label>{props.brew.batchType === 'BIAB' ? 'Evaporation Loss (gal)' : 'Evaporation Rate (%/hr)'}<br />\n        <input\n          type=\"number\"\n          placeholder={props.brew.batchType === 'BIAB' ? '0.5' : '1.5'}\n          value={`${props.brew.batchType === 'BIAB' && formData.evaporationRate\n            ? user.units === 'metric' ? parseFloat(gal2l(formData.evaporationRate).toFixed(5)) : formData.evaporationRate\n            : formData.evaporationRate ? formData.evaporationRate : ''}`}\n          onChange={dataChanged('evaporationRate')}\n        />\n      </label>\n    </>\n  );\n};\n\nexport default BoilForm;","import React, { useState, useEffect } from 'react';\n\n// import styles from \"./Forms.module.scss\"\nimport { BrewInterface, FermentationInterface } from '../../store/BrewContext';\nimport { useUser } from '../../store/UserContext';\nimport { f2c, c2f } from '../../resources/javascript/calculator';\n\ninterface Props {\n  brew: BrewInterface;\n  editingData: FermentationInterface;\n  dataUpdated: Function;\n}\n\nfunction FermentationForm(props: Props) {\n  const [user] = useUser();\n  const [formData, setFormData] = useState<FermentationInterface>({});\n\n  const dataChanged = (type: string) => (event: any) => {\n    let data: FermentationInterface = {};\n    if (type === 'stageTemp') {\n      data.stageTemp = user.units === 'metric' ? Number(c2f(event.currentTarget.value)) : Number(event.currentTarget.value);\n    } else if (type === 'stageLength') {\n      formData.stageLength = Number(event.currentTarget.value);\n    } else {\n      data.stageName = event.currentTarget.value;\n    }\n    setFormData({...formData, ...data});\n  };\n\n  useEffect(() => {\n    // when formData changes, update the data in formHandler component\n    let dataToSet: FermentationInterface[] = [];\n    const fermentationArray = props.brew.fermentation ? [...props.brew.fermentation] : [];\n    const index = props.editingData && props.editingData.index ? Number(props.editingData.index) : -1;\n\n    if (index > -1) {\n      dataToSet = fermentationArray;\n      dataToSet.splice(index-1, 1, formData);\n    } else {\n      dataToSet = [...fermentationArray, formData];\n    }\n\n    // this lastIndex stuff is a check to make sure we don't submit an empty selection\n    const lastIndex = dataToSet.length - 1;\n    const stageLength = dataToSet[lastIndex].stageLength;\n    if (stageLength && stageLength > 0) {\n      props.dataUpdated({...props.brew, fermentation: dataToSet});\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  useEffect(() => {\n    // reset form when submitted\n    setFormData({});\n  }, [props.brew]);\n\n  useEffect(() => {\n    // if the form's editingData changes, we've selected something to edit.\n    // set the form default valies to be the data we're editing.\n    if (props.editingData !== null) {\n      setFormData(props.editingData);\n    } else {\n      setFormData({});\n    }\n  }, [props.editingData]);\n\n  return(\n    <>\n      <label>Stage Name<br />\n        <input\n          type=\"text\"\n          placeholder=\"Primary\"\n          value={formData.stageName ? formData.stageName : ''}\n          onChange={dataChanged('stageName')}\n        />\n      </label>\n      <label>Stage Length (days)<br />\n        <input\n          type=\"number\"\n          placeholder=\"14\"\n          value={formData.stageLength ? formData.stageLength : ''}\n          onChange={dataChanged('stageLength')}\n        />\n      </label>\n      <label>Stage Temp (°{user.units === 'metric' ? 'C' : 'F'})<br />\n        <input\n          type=\"number\"\n          placeholder={user.units === 'metric' ? '17' : '64'}\n          value={formData.stageTemp ? user.units === 'metric'\n              ? parseFloat(f2c(formData.stageTemp).toFixed(2))\n              : formData.stageTemp\n            : ''\n          }\n          onChange={dataChanged('stageTemp')}\n        />\n      </label>\n    </>\n  );\n};\n\nexport default FermentationForm;","import React, { useState, useEffect } from 'react';\n\nimport styles from \"./Forms.module.scss\"\nimport { BrewInterface } from '../../store/BrewContext';\nimport { useUser } from '../../store/UserContext';\nimport { f2c, c2f } from '../../resources/javascript/calculator';\nimport Select from '../Select/Select';\n\ninterface Props {\n  brew: BrewInterface;\n  dataUpdated: Function;\n}\n\nfunction PackagingForm(props: Props) {\n  const [user] = useUser();\n  const [formData, setFormData] = useState(props.brew);\n\n  const dataChanged = (type: string) => (event: any) => {\n    let data;\n    if (type === 'beerTemp') {\n      data = user.units === 'metric' ? c2f(event.currentTarget.value) : event.currentTarget.value;\n    } else {\n      data = event.currentTarget.value;\n    }\n    setFormData({...formData, [type]: data});\n  };\n\n  useEffect(() => {\n    props.dataUpdated(formData);\n  });\n\n  return(\n    <>\n      <label>Packaging Type<br />\n        <Select\n          options={[\n            {value:\"\", option:\"Choose One\"},\n            {value:\"bottled\", option:\"Bottled\"},\n            {value:\"kegged\", option:\"Kegged\"},\n          ]}\n          value={formData.packagingType || \"\"}\n          onChange={dataChanged('packagingType')}\n          className=\"capitalize lightInput\"\n        />\n      </label>\n      <label>Carbonation Method<br />\n        <Select\n          options={[\n            {value:\"\", option:\"Choose One\"},\n            {option: 'Forced CO2', value: 'forced'},\n            {value:\"caneSugar\", option:\"Cane Sugar\"},\n            {value:\"cornSugar\", option:\"Corn Sugar\"},\n            {value:\"dme\", option:\"DME\"},\n          ]}\n          value={formData.carbonationMethod || \"\"}\n          onChange={dataChanged('carbonationMethod')}\n          className=\"capitalize lightInput\"\n        />\n      </label>\n      <div className={styles.row}>\n        <label>CO<sub>2</sub> Volume Target<br />\n          <input\n            type=\"number\"\n            step=\"0.1\"\n            placeholder=\"2.5\"\n            defaultValue={`${props.brew.CO2VolumeTarget}`}\n            onChange={dataChanged('CO2VolumeTarget')}\n           />\n        </label>\n        <label>Beer Temp (°F)<br />\n          <input\n            type=\"number\"\n            placeholder={user.units === 'metric' ? '1.1' : '34'}\n            defaultValue={`${user.units === 'metric' ? parseFloat(f2c(props.brew.beerTemp).toFixed(1)) : props.brew.beerTemp}`}\n            onChange={dataChanged('beerTemp')}\n          />\n        </label>\n      </div>\n    </>\n  );\n};\n\nexport default PackagingForm;","import React, { useEffect } from 'react';\n\ninterface Props {\n  data: string | undefined;\n  valueUpdated: Function;\n}\n\nconst Textarea = (props: Props) => {\n  const textInput = React.createRef<HTMLTextAreaElement>();\n\n  useEffect(() => {\n    resizeTextArea(textInput.current);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const resizeTextArea = (ref: HTMLTextAreaElement | null) => {\n    if (ref) {\n      ref.style.height = 'auto';\n      ref.style.height = `${ref.scrollHeight}px`;\n    }\n  }\n\n  const handleChange = (event: any) => {\n    resizeTextArea(event.target);\n    const data = event.currentTarget.value;\n    props.valueUpdated(data);\n  };\n\n  return (\n    <textarea\n      ref={textInput}\n      defaultValue={props.data}\n      onChange={handleChange}\n    />\n  );\n}\n\nexport default Textarea;","import React, { useState, useEffect } from 'react';\n\nimport { BrewInterface } from '../../store/BrewContext';\nimport Textarea from '../Textarea/Textarea';\n\ninterface Props {\n  brew: BrewInterface;\n  dataUpdated: Function;\n}\n\nfunction NotesForm(props: Props) {\n  const [formData, setFormData] = useState(props.brew);\n\n  const dataChanged = (data: string) => {\n    setFormData({...formData, notes: data});\n  };\n\n  useEffect(() => {\n    props.dataUpdated(formData);\n  });\n\n  return(\n    <>\n      <Textarea\n        data={props.brew.notes}\n        valueUpdated={dataChanged}\n      />\n    </>\n  );\n};\n\nexport default NotesForm;","import { useEffect, useRef } from 'react';\n\nexport const usePrevious = (value) => {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef();\n  \n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value;\n  }, [value]); // Only re-run if value changes\n  \n  // Return previous value (happens before update in useEffect above)\n  return ref.current;\n}","import React, { useState, useEffect, useRef } from 'react';\n\nimport styles from \"./Forms.module.scss\"\nimport { BrewInterface } from '../../store/BrewContext';\nimport { usePrevious } from '../../resources/javascript/usePreviousHook';\n\ninterface Props {\n  brew: BrewInterface;\n  dataUpdated: Function;\n  saveData: Function;\n}\n\nfunction TagsForm(props: Props) {\n  const [formData, setFormData] = useState(props.brew);\n  const [tags, setTags] = useState(props.brew.tags);\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const prevTags = usePrevious(props.brew.tags);\n\n  const dataChanged = (type: string) => (event: any) => {\n    const tagData = `${tags ? tags+',' : ''}${event.currentTarget.value}`;\n    setFormData({...formData, [type]: tagData});\n  };\n\n  const removeTag = (tag: string, index: number) => (event: any) => {\n    let tagData;\n    if (index > 0) {\n      tagData = tags ? tags.replace(','+tag, '') : '';\n    } else {\n      if (tags && tags.split(',').length > 1) {\n        tagData = tags ? tags.replace(tag+',', '') : '';\n      } else {\n        tagData = tags ? tags.replace(tag, '') : '';\n      }\n    }\n\n    setFormData({...formData, tags: tagData});\n  };\n\n  useEffect(() => {\n    if (props.brew.tags !== prevTags) {\n      if (inputRef.current && prevTags !== undefined) {\n        inputRef.current.value = '';\n        inputRef.current.focus();\n      }\n      setTags(props.brew.tags);\n    }\n\n    // If the brew had tags and now the tags in formData changed notify formHandler\n    if ((props.brew.tags && formData.tags) || (props.brew.tags && formData.tags === '')) {\n      if (props.brew.tags.length > formData.tags.length) {\n        // If you deleted a tag, immediately save this to the brew in session\n        props.dataUpdated(formData, {tagDeleted: true});\n      } else {\n        props.dataUpdated(formData);\n      }\n    } else {\n      props.dataUpdated(formData);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.brew, prevTags, formData]);\n\n  return(\n    <>\n      {props.brew.tags\n        ? <div className={styles.tagWrapper}>\n            {props.brew.tags.split(',').map((tag, i) => {\n              return <div className=\"tag\" key={i}>\n                {tag}\n                <button className=\"removeTag\" onClick={removeTag(tag, i)}>delete</button>\n              </div>;\n            })}\n          </div>\n        : null\n      }\n      <label>Tag<br />\n        <input\n          ref={inputRef}\n          type=\"text\"\n          placeholder=\"tag name\"\n          onChange={dataChanged('tags')}\n        />\n      </label>\n    </>\n  );\n};\n\nexport default TagsForm;","import {\n  FermentableInterface,\n  HopInterface,\n  YeastInterface,\n  MashInterface\n} from \"./BrewContext\";\n\nexport const compareWeight = (\n  a: FermentableInterface | HopInterface,\n  b: FermentableInterface | HopInterface\n) => {\n  const weightA = Number(a.weight);\n  const weightB = Number(b.weight);\n\n  let comparison = 0;\n  if (weightA > weightB) {\n    comparison = -1;\n  } else if (weightA < weightB) {\n    comparison = 1;\n  }\n  return comparison;\n};\n\nexport const compareAmount = (a: YeastInterface, b: YeastInterface) => {\n  const amountA = Number(a.amount);\n  const amountB = Number(b.amount);\n\n  let comparison = 0;\n  if (amountA > amountB) {\n    comparison = -1;\n  } else if (amountA < amountB) {\n    comparison = 1;\n  }\n  return comparison;\n};\n\nexport const compareStep = (a: MashInterface, b: MashInterface) => {\n  const typeA = a.type;\n  const typeB = b.type;\n\n  let comparison = 0;\n  if (typeA === 'sparge' && typeB !== 'sparge') {\n    comparison = 1;\n  } else if (typeA !== 'sparge' && typeB === 'sparge') {\n    comparison = -1;\n  }\n  if (typeA === 'strike' && typeB !== 'strike') {\n    comparison = -1;\n  }\n  return comparison;\n};\n\nexport const compareTime = (a: HopInterface, b: HopInterface) => {\n  const lengthA = Number(a.lengthInBoil);\n  const lengthB = Number(b.lengthInBoil);\n\n  let comparison = 0;\n  if (lengthA > lengthB) {\n    comparison = -1;\n  } else if (lengthA < lengthB) {\n    comparison = 1;\n  }\n  return comparison;\n}\n\nexport const byUse = (a: HopInterface, b: HopInterface) => {\n  const usesOrderArray = ['mash', 'first wort', 'boil', 'aroma', 'whirlpool', 'dry hop'];\n  const lengthA = usesOrderArray.indexOf(a.use ? a.use : '');\n  const lengthB = usesOrderArray.indexOf(b.use ? b.use : '');\n\n  let comparison = 0;\n  if (lengthA > lengthB) {\n    comparison = 1;\n  } else if (lengthA < lengthB) {\n    comparison = -1;\n  }\n  return comparison;\n}","import React, { useReducer, useContext } from 'react';\n\n// import * as brewService from './BrewService';\nimport * as Calculator from '../resources/javascript/calculator';\nimport {\n  compareWeight,\n  compareTime,\n  byUse,\n  compareAmount,\n  compareStep\n} from './BrewContextUtils';\n\nexport interface FermentableInterface {\n  id?: number;\n  name?: string;\n  custom?: string;\n  weight?: number;\n  calculatedWeight?: number; // if using percentage\n  lovibond?: number;\n  potential?: number;\n  extract?: boolean;\n  entryId?: number;\n  origin?: string;\n  index?: number;\n  units?: 'lb' | 'kg' | 'percent';\n  [key: string]: string | number | boolean | undefined;\n};\n\nexport interface HopInterface {\n  id?: number;\n  name?: string;\n  custom?: string;\n  weight?: number;\n  alphaAcid?: number;\n  lengthInBoil?: number;\n  ibu?: number;\n  unit?: 'g' | 'oz';\n  form?: 'pellet' | 'leaf';\n  use?: \"boil\" | \"dry hop\" | \"mash\" | \"first wort\" | \"aroma\" | \"whirlpool\";\n  days?: number;\n  multiplier?: number;\n  index?: number;\n  origin?: string;\n  [key: string]: string | number | undefined;\n};\n\nexport interface YeastInterface {\n  id?: number;\n  name?: string;\n  custom?: string;\n  manufacturer?: string;\n  amount?: number;\n  units?: string;\n  type?: string;\n  mfgDate?: Date;\n  averageAttenuation?: number;\n  cellCount?: number;\n  viableCellCount?: number;\n  index?: number;\n  [key: string]: string | number | Date | undefined;\n};\n\nexport interface AdjunctInterface {\n  id?: number;\n  name?: string;\n  custom?: string;\n  amount?: number;\n  units?: string;\n  category?: number;\n  use?: string;\n  time?: number;\n  index?: number;\n  [key: string]: string | number | undefined;\n};\n\nexport interface MashInterface {\n  type?: 'strike' | 'infusion' | 'decoction' | 'temperature' | 'sparge';\n  strikeTemp?: number;\n  strikeVolume?: number;\n  targetStepTemp?: number;\n  currentMashTemp?: number;\n  waterToGrain?: number;\n  grainTemp?: number;\n  stepLength?: number;\n  spargeTemp?: number;\n  spargeVolume?: number;\n  infusionWaterTemp?: number;\n  infusionWaterVol?: number;\n  [key: string]: string | number | undefined;\n};\n\nexport interface FermentationInterface {\n  stageName?: string;\n  stageLength?: number;\n  stageTemp?: number;\n  notes?: string;\n  [key: string]: string | number | undefined;\n};\n\nexport interface processOptionsInterface {\n  units: 'us' | 'metric';\n  ibuFormula: 'rager' | 'tinseth';\n  strikeFactor?: number;\n  kettle?: number;\n  evapRate?: number;\n  trubLoss?: number;\n  equipmentLoss?: number;\n  absorptionRate?: number;\n  hopAbsorptionRate?: number;\n};\n\nexport interface brewHistory {\n  id: number;\n  name: string;\n  dateBrewed: Date;\n  batchType?: 'allGrain' | 'BIAB' | 'partialMash' | 'extract';\n  batchSize?: number;\n  mashEfficiency?: number;\n  alcoholContent?: number;\n  srm?: number;\n  ibu?: number;\n  og?: number;\n};\n\nexport interface BrewInterface {\n  id?: number;\n  userId?: number;\n  parent?: number;\n  recipe?: number;\n  name?: string;\n  dateBrewed?: Date;\n  batchType?: 'allGrain' | 'BIAB' | 'partialMash' | 'extract';\n  batchSize?: number;\n  mashEfficiency?: number;\n  targetPitchingRate?: string;\n  targetPitchingCellCount?: number;\n  pitchCellCount?: number;\n  fermentables: FermentableInterface[];\n  totalFermentables?: number;\n  totalGrainFermentables?: number;\n  hops: HopInterface[];\n  totalHops?: number;\n  yeast: YeastInterface[];\n  adjuncts: AdjunctInterface[];\n  totalWater?: number;\n  mash: MashInterface[];\n  totalMashVolume?: number;\n  topOff?: number;\n  kettleSize?: number;\n  boilLength?: number;\n  preBoilVolume?: number;\n  evaporationRate?: number;\n  fermentation?: FermentationInterface[];\n  packagingType?: string;\n  carbonationMethod?: string;\n  CO2VolumeTarget?: number;\n  beerTemp?: number;\n  amountForCO2?: number;\n  notes?: string;\n  tags?: string;\n  srm?: number;\n  ibu?: number;\n  og?: number;\n  preBoilG?: number;\n  fg?: number;\n  attenuation?: number;\n  alcoholContent?: number;\n  fermentableUnits?: 'weight' | 'percent';\n  totalFermentablesPercent?: number;\n  targetOG?: number;\n  isDraft: boolean;\n  history?: brewHistory[];\n  [key: string]: any;\n};\n\nconst initialState: any = {\n  name: '',\n  fermentables: [],\n  hops: [],\n  yeast: [],\n  adjuncts: [],\n  mash: [],\n  fermentation: [],\n};\n\nexport const BrewContext = React.createContext(initialState);\n\nexport const sortBrew = (brew: BrewInterface): BrewInterface => {\n  // Sort ingredients\n  if (brew.fermentables) {\n    brew.fermentables.sort(compareWeight);\n  }\n  if (brew.hops) {\n    brew.hops.sort(compareTime);\n    brew.hops.sort(byUse);\n  }\n  if (brew.yeast) {\n    brew.yeast.sort(compareAmount);\n  }\n  if (brew.adjuncts) {\n    brew.adjuncts.sort(compareAmount);\n  }\n\n  // Sort mash steps\n  if (brew.mash) {\n    brew.mash.sort(compareStep);\n  }\n\n  return brew;\n}\n\nexport const processBrew = (\n  brew: BrewInterface,\n  options: processOptionsInterface\n): BrewInterface => {\n\n  brew = sortBrew(brew);\n\n  // Run Calculations\n  if (brew.fermentables.length > 0) {\n    brew.targetOG = brew.fermentableUnits === 'percent' ? brew.targetOG : undefined;\n    if (brew.fermentableUnits === 'percent' && brew.targetOG && brew.batchSize && brew.mashEfficiency) {\n      // Calculate the actual weights\n      const pointsNeeded = parseFloat((((Number(brew.targetOG) - 1) * 1000) * brew.batchSize).toPrecision(3));\n      const weightNeeded = parseFloat((pointsNeeded / ((brew.mashEfficiency / 100) * 36)).toFixed(2));\n      let totalWeight = 0;\n      let totalPercent = 0;\n      brew.fermentables.map(fermentable => {\n        const fermentableWeight = fermentable.weight ? fermentable.weight : 0;\n        const calculatedWeight = parseFloat((weightNeeded * (fermentableWeight / 100)).toFixed(2));\n        totalWeight += calculatedWeight;\n        totalPercent += fermentableWeight;\n        return fermentable.calculatedWeight = calculatedWeight;\n      });\n      brew.totalFermentables = parseFloat(totalWeight.toFixed(2));\n      brew.totalFermentablesPercent = totalPercent;\n    } else {\n      brew.totalFermentables = Calculator.totalFermentableWeight(\n        brew.fermentables,\n      );\n      brew.totalFermentablesPercent = undefined;\n    }\n    if (brew.batchType === 'partialMash') {\n      const nonExtractFermentablesArray = brew.fermentables.filter(\n        fermentable => fermentable.extract !== true\n      );\n      brew.totalGrainFermentables = Calculator.totalFermentableWeight(\n        nonExtractFermentablesArray\n      );\n    }\n  }\n  if (brew.fermentables && brew.batchSize) {\n    brew.srm = Calculator.SRM(brew.fermentables, brew.batchSize, brew.fermentableUnits);\n  }\n  if (\n    brew.batchType !== 'BIAB' &&\n    brew.totalFermentables &&\n    brew.mash.some(e => e.waterToGrain)\n  ) {\n    let index;\n    const strike = brew.mash.find((step, i) => {\n      if (step.type === 'strike') {\n        index = i;\n        return step;\n      } else {\n        return null;\n      }\n    });\n    if (strike && index !== undefined) {\n      if (brew.batchType === 'partialMash' && brew.totalGrainFermentables) {\n        brew.mash[index].strikeVolume = Calculator.strikeVolume(\n          brew.totalGrainFermentables,\n          strike.waterToGrain\n        );\n      } else {\n        brew.mash[index].strikeVolume = Calculator.strikeVolume(\n          brew.totalFermentables,\n          strike.waterToGrain,\n        );\n      }\n    }\n  }\n  if (brew.hops.length) {\n    brew.totalHops = Calculator.totalHopWeight(brew.hops);\n  }\n  if (brew.hops.length > 0 && brew.og && brew.batchSize) {\n    let totalIbu = 0;\n    brew.hops = brew.hops.map(hop => {\n      if (hop.use === 'first wort') {\n        hop.lengthInBoil = brew.boilLength;\n      } else if (hop.use === 'mash') {\n        let mashLength = 0;\n        brew.mash.forEach(step => {\n          mashLength += step.stepLength ? Number(step.stepLength) : 0;\n        });\n        hop.lengthInBoil = mashLength;\n      }\n      hop.ibu = Calculator.IBU(\n        [hop],\n        brew.og,\n        brew.batchSize,\n        options.ibuFormula\n      );\n      totalIbu += hop.ibu ? hop.ibu : 0;\n      return hop;\n    });\n    brew.ibu = parseFloat(totalIbu.toFixed(2));\n  }\n  if (\n    brew.batchType !== 'BIAB' &&\n    brew.mash.some(item =>\n      item.grainTemp &&\n      item.targetStepTemp &&\n      item.waterToGrain\n    )\n  ) {\n    let index;\n    const step = brew.mash.find((item, i) => {\n      if (\n        item.grainTemp &&\n        item.targetStepTemp &&\n        item.waterToGrain\n      ) {\n        index = i;\n        return item;\n      } else {\n        return null;\n      }\n    });\n    if (step && index !== undefined) {\n      brew.mash[index].strikeTemp = Calculator.strikeTemp(\n        step.grainTemp,\n        step.targetStepTemp,\n        step.waterToGrain,\n        options.strikeFactor\n      );\n    }\n  }\n  if (\n    brew.batchSize &&\n    brew.boilLength &&\n    brew.evaporationRate &&\n    brew.totalFermentables\n  ) {\n    if (brew.batchType === 'BIAB') {\n      brew.totalWater = Calculator.totalBIABWater(\n        brew.batchSize,\n        brew.boilLength,\n        brew.evaporationRate,\n        brew.totalFermentables,\n        brew.totalHops,\n        options\n      );\n    } else {\n      brew.totalWater = Calculator.totalWater(\n        brew.batchSize,\n        brew.boilLength,\n        brew.evaporationRate,\n        brew.totalFermentables,\n        options\n      );\n    }\n  }\n  if (\n    brew.batchType === 'BIAB' &&\n    brew.totalWater &&\n    brew.totalFermentables &&\n    brew.mash.some(item =>\n      item.grainTemp &&\n      item.targetStepTemp\n    )\n  ) {\n    let index;\n    const step = brew.mash.find((item, i) => {\n      if (\n        item.grainTemp &&\n        item.targetStepTemp\n      ) {\n        index = i;\n        return item;\n      } else {\n        return null;\n      }\n    });\n    if (step && index !== undefined) {\n      brew.mash[index].strikeTemp = Calculator.biabStrikeTemp(\n        brew.totalWater,\n        brew.totalFermentables,\n        step.targetStepTemp,\n        step.grainTemp,\n        options.units\n      );\n    }\n  }\n  if (\n    brew.totalFermentables &&\n    brew.mash.some(item =>\n      item.type === 'infusion' &&\n      item.targetStepTemp &&\n      item.currentMashTemp &&\n      item.infusionWaterTemp\n    )\n  ) {\n    let waterVol = 0;\n    brew.mash.forEach(step => {\n      if (step.type === 'strike') {\n        waterVol = step.strikeVolume\n          ? waterVol + Number(step.strikeVolume * 4) // convert to quarts from gallons\n          : waterVol + 0\n      }\n      if (step.type === 'infusion') {\n        step.infusionWaterVol = Calculator.infusionWaterVol(\n          step.targetStepTemp,\n          step.currentMashTemp,\n          brew.totalFermentables,\n          waterVol,\n          step.infusionWaterTemp\n        );\n        waterVol = step.infusionWaterVol\n          ? waterVol + Number(step.infusionWaterVol)\n          : waterVol + 0;\n      }\n      return step;\n    });\n  }\n  if (\n    brew.batchType === 'allGrain' &&\n    brew.totalWater &&\n    brew.mash.some(item => item.strikeVolume)\n  ) {\n    const step = brew.mash.find(item => item.type === 'strike');\n    let index;\n    let totalInfusionWaterVol = 0;\n    brew.mash.find((item, i) => {\n      if (item.type === 'sparge') {\n        index = i;\n      } else if (item.type === 'infusion') {\n        totalInfusionWaterVol = item.infusionWaterVol\n          ? totalInfusionWaterVol + Number(item.infusionWaterVol / 4) // convert to gallons from quarts\n          : totalInfusionWaterVol + 0\n      }\n      return null;\n    });\n    // if water is added in an infusion, remove amount added from sparge water\n    if (step && step.strikeVolume && index !== undefined) {\n      brew.mash[index].spargeVolume = Calculator.spargeVolume(\n        brew.totalWater,\n        Number(step.strikeVolume) + totalInfusionWaterVol\n      );\n    }\n  }\n  if (brew.fermentables.length > 0 && brew.mashEfficiency && brew.batchSize) {\n    brew.og = Calculator.OG(\n      brew.fermentables,\n      brew.mashEfficiency,\n      brew.batchSize,\n      brew.fermentableUnits\n    );\n  }\n  if (brew.og && brew.totalFermentables && brew.totalWater && brew.batchSize) {\n    brew.preBoilG = Calculator.preBoilG(\n      brew.og,\n      brew.totalFermentables,\n      brew.totalWater,\n      brew.batchSize,\n      options.equipmentLoss,\n      options.absorptionRate,\n      brew.batchType\n    );\n  }\n  if (brew.og && brew.batchSize && brew.targetPitchingRate) {\n    brew.targetPitchingCellCount = Calculator.targetPitchingRate(\n      brew.og,\n      brew.batchSize,\n      brew.targetPitchingRate\n    );\n  }\n  if (brew.yeast.length > 0) {\n    let totalCellCount = 0;\n    brew.yeast.forEach(item => {\n      if (item.units === 'cells') {\n        item.viableCellCount = item.amount;\n      } else {\n        item.viableCellCount = Calculator.pitchingRate(\n          item.type,\n          item.cellCount,\n          item.amount,\n          brew.dateBrewed,\n          item.mfgDate\n        );\n      }\n      totalCellCount += item.viableCellCount ? item.viableCellCount : 0;\n    });\n    brew.pitchCellCount = totalCellCount;\n  }\n  if (brew.totalWater && brew.totalFermentables) {\n    brew.preBoilVolume = Calculator.preBoilVol(\n      brew.totalWater,\n      brew.totalFermentables,\n      options.equipmentLoss,\n      options.absorptionRate,\n      brew.batchType\n    );\n    if (brew.batchType === 'BIAB') {\n      brew.totalMashVolume = Calculator.totalMashVolume(\n        brew.totalWater,\n        brew.totalFermentables\n      );\n    }\n  }\n  if (\n    brew.batchType === 'partialMash' &&\n    brew.preBoilVolume &&\n    brew.mash.some(item => item.strikeVolume) &&\n    brew.totalGrainFermentables\n  ) {\n    const step = brew.mash.find(item => item.strikeVolume);\n    if (step) {\n      brew.topOff = Calculator.partialMashTopOff(\n        brew.preBoilVolume,\n        step.strikeVolume,\n        brew.totalGrainFermentables,\n        options.absorptionRate\n      );\n    }\n  }\n  if (brew.yeast.length > 0 && brew.og) {\n    let attenuationAdditions = 0;\n    brew.yeast.forEach(\n      item =>\n        (attenuationAdditions += item.averageAttenuation\n          ? item.averageAttenuation\n          : 0)\n    );\n    brew.attenuation = attenuationAdditions / brew.yeast.length;\n    brew.fg = Calculator.FG(brew.og, brew.attenuation);\n  }\n  if (brew.og && brew.fg) {\n    brew.alcoholContent = Calculator.alcoholContent(brew.og, brew.fg, 'ABV');\n  }\n  if (\n    brew.beerTemp &&\n    brew.CO2VolumeTarget &&\n    brew.carbonationMethod &&\n    brew.batchSize\n  ) {\n    brew.amountForCO2 = Calculator.CO2(\n      brew.beerTemp,\n      brew.CO2VolumeTarget,\n      brew.carbonationMethod,\n      brew.batchSize\n    );\n  }\n  brew.isDraft = !!brew.isDraft ? brew.isDraft : false;\n\n  return brew;\n};\n\nconst reducer = (state: any, action: any) => {\n  switch (action.type) {\n    case 'process':\n      return processBrew(action.payload, action.options);\n    case 'update':\n      state = {\n        ...state,\n        ...action.payload\n      };\n      return processBrew(state, action.options);\n    case 'clear':\n      return initialState;\n    case 'clone':\n      const clonedState = {...state};\n      delete clonedState.id;\n      delete clonedState.userId;\n      delete clonedState.dateBrewed;\n      delete clonedState.parent;\n      delete clonedState.history;\n      clonedState.name = '';\n      return clonedState;\n    case 'rebrew':\n      const rebrewState = {...state};\n      rebrewState.parent = rebrewState.parent ? rebrewState.parent : rebrewState.id;\n      delete rebrewState.id;\n      delete rebrewState.dateBrewed;\n      return rebrewState;\n    case 'replace':\n      state = {\n        ...action.payload\n      };\n      return sortBrew(state);\n    default:\n      throw new Error('Unexpected action');\n  }\n};\n\nconst BrewProvider = ({ children }: any) => {\n  const contextValue = useReducer(reducer, initialState);\n  return (\n    <BrewContext.Provider value={contextValue}>{children}</BrewContext.Provider>\n  );\n};\n\nconst useBrew = () => {\n  return useContext(BrewContext);\n};\n\nexport default BrewProvider;\nexport { useBrew };\n","import React, { ReactElement, useState, useEffect } from 'react';\n\nimport styles from './FormHandler.module.scss';\nimport BrewSettingsForm from '../../../components/Forms/BrewSettingsForm';\nimport AddFermentableForm from '../../../components/Forms/AddFermentableForm';\nimport AddHopForm from '../../../components/Forms/AddHopForm';\nimport AddYeastForm from '../../../components/Forms/AddYeastForm';\nimport AddAdjunctForm from '../../../components/Forms/AddAdjunctForm';\nimport MashForm from '../../../components/Forms/MashForm';\nimport BoilForm from '../../../components/Forms/BoilForm';\nimport FermentationForm from '../../../components/Forms/FermentationForm';\nimport PackagingForm from '../../../components/Forms/PackagingForm';\nimport NotesForm from '../../../components/Forms/NotesForm';\nimport TagsForm from '../../../components/Forms/TagsForm';\nimport { BrewInterface } from '../../../store/BrewContext';\nimport { useBrew } from '../../../store/BrewContext';\nimport { useModal } from '../../../store/ModalContext';\n\ninterface Props {\n  form: string;\n  nextForm: any;\n  editingData: any;\n  closeSidebar: any;\n  deleteBrew: Function;\n  updateBrew: Function;\n  open: boolean;\n  brewdayResults: boolean;\n}\n\nfunction FormHandler({\n  form,\n  nextForm,\n  editingData,\n  closeSidebar,\n  updateBrew,\n  deleteBrew,\n  open,\n  brewdayResults\n}: Props) {\n\n  let title: string,\n      component: ReactElement | null,\n      submitText: string;\n  \n  // CONTEXT\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n  const [brew] = useBrew();\n\n  // STATE\n  const [formData, setFormData] = useState<BrewInterface | null>(null);\n\n  // Stuff that isn't supposed to be part of the brew\n  const [optionData, setOptionData] = useState<any | null>({});\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  useEffect(() => {\n    if (optionData && optionData.tagDeleted) { saveData() }\n    if (optionData && optionData.units === 'percent' && formData !== null) {\n      formData.fermentableUnits = optionData.units;\n      formData.targetOG = optionData.targetOG;\n    } else if (optionData && optionData.units !== 'percent' && formData !== null) {\n      formData.fermentableUnits = 'weight';\n      formData.targetOG = undefined;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [optionData]);\n\n  const setData = (data: any, options: any = null) => {\n    setFormData(data);\n    setOptionData(options);\n  };\n\n  const handleKeyDown = (e: any) => {\n    // submit and go to the next form on 'enter' press\n    if (\n      open &&\n      e.target.id !== 'editOG' &&\n      !e.target.className.includes('Select_selectContainer') &&\n      !e.target.className.includes('Select_selectSearch') &&\n      e.code === 'Enter'\n    ) {\n      handleNext();\n    }\n  };\n\n  const saveData = () => {\n    // look for duplicate hops and present offer to edit all\n    let dupeHops: any[] = [];\n    let editingIndex: number = 0;\n    if (editingData) {\n      editingIndex = editingData.index - 1;\n      // dupeHops will never contain the just edited data\n      dupeHops = formData && editingData && formData.hops.filter((hop, index) =>\n        hop.name === editingData.name &&\n        hop.alphaAcid === editingData.alphaAcid &&\n        index !== editingIndex\n      );\n    }\n\n    if (\n      dupeHops.length &&\n      formData &&\n      editingData.alphaAcid !== formData.hops[editingIndex].alphaAcid\n    ) {\n      openModal(`Edit the alpha acid on all similar ${dupeHops[0].name} additions?`, 'Yes', 'No', () => {\n        const editSimilarHops = formData.hops.map(hop => {\n          if (hop.alphaAcid === editingData.alphaAcid) {\n            hop.alphaAcid = formData.hops[editingIndex].alphaAcid;\n          }\n          return hop;\n        })\n        updateBrew({...formData, hops: editSimilarHops});\n        modalDispatch({type: 'hide'});\n      }, () => {\n        updateBrew({...formData});\n        modalDispatch({type: 'hide'});\n      });\n    } else if (\n      optionData && optionData.units === 'percent' &&\n      brew.fermentableUnits !== 'percent'\n    ) {\n      // display message that we made a global change\n      openModal('You have changed this brew\\'s grain bill to percentages. This is a global change and will affect all fermentables. You won\\'t need to set this again.', 'Got It', 'Go Back', () => {\n        updateBrew({...formData});\n        modalDispatch({type: 'hide'});\n      }, () => {\n        modalDispatch({type: 'hide'});\n      });\n    } else if (\n      optionData && optionData.units !== 'percent' &&\n      brew.fermentableUnits === 'percent'\n    ) {\n      // display message that we made a global change\n      openModal('You have changed this brew\\'s grain bill to weights. This is a global change and will affect all fermentables. You won\\'t need to set this again.', 'Got It', 'Go Back', () => {\n        updateBrew({...formData});\n        modalDispatch({type: 'hide'});\n      }, () => {\n        modalDispatch({type: 'hide'});\n      });\n    } else {\n      updateBrew({...formData});\n    }\n  };\n\n  const openModal = (\n    message: string,\n    yesText: string,\n    noText: string,\n    yesCallback: Function,\n    noCallback: Function\n  ) => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        body: <p>{message}<br /><br /></p>,\n        buttons: <>\n          <button\n            className=\"button button--brown\"\n            onClick={() => noCallback()}\n          >{noText}</button>\n          <button\n            className=\"button\"\n            onClick={() => yesCallback()}\n          >{yesText}</button>\n        </>\n      }\n    });\n  }\n\n  const handleNext = () => {\n    if (formData !== null) {\n      saveData();\n    }\n    nextForm();\n  };\n\n  const handleDelete = () => {\n    // @ts-ignore-line\n    let editingArray = [...formData[form]];\n    let dataToSet: any = [];\n    const index = editingData.index ? editingData.index - 1 : -1;\n    if (index > -1) {\n      dataToSet = [...editingArray];\n      dataToSet.splice(index, 1);\n    } else {\n      dataToSet = [...editingArray, formData];\n    }\n\n    setFormData({...brew, [form]: dataToSet});\n    updateBrew({...formData, [form]: dataToSet});\n  };\n\n  switch (form) {\n    case 'settings':\n      title = 'Settings';\n      component = <BrewSettingsForm brew={brew} dataUpdated={setData} delete={deleteBrew} />\n      submitText = 'Done';\n      break;\n    case 'fermentables':\n      if (editingData) {\n        title = 'Edit Fermentable';\n        submitText = 'Edit';\n      } else {\n        title = 'Add Fermentable';\n        submitText = '+ Add';\n      }\n      component = <AddFermentableForm brew={brew} editingData={editingData} dataUpdated={setData} />;\n      break;\n    case 'hops':\n      if (editingData) {\n        title = 'Edit Hop';\n        submitText = 'Edit';\n      } else {\n        title = 'Add Hop';\n        submitText = '+ Add';\n      }\n      component = <AddHopForm brew={brew} editingData={editingData} dataUpdated={setData} />;\n      break;\n    case 'yeast':\n      if (editingData) {\n        title = 'Edit Yeast';\n        submitText = 'Edit';\n      } else {\n        title = 'Add Yeast';\n        submitText = '+ Add';\n      }\n      component = <AddYeastForm brew={brew} editingData={editingData} dataUpdated={setData} />;\n      break;\n    case 'adjuncts':\n      if (editingData) {\n        title = 'Edit Adjunct';\n        submitText = 'Edit';\n      } else {\n        title = 'Add Adjunct';\n        submitText = '+ Add';\n      }\n      component = <AddAdjunctForm brew={brew} editingData={editingData} dataUpdated={setData} />;\n      break;\n    case 'mash':\n      if (editingData) {\n        title = 'Edit Mash Step';\n        submitText = 'Edit';\n      } else {\n        title = 'Add Mash Step';\n        submitText = '+ Add';\n      }\n      component = <MashForm brew={brew} dataUpdated={setData} editingData={editingData} />;\n      break;\n    case 'boil':\n      title = 'Boil';\n      component = <BoilForm brew={brew} dataUpdated={setData} />;\n      submitText = 'Done';\n      break;\n    case 'fermentation':\n      if (editingData) {\n        title = 'Edit Fermentation Stage';\n        submitText = 'Edit';\n      } else {\n        title = 'Edit Fermentation Stage';\n        submitText = '+ Add';\n      }\n      component = <FermentationForm brew={brew} dataUpdated={setData} editingData={editingData} />;\n      break;\n    case 'packaging':\n      title = 'Packaging';\n      component = <PackagingForm brew={brew} dataUpdated={setData} />;\n      submitText = 'Done';\n      break;\n    case 'notes':\n      title = 'Notes';\n      component = <NotesForm brew={brew} dataUpdated={setData} />;\n      submitText = 'Done';\n      break;\n    case 'tags':\n      title = 'Tags';\n      component = <TagsForm brew={brew} dataUpdated={setData} saveData={saveData} />;\n      submitText = 'Add Tag';\n      break;\n    default:\n      title = '';\n      component = null;\n      submitText = '';\n      break;\n  }\n\n  return(\n    <div className={styles.formContainer}>\n      {title.length > 0 ? <h2>{title}</h2> : null}\n      <button\n        className={`button button--link ${styles.sideBarClose}`}\n        onClick={closeSidebar}\n      >Done</button>\n      {component}\n      <div className={styles.formContainer__footer}>\n        <button\n          className=\"button button--green button--no-shadow\"\n          onClick={saveData}\n        >{submitText}</button>\n        <button\n          className=\"button button--brown button--no-shadow\"\n          onClick={closeSidebar}\n        >Cancel</button>\n        {form !== 'tags' && editingData === null && !brewdayResults\n          ? <button\n              className=\"button button--no-shadow\"\n              onClick={handleNext}\n            >Next</button>\n          : <br />}\n        {editingData !== null && editingData.type !== 'strike'\n          ? <button\n              className=\"button button--error button--no-shadow\"\n              onClick={handleDelete}\n            >Delete</button>\n          : null}\n      </div>\n    </div>\n  );\n};\n\nexport default FormHandler;","export function isEmpty(obj) {\n  for(var key in obj) {\n      if(obj.hasOwnProperty(key))\n          return false;\n  }\n  return true;\n}","import axios from 'axios';\nimport cloneDeep from 'lodash.clonedeep';\n\nimport { BrewInterface, processOptionsInterface, processBrew } from './BrewContext';\nimport { UserInterface } from './UserContext';\n\nconst options: processOptionsInterface = {\n  units: 'us',\n  ibuFormula: 'rager'\n}\n\nexport async function saveBrew(brew: BrewInterface, user: UserInterface) {\n  // convert brew to use the formulas and units we want to save with\n  const processedBrew = processBrew(cloneDeep(brew), options);\n  const authHeaders = {'authorization': user ? user.token : null};\n  return await axios.post(`${process.env.REACT_APP_API_ENDPOINT}/brew`, {brew: processedBrew}, {\n    headers: authHeaders,\n  });\n}\n\nexport async function updateBrew(brew: BrewInterface, user: UserInterface) {\n  // convert brew to use the formulas and units we want to save with\n  const processedBrew = processBrew(cloneDeep(brew), options);\n  const authHeaders = {'authorization': user ? user.token : null};\n  return await axios.put(`${process.env.REACT_APP_API_ENDPOINT}/brew/${brew.id}`, {brew: processedBrew}, {\n    headers: authHeaders,\n  });\n}\n\nexport async function getBrew(brewId: number, user: UserInterface) {\n  const authHeaders = {'authorization': user ? user.token : null};\n  return await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/brew/${brewId}`, {\n    headers: authHeaders,\n  })\n}\n\nexport async function deleteBrew(brewId: number, user: UserInterface, parent: boolean = false) {\n  const authHeaders = {'authorization': user ? user.token : null};\n  return await axios.delete(`${process.env.REACT_APP_API_ENDPOINT}/brew/${brewId}?parent=${parent}`, {\n    headers: authHeaders,\n  });\n}\n\nexport async function getBrewResults(brewId: number, user: UserInterface) {\n  const authHeaders = {'authorization': user ? user.token : null};\n  return await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/brew/results/${brewId}`, {\n    headers: authHeaders,\n  })\n}\n\nexport async function updateBrewResults(brew: BrewInterface, user: UserInterface) {\n  const authHeaders = {'authorization': user ? user.token : null};\n  if (brew.recipe) { // update\n    return await axios.put(`${process.env.REACT_APP_API_ENDPOINT}/brew/results/${brew.id}`, {brew: brew}, {\n      headers: authHeaders,\n    });\n  } else { // create\n    return await axios.post(`${process.env.REACT_APP_API_ENDPOINT}/brew/results`, {brew: brew}, {\n      headers: authHeaders,\n    });\n  }\n}","export const parseStringValues = (string: string | undefined) => {\n  if (typeof string !== 'string') { return ''};\n  let newString = string.charAt(0).toUpperCase() + string.slice(1)\n  return newString.replace(/([a-z])([A-Z])/g, '$1 $2')\n}\n\nexport const transformNotes = (brew: any) => {\n  if (brew.notes) {\n    return {__html: brew.notes.replace(/\\n/g, '<br>')};\n  }\n}","import React, { useState } from 'react';\n\nimport componentStyles from './BrewComponents.module.scss';\nimport Tooltip from '../../../components/Tooltip/Tooltip';\n\ninterface Props {\n  fieldName: string;\n  value: any;\n  editValue: Function;\n  editing: boolean;\n  setEditing: Function;\n  brewdayResults: boolean;\n  calculate?: Function;\n  label?: string;\n  noInputLabel?: boolean; // do not display a label when input is visible\n  classes?: any;\n}\n\nconst BrewEditableField = (props: Props) => {\n  const {\n    fieldName,\n    value,\n    editValue,\n    label,\n    classes,\n    editing,\n    setEditing,\n    noInputLabel,\n    brewdayResults,\n    calculate\n  } = props;\n\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [showInput, setShowInput] = useState(false);\n\n  const openEditMenu = (event: any) => {\n    event.stopPropagation();\n    if (brewdayResults) {\n      setShowTooltip(true);\n    }\n  }\n\n  const closeEditMenu = (event: any) => {\n    event.stopPropagation();\n    setShowTooltip(false);\n  }\n\n  const handleEdit = (event: any) => {\n    event.stopPropagation();\n    setShowInput(true);\n    setShowTooltip(false);\n    setEditing(true);\n  }\n\n  const handleCalculate = (event: any) => {\n    event.stopPropagation();\n    calculate && calculate();\n    setShowTooltip(false);\n  }\n\n  return (\n    <span\n      onMouseEnter={openEditMenu}\n      onMouseLeave={closeEditMenu}\n    >\n      <Tooltip\n        show={showTooltip && !editing}\n        placement=\"top-center\"\n        onClose={() => closeEditMenu}\n        className={componentStyles.editResultsMenu}\n      >\n        <button\n          className={`button button--link button--small ${componentStyles.moreButton}`}\n          onClick={handleEdit}\n        >Edit</button>\n        {calculate && <><hr className={componentStyles.divider} />\n          <button\n            className={`button button--link button--small ${componentStyles.moreButton}`}\n            onClick={handleCalculate}\n          >Calculate</button></>}\n      </Tooltip>\n\n      {showInput\n        ? <>\n            <input\n              type=\"number\"\n              className={`${componentStyles.editInput} ${classes}`}\n              autoFocus\n              defaultValue={value}\n              onBlur={e => {\n                setShowInput(false);\n                setEditing(false);\n                editValue(e.currentTarget.value, fieldName);\n              }}\n              onKeyPress={(e) => {\n                if (e.key === 'Enter') {\n                  setShowInput(false);\n                  setEditing(false);\n                  editValue(e.currentTarget.value, fieldName);\n                }\n              }}\n            />{!noInputLabel && label ? label : ''}\n          </>\n        : value !== null ? `${value}${label ? label : ''}` : ''}\n    </span>\n  );\n}\n\nexport default BrewEditableField;","import React, { useState } from \"react\";\n\nimport styles from \"../Brew.module.scss\";\nimport componentStyles from \"./BrewComponents.module.scss\";\nimport Card from \"../../../components/Card/Card\";\nimport {\n  BrewInterface,\n  processOptionsInterface\n} from \"../../../store/BrewContext\";\nimport { parseStringValues } from \"../BrewUtils\";\nimport { getSrmToRgb } from \"../../../resources/javascript/srmToRgb\";\nimport {\n  gal2l,\n  l2gal,\n  mashEfficiency,\n  attenuation,\n  alcoholContent,\n  IBU,\n  SRM,\n  totalBIABWater,\n  totalWater\n} from \"../../../resources/javascript/calculator\";\nimport BrewEditableField from \"./BrewEditableField\";\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  clone: Function;\n  brewdayResultsToggle: Function;\n  user: any;\n  brewdayResults: boolean;\n  applyEdit: Function;\n  originalBrew: BrewInterface | null;\n  options: processOptionsInterface;\n}\n\nconst BrewSettingsAndStats = (props: Props) => {\n  const {\n    brew,\n    newBrew,\n    readOnly,\n    unitLabels,\n    openSideBar,\n    clone,\n    brewdayResults,\n    user,\n    brewdayResultsToggle,\n    applyEdit,\n    originalBrew,\n    options\n  } = props;\n\n  const [editing, setEditing] = useState(false);\n  const [showSwatch, setShowSwatch] = useState(true);\n\n  const editValue = (array: { value: any; choice: string }[]) => {\n    const editedBrew = { ...brew };\n    array.forEach(change => {\n      let data;\n      if (change.choice === \"batchSize\") {\n        data = user.units === \"metric\" ? l2gal(change.value) : change.value;\n      } else {\n        data = change.value;\n      }\n      editedBrew[change.choice] = data;\n    });\n    applyEdit(editedBrew);\n  };\n\n  const utilityProps = {\n    editValue,\n    editing,\n    setEditing,\n    brewdayResults\n  };\n  const { isDraft } = brew;\n\n  return (\n    <Card\n      color=\"brew\"\n      customClass={`\n        ${newBrew && styles.new}\n        ${brewdayResults && styles.res}\n        ${isDraft && styles.draft}\n        ${!newBrew && !brewdayResults && !isDraft && styles.view}\n      `}\n    >\n      <div className={styles.brew__numbers}>\n        <div className={styles.brew__numbersMenu}>\n          <ul className={styles.brew__numbersList}>\n            <li>\n              Brew Method: <strong>{parseStringValues(brew.batchType)}</strong>\n            </li>\n            <li>\n              Batch Size:{\" \"}\n              <strong>\n                <BrewEditableField\n                  fieldName=\"batchSize\"\n                  value={\n                    brew.batchSize\n                      ? user.units === \"metric\"\n                        ? parseFloat(gal2l(brew.batchSize).toFixed(2))\n                        : brew.batchSize\n                      : null\n                  }\n                  label={` ${unitLabels.vol}`}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    let totalWaterVol;\n                    if (originalBrew && brew.batchType === \"BIAB\") {\n                      totalWaterVol = totalBIABWater(\n                        Number(value),\n                        brew.boilLength,\n                        brew.evaporationRate,\n                        originalBrew.totalFermentables,\n                        originalBrew.totalHops,\n                        options\n                      );\n                    } else if (originalBrew) {\n                      totalWaterVol = totalWater(\n                        Number(value),\n                        brew.boilLength,\n                        brew.evaporationRate,\n                        originalBrew.totalFermentables,\n                        options\n                      );\n                    }\n                    editValue([\n                      { value: Number(value), choice: fieldName },\n                      { value: totalWaterVol, choice: \"totalWater\" }\n                    ]);\n                  }}\n                />\n              </strong>\n              {originalBrew !== null &&\n                Number(originalBrew.batchSize) !== Number(brew.batchSize) && (\n                  <span className={componentStyles.originalValue}>\n                    Batch Size:{\" \"}\n                    <strong>\n                      {user.units === \"metric\"\n                        ? parseFloat(gal2l(originalBrew.batchSize).toFixed(2))\n                        : originalBrew.batchSize}{\" \"}\n                      {unitLabels.vol}\n                    </strong>\n                  </span>\n                )}\n            </li>\n            <li>\n              Mash Efficiency:{\" \"}\n              <strong>\n                <BrewEditableField\n                  fieldName=\"mashEfficiency\"\n                  value={brew.mashEfficiency ? brew.mashEfficiency : null}\n                  label=\"%\"\n                  calculate={() => {\n                    if (\n                      brew.fermentables &&\n                      brew.preBoilVolume &&\n                      brew.preBoilG\n                    ) {\n                      const value = mashEfficiency(\n                        brew.fermentables,\n                        Number(brew.preBoilVolume),\n                        Number(brew.preBoilG)\n                      );\n                      editValue([{ value: value, choice: \"mashEfficiency\" }]);\n                    }\n                  }}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n              </strong>\n              {originalBrew !== null &&\n                Number(originalBrew.mashEfficiency) !==\n                  Number(brew.mashEfficiency) && (\n                  <span className={componentStyles.originalValue}>\n                    Mash Efficiency:{\" \"}\n                    <strong>{originalBrew.mashEfficiency}%</strong>\n                  </span>\n                )}\n            </li>\n          </ul>\n\n          <div className={styles.brew__menu}>\n            {!readOnly && (\n              <button\n                className={`button button--icon-large button--light-brown button--no-shadow gear`}\n                onClick={openSideBar(\"settings\")}\n                title=\"Settings\"\n                disabled={brewdayResults}\n              >\n                <span>Settings</span>\n              </button>\n            )}\n            {/* {!readOnly && <button\n                className={`button button--icon-large button--light-brown button--no-shadow eq`}\n                onClick={() =>{}}\n                title=\"Brew EQ\"\n                disabled={brewdayResults}\n              ><span>Brew&nbsp;EQ</span></button>} */}\n            <button\n              className={`button button--icon-large button--light-brown button--no-shadow clone`}\n              onClick={clone()}\n              title=\"Clone\"\n              disabled={newBrew || brewdayResults || isDraft}\n            >\n              <span>Clone</span>\n            </button>\n            {!readOnly && (\n              <button\n                className={`button button--icon-large button--light-brown button--no-shadow results`}\n                onClick={brewdayResultsToggle()}\n                disabled={newBrew || isDraft}\n                title=\"Brewday Results\"\n              >\n                <span>Brewday&nbsp;Results</span>\n              </button>\n            )}\n          </div>\n        </div>\n        <div className={styles.brew__stats}>\n          <div className={styles.brew__stat}>\n            <div>\n              <span className={styles.value}>\n                <BrewEditableField\n                  fieldName=\"alcoholContent\"\n                  value={brew.alcoholContent ? brew.alcoholContent : null}\n                  label=\"%\"\n                  noInputLabel\n                  calculate={() => {\n                    const value = alcoholContent(brew.og, brew.fg);\n                    editValue([{ value: value, choice: \"alcoholContent\" }]);\n                  }}\n                  classes={`${componentStyles.editInputCenter} ${componentStyles.editInputLarge}`}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n              </span>\n              {originalBrew !== null &&\n                Number(originalBrew.alcoholContent) !==\n                  Number(brew.alcoholContent) && (\n                  <span\n                    className={`${componentStyles.originalValue} ${componentStyles.bottomSpacing}`}\n                  >\n                    <strong>{originalBrew.alcoholContent}%</strong>\n                  </span>\n                )}\n              <label className={styles.label}>ABV</label>\n            </div>\n          </div>\n          <div className={styles.brew__stat}>\n            <div>\n              <span className={styles.value}>\n                <BrewEditableField\n                  fieldName=\"attenuation\"\n                  value={brew.attenuation ? brew.attenuation : null}\n                  label=\"%\"\n                  noInputLabel\n                  calculate={() => {\n                    const value = attenuation(brew.og, brew.fg);\n                    editValue([{ value: value, choice: \"attenuation\" }]);\n                  }}\n                  classes={`${componentStyles.editInputCenter} ${componentStyles.editInputLarge}`}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n              </span>\n              {originalBrew !== null &&\n                Number(originalBrew.attenuation) !==\n                  Number(brew.attenuation) && (\n                  <span\n                    className={`${componentStyles.originalValue} ${componentStyles.bottomSpacing}`}\n                  >\n                    <strong>{originalBrew.attenuation}%</strong>\n                  </span>\n                )}\n              <label className={styles.label}>ATTEN</label>\n            </div>\n          </div>\n          <div className={styles.brew__stat}>\n            <div>\n              <span className={styles.value}>\n                <BrewEditableField\n                  fieldName=\"ibu\"\n                  value={brew.ibu ? brew.ibu : null}\n                  noInputLabel\n                  calculate={() => {\n                    const value = IBU(brew.hops, brew.og, brew.batchSize);\n                    editValue([{ value: value, choice: \"ibu\" }]);\n                  }}\n                  classes={`${componentStyles.editInputCenter} ${componentStyles.editInputLarge}`}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n              </span>\n              {originalBrew !== null &&\n                Number(originalBrew.ibu) !== Number(brew.ibu) && (\n                  <span\n                    className={`${componentStyles.originalValue} ${componentStyles.bottomSpacing}`}\n                  >\n                    <strong>{originalBrew.ibu}</strong>\n                  </span>\n                )}\n              <label className={styles.label}>IBU</label>\n            </div>\n          </div>\n          <div className={styles.brew__stat}>\n            <div>\n              <span className={styles.value}>\n                {brew.srm && showSwatch && (\n                  <div\n                    className={styles.srmSwatch}\n                    style={{ backgroundColor: getSrmToRgb(brew.srm) }}\n                  />\n                )}\n                <BrewEditableField\n                  fieldName=\"srm\"\n                  value={brew.srm ? brew.srm : null}\n                  noInputLabel\n                  calculate={() => {\n                    const value = SRM(brew.fermentables, brew.batchSize);\n                    editValue([{ value: value, choice: \"srm\" }]);\n                  }}\n                  classes={`${componentStyles.editInputCenter} ${componentStyles.editInputLarge}`}\n                  {...utilityProps}\n                  setEditing={(value: boolean) => {\n                    setEditing(value);\n                    setShowSwatch(!value);\n                  }}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n              </span>\n              {originalBrew !== null &&\n                Number(originalBrew.srm) !== Number(brew.srm) && (\n                  <span\n                    className={`${componentStyles.originalValue} ${componentStyles.bottomSpacing}`}\n                  >\n                    <strong>{originalBrew.srm}</strong>\n                  </span>\n                )}\n              <label className={styles.label}>SRM</label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default BrewSettingsAndStats;\n","import React, { useState, useEffect } from 'react';\n\nimport styles from '../Brew.module.scss';\nimport componentStyles from './BrewComponents.module.scss';\nimport Card from '../../../components/Card/Card';\nimport List from '../../../components/List/List';\nimport ListItem from '../../../components/ListItem/ListItem';\nimport { BrewInterface, FermentableInterface } from '../../../store/BrewContext';\nimport { lb2kg } from '../../../resources/javascript/calculator';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n  brewdayResults: boolean;\n  originalBrew: BrewInterface | null;\n  updateBrew: Function;\n}\n\nconst BrewFermentables = (props: Props) => {\n  const containerRef: any = React.useRef();\n  const {brew, newBrew, readOnly, unitLabels, openSideBar, user, brewdayResults, originalBrew, updateBrew} = props;\n  const { isDraft } = brew;\n  const [editing, setEditing] = useState<number | undefined>(undefined);\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerRef]);\n\n  const handleClickOutside = (e: MouseEvent) => {\n    if (containerRef.current && !containerRef.current.contains(e.target)) {\n      setEditing(undefined);\n    }\n  };\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (e.keyCode === 13) {\n      setEditing(undefined);\n    }\n  };\n\n  const getFermentableWeight = (weight: number = 0): number => {\n    return user.units === 'metric' ? parseFloat(lb2kg(weight).toFixed(2)) : weight\n  }\n\n  const calculatedWeight = (index: number) => {\n    if (brewdayResults && originalBrew) {\n      return originalBrew.fermentables[index].calculatedWeight;\n    } else {\n      return brew.fermentables[index].calculatedWeight;\n    }\n  };\n\n  const weightUpdated = (index: number) => (event: React.ChangeEvent<HTMLInputElement>) => {\n    brew.fermentables[index].weight = +event.currentTarget.value;\n    updateBrew(brew);\n  }\n\n  const handleEditToggle = (index: number) => (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (!readOnly && !brewdayResults) {\n      setEditing(index);\n    }\n  }\n\n  return (\n    <Card color=\"brew\" customClass={`\n    ${newBrew && styles.new}\n    ${brewdayResults && styles.res}\n    ${isDraft && styles.draft}\n    ${!newBrew && !brewdayResults && !isDraft && styles.view}\n  `}>\n      <div className={styles.brew__header}>\n        <h2>Fermentables</h2>\n        {brew && brew.fermentables.length > 0 && !brewdayResults\n          ? <span>Total: {getFermentableWeight(brew.totalFermentables)} {unitLabels.largeWeight}{brew.totalFermentablesPercent && ` (${brew.totalFermentablesPercent}%)`}</span>\n          : null}\n        {!readOnly && !brewdayResults\n          ? <button\n              className={`button button--icon plus ${styles.editButton}`}\n              onClick={openSideBar('fermentables')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <List customClass={`${styles.brew__ingredients} ${styles.fermentables}`}>\n        {brew && brew.fermentables.map((fermentable: FermentableInterface, index: number) => (\n          <ListItem\n            color=\"brew\"\n            clicked={!readOnly && !brewdayResults ? openSideBar('fermentables', {...fermentable, index: index + 1}) : null}\n            key={`${fermentable.id}${index}`}\n            customClass={componentStyles.ingredientListItem}\n          >\n            <span\n              className={`\n                ${styles.firstCol}\n                ${!readOnly && !brewdayResults && componentStyles.editable}\n                ${editing === index && componentStyles.editing}\n              `}\n              onClick={handleEditToggle(index)}\n            >\n            {!!fermentable.weight && (\n              brew.fermentableUnits === 'percent'\n                ? <>{editing === index\n                    ? <><input\n                        type=\"number\"\n                        step=\"0.1\"\n                        defaultValue={getFermentableWeight(fermentable.weight)}\n                        onChange={weightUpdated(index)}\n                        className={componentStyles.amountEditor}\n                        ref={containerRef}\n                        autoFocus\n                      />%</>\n                    : `${getFermentableWeight(calculatedWeight(index))} ${unitLabels.largeWeight} (${fermentable.weight}%)`}\n                    \n                  </>\n                : <>{editing === index\n                    ? <input\n                        type=\"number\"\n                        step=\"0.1\"\n                        defaultValue={getFermentableWeight(fermentable.weight)}\n                        onChange={weightUpdated(index)}\n                        className={componentStyles.amountEditor}\n                        ref={containerRef}\n                        autoFocus\n                      />\n                    : getFermentableWeight(fermentable.weight) + ' '}\n                    {unitLabels.largeWeight}\n                  </>\n              )\n            }\n            </span>\n            <span className={styles.secondCol}>{fermentable.name ? fermentable.name : fermentable.custom}</span>\n            <span className={styles.thirdCol}>{fermentable.lovibond} °L</span>\n            <span className={styles.fourthCol}>{fermentable.origin}</span>\n          </ListItem>\n        ))}\n      </List>\n    </Card>\n  );\n}\n\nexport default BrewFermentables;","import React, { useState, useEffect } from 'react';\n\nimport styles from '../Brew.module.scss';\nimport componentStyles from './BrewComponents.module.scss';\nimport Card from '../../../components/Card/Card';\nimport List from '../../../components/List/List';\nimport ListItem from '../../../components/ListItem/ListItem';\nimport { BrewInterface, HopInterface } from '../../../store/BrewContext';\nimport { oz2g } from '../../../resources/javascript/calculator';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n  brewdayResults: boolean;\n  updateBrew: Function;\n}\n\nconst BrewHops = (props: Props) => {\n  const containerRef: any = React.useRef();\n  const {brew, newBrew, readOnly, unitLabels, openSideBar, user, brewdayResults, updateBrew} = props;\n  const { isDraft } = brew;\n  const [editing, setEditing] = useState<number | undefined>(undefined);\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerRef]);\n\n  const handleClickOutside = (e: MouseEvent) => {\n    if (containerRef.current && !containerRef.current.contains(e.target)) {\n      setEditing(undefined);\n    }\n  };\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (e.keyCode === 13) {\n      setEditing(undefined);\n    }\n  };\n\n  const handleEditToggle = (index: number) => (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (!readOnly && !brewdayResults) {\n      setEditing(index);\n    }\n  }\n\n  const weightUpdated = (index: number) => (event: React.ChangeEvent<HTMLInputElement>) => {\n    brew.hops[index].weight = +event.currentTarget.value;\n    updateBrew(brew);\n  }\n\n  const getHopWeight = (weight: number = 0): number => {\n    return user.units === 'metric' ? parseFloat(oz2g(weight).toFixed(2)) : weight\n  }\n\n  return (\n    <Card color=\"brew\" customClass={`\n    ${newBrew && styles.new}\n    ${brewdayResults && styles.res}\n    ${isDraft && styles.draft}\n    ${!newBrew && !brewdayResults && !isDraft && styles.view}\n  `}>\n      <div className={styles.brew__header}>\n        <h2>Hops</h2>\n        {brew && brew.hops.length > 0 && !brewdayResults\n          ? <span>\n              Total: {getHopWeight(brew.totalHops)} {unitLabels.smallWeight}\n            </span>\n          : null}\n        {!readOnly && !brewdayResults\n          ? <button\n              className={`button button--icon plus ${styles.editButton}`}\n              onClick={openSideBar('hops')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <List customClass={`${styles.brew__ingredients} ${styles.hops}`}>\n        {brew && brew.hops.map((hop: HopInterface, index: number) => (\n          <ListItem\n            color=\"brew\"\n            clicked={!readOnly && !brewdayResults ? openSideBar('hops', {...hop, index: index + 1}) : null}\n            key={`${hop.id}${index}`}\n            customClass={componentStyles.ingredientListItem}\n          >\n            <span\n              className={`\n                ${styles.firstCol}\n                ${!readOnly && !brewdayResults && componentStyles.editable}\n                ${editing === index && componentStyles.editing}\n              `}\n              onClick={handleEditToggle(index)}\n            >\n              {!!hop.weight && (\n                editing === index\n                ? <input\n                    type=\"number\"\n                    step=\"0.1\"\n                    defaultValue={getHopWeight(hop.weight)}\n                    onChange={weightUpdated(index)}\n                    className={componentStyles.amountEditor}\n                    ref={containerRef}\n                    autoFocus\n                  />\n                : getHopWeight(hop.weight) + ' '\n              )}\n              {!!hop.weight && unitLabels.smallWeight}\n            </span>\n            <span className={styles.secondCol}>{hop.name ? hop.name : hop.custom}</span>\n            <span className={styles.thirdCol}>{hop.alphaAcid ? `${hop.alphaAcid}% AA` : null}</span>\n            <span className={styles.fourthCol}>\n              {(!!hop.lengthInBoil || hop.lengthInBoil === 0)\n              && hop.use === 'boil' ? `${hop.lengthInBoil} min` : null}\n              {hop.days ? `${hop.days} days` : null}\n            </span>\n            <span className={styles.fifthCol}>\n              {hop.ibu && hop.ibu !== Infinity ? <>{hop.ibu} IBU</> : null}\n            </span>\n            <span className={styles.sixthCol}>\n              {hop.use ? <div style={{textTransform: 'capitalize'}}>{hop.use}</div> : null}\n            </span>\n          </ListItem>\n        ))}\n      </List>\n    </Card>\n  );\n}\n\nexport default BrewHops;","import React, { useState, useEffect } from 'react';\n\nimport styles from '../Brew.module.scss';\nimport componentStyles from './BrewComponents.module.scss';\nimport Card from '../../../components/Card/Card';\nimport List from '../../../components/List/List';\nimport ListItem from '../../../components/ListItem/ListItem';\nimport { BrewInterface, AdjunctInterface } from '../../../store/BrewContext';\nimport { getAdjunctById } from '../../../resources/javascript/functions';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n  brewdayResults: boolean;\n  updateBrew: Function;\n}\n\nconst BrewAdjuncts = (props: Props) => {\n  const containerRef: any = React.useRef();\n  const {brew, newBrew, readOnly, openSideBar, brewdayResults, updateBrew} = props;\n  const { isDraft } = brew;\n  const [editing, setEditing] = useState<number | undefined>(undefined);\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerRef]);\n\n  const handleClickOutside = (e: MouseEvent) => {\n    if (containerRef.current && !containerRef.current.contains(e.target)) {\n      setEditing(undefined);\n    }\n  };\n\n  const handleKeyDown = (e: KeyboardEvent) => {\n    if (e.keyCode === 13) {\n      setEditing(undefined);\n    }\n  };\n\n  const handleEditToggle = (index: number) => (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (!readOnly && !brewdayResults) {\n      setEditing(index);\n    }\n  }\n\n  const weightUpdated = (index: number) => (event: React.ChangeEvent<HTMLInputElement>) => {\n    brew.adjuncts[index].amount = +event.currentTarget.value;\n    updateBrew(brew);\n  }\n\n  return (\n    <Card color=\"brew\" customClass={`\n    ${newBrew && styles.new}\n    ${brewdayResults && styles.res}\n    ${isDraft && styles.draft}\n    ${!newBrew && !brewdayResults && !isDraft && styles.view}\n  `}>\n      <div className={styles.brew__header}>\n        <h2>Adjuncts</h2>\n        {!readOnly && !brewdayResults\n          ? <button\n              className={`button button--icon plus ${styles.editButton}`}\n              onClick={openSideBar('adjuncts')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <List customClass={`${styles.brew__ingredients} ${styles.adjuncts}`}>\n        {brew && brew.adjuncts.map((adjunct: AdjunctInterface, index: number) => (\n          <ListItem\n            color=\"brew\"\n            clicked={!readOnly && !brewdayResults ? openSideBar('adjuncts', {...adjunct, index: index + 1}) : null}\n            key={`${adjunct.id}${index}`}\n            customClass={componentStyles.ingredientListItem}\n          >\n            <span\n              className={`\n                ${styles.firstCol}\n                ${!readOnly && !brewdayResults && componentStyles.editable}\n                ${editing === index && componentStyles.editing}\n              `}\n              onClick={handleEditToggle(index)}\n            >\n              {(!!adjunct.amount || adjunct.amount === 0) && (\n                editing === index\n                  ? <input\n                      type=\"number\"\n                      step=\"0.1\"\n                      defaultValue={adjunct.amount}\n                      onChange={weightUpdated(index)}\n                      className={componentStyles.amountEditor}\n                      ref={containerRef}\n                      autoFocus\n                    />\n                  : adjunct.amount + ' '\n              )}\n              {(!!adjunct.amount || adjunct.amount === 0) && adjunct.units}\n            </span>\n            <span className={styles.secondCol}>{adjunct.name ? adjunct.name : adjunct.custom}</span>\n            <span className={styles.thirdCol}>\n              {!!adjunct.time || adjunct.time === 0\n                ? `${adjunct.time} ${adjunct.use === 'mash' || adjunct.use === 'boil'\n                  ? 'min'\n                  : 'days'}`\n                : null}\n            </span>\n            <span className={styles.fourthCol}>{adjunct.use}</span>\n            <span className={styles.sixthCol}>{getAdjunctById(adjunct.category)}</span>\n          </ListItem>\n        ))}\n      </List>\n    </Card>\n  );\n}\n\nexport default BrewAdjuncts;","import React from 'react';\n\nimport styles from '../Brew.module.scss';\nimport componentStyles from './BrewComponents.module.scss';\nimport Card from '../../../components/Card/Card';\nimport List from '../../../components/List/List';\nimport ListItem from '../../../components/ListItem/ListItem';\nimport { BrewInterface, YeastInterface } from '../../../store/BrewContext';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n  brewdayResults: boolean;\n}\n\nconst BrewYeast = (props: Props) => {\n  const {brew, newBrew, readOnly, openSideBar, brewdayResults} = props;\n  const { isDraft } = brew;\n  return (\n    <Card color=\"brew\" customClass={`\n    ${newBrew && styles.new}\n    ${brewdayResults && styles.res}\n    ${isDraft && styles.draft}\n    ${!newBrew && !brewdayResults && !isDraft && styles.view}\n  `}>\n      <div className={styles.brew__header}>\n        <h2>Yeast</h2>\n        {brew && brew.yeast.length > 0 && !brewdayResults\n          ? <span>{brew.pitchCellCount} bn cells {brew.targetPitchingCellCount\n              ? <>of {brew.targetPitchingCellCount} bn target</>\n              : null}\n            </span>\n          : null}\n        {!readOnly && !brewdayResults\n          ? <button\n              className={`button button--icon plus ${styles.editButton}`}\n              onClick={openSideBar('yeast')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <List customClass={`${styles.brew__ingredients} ${styles.yeast}`}>\n        {brew && brew.yeast.map((item: YeastInterface, index: number) => (\n          <ListItem\n            color=\"brew\"\n            clicked={!readOnly && !brewdayResults ? openSideBar('yeast', {...item, index: index + 1}) : null}\n            key={`${item.id}${index}`}\n            customClass={componentStyles.ingredientListItem}\n          >\n            <span className={styles.firstCol}>\n              {item.amount} {item.units === 'cells' ? 'bn cells' : item.units}\n            </span>\n            <span className={styles.secondCol}>\n              {item.manufacturer ? `${item.manufacturer} - ` : null}{item.name ? item.name : item.custom}\n            </span>\n            <span className={styles.thirdCol}>{item.averageAttenuation}% average attenuation</span>\n          </ListItem>\n        ))}\n      </List>\n    </Card>\n  );\n}\n\nexport default BrewYeast;","import React, { useState } from 'react';\n\nimport styles from '../Brew.module.scss';\nimport componentStyles from './BrewComponents.module.scss';\nimport { BrewInterface, MashInterface, processOptionsInterface } from '../../../store/BrewContext';\nimport { gal2l, f2c, qt2l, l2gal, c2f, l2qt, strikeVolume, strikeTemp, spargeVolume } from '../../../resources/javascript/calculator';\nimport BrewEditableField from './BrewEditableField';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n  brewdayResults: boolean;\n  applyEdit: Function;\n  originalBrew: BrewInterface | null;\n  options: processOptionsInterface;\n}\n\nconst BrewMash = (props: Props) => {\n  const {\n    brew,\n    readOnly,\n    unitLabels,\n    openSideBar,\n    user,\n    brewdayResults,\n    applyEdit,\n    originalBrew,\n    options\n  } = props;\n\n  const [editing, setEditing] = useState(false);\n\n  const editValue = (array: {value: any, choice: string, index: number | null}[]) => {\n    const editedBrew = {...brew};\n    array.forEach(change => {\n      let data;\n      switch (change.choice) {\n        case 'strikeVolume':\n        case 'spargeVolume':\n        case 'totalWater':\n        case 'totalMashVolume':\n          data = user.units === 'metric' ? l2gal(change.value) : change.value;\n          break;\n        case 'strikeTemp':\n        case 'targetStepTemp':\n        case 'infusionWaterTemp':\n        case 'spargeTemp':\n          data = user.units === 'metric' ? c2f(change.value) : change.value;\n          break;\n        case 'infusionWaterVol':\n          data = user.units === 'metric' ? l2qt(change.value) : change.value;\n          break;\n        default:\n          data = change.value;\n      }\n      if (editedBrew.mash && change.index !== null && (change.choice !== 'totalWater' && change.choice !== 'totalMashVolume')) {\n        editedBrew.mash[change.index][change.choice] = data;\n      } else {\n        editedBrew[change.choice] = Number(data);\n      }\n    });\n    applyEdit(editedBrew);\n  }\n\n  const calculateRatio = (strikeVolume: number | undefined = 0, totalFermentables: number | undefined = 0) => {\n    let value = (strikeVolume * 4) / totalFermentables;\n    return value;\n  }\n\n  const utilityProps = {\n    editValue,\n    editing,\n    setEditing,\n    brewdayResults\n  }\n\n  return (\n    <div className={`${styles.brew__section} ${styles.mash}`}>\n      <div className={styles.brew__header}>\n        <h2>Mash</h2>\n        <span>{brew.batchType === 'BIAB' &&\n          brew.totalMashVolume &&\n          brew.kettleSize &&\n          Number(brew.totalMashVolume) > Number(brew.kettleSize)\n            ? <>Warning: Total mash volume exceeds kettle size</>\n            : null}\n        </span>\n        {!readOnly && !brewdayResults\n          ? <button\n              className={`button button--icon pen ${styles.editButton}`}\n              onClick={openSideBar('mash')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      {brew && brew.mash.map((step: MashInterface, index: number) => {\n        const originalStep = originalBrew !== null ? {...originalBrew.mash[index]} : null;\n        return (\n        <div\n          key={`step${index + 1}`} className={styles.mash_step}\n          onClick={!readOnly && !brewdayResults ? openSideBar('mash', {...step, index: index + 1}) : () => null}\n        >\n          <label className={styles.mash_label}>\n            {index + 1}: {step.type ? step.type.toUpperCase() : ''}\n          </label>\n          <div className={styles.section__values}>\n            {step.type === 'strike'\n              ? <>\n                <span>\n                  {step.strikeVolume && brew.batchType !== 'BIAB' && step.strikeTemp\n                    ? <>Strike with <strong>\n                          <BrewEditableField\n                            fieldName=\"strikeVolume\"\n                            value={user.units === 'metric'\n                              ? parseFloat(gal2l(step.strikeVolume).toFixed(2))\n                              : step.strikeVolume}\n                            label={` ${unitLabels.vol}`}\n                            calculate={() => {\n                              let value;\n                              if (brew.batchType === 'partialMash') {\n                                value = strikeVolume(\n                                  originalBrew && originalBrew.totalGrainFermentables,\n                                  step.waterToGrain\n                                );\n                              } else {\n                                value = strikeVolume(\n                                  originalBrew && originalBrew.totalFermentables,\n                                  step.waterToGrain\n                                );\n                              }\n                              value = user.units === 'metric' ? gal2l(value) : value;\n                              editValue([{value: value, choice: 'strikeVolume', index: index}]);\n                            }}\n                            {...utilityProps}\n                            editValue={(value: any, fieldName: any) => {\n                              editValue([{value: value, choice: fieldName, index: index}])\n                            }}\n                          />\n                        </strong> at <strong>\n                          <BrewEditableField\n                            fieldName=\"strikeTemp\"\n                            value={user.units === 'metric'\n                              ? parseFloat(f2c(step.strikeTemp).toFixed(2))\n                              : step.strikeTemp}\n                            label={` °${unitLabels.temp}`}\n                            calculate={() => {\n                              let value = strikeTemp(\n                                step.grainTemp,\n                                step.targetStepTemp,\n                                calculateRatio(\n                                  step.strikeVolume,\n                                  originalBrew && originalBrew.totalFermentables ? originalBrew.totalFermentables : 0\n                                ),\n                                options.strikeFactor\n                              );\n                              value = user.units === 'metric' ? f2c(value) : value;\n                              editValue([{value: value, choice: 'strikeTemp', index: index}]);\n                            }}\n                            {...utilityProps}\n                            editValue={(value: any, fieldName: any) => {\n                              editValue([{value: value, choice: fieldName, index: index}])\n                            }}\n                          />\n                        </strong>\n                        {((originalStep !== null && Number(originalStep.strikeVolume) !== Number(step.strikeVolume)) ||\n                        (originalStep !== null && Number(originalStep.strikeTemp) !== Number(step.strikeTemp))) &&\n                          <span className={componentStyles.originalValue}>\n                            Strike with <strong>{user.units === 'metric'\n                              ? parseFloat(gal2l(originalStep.strikeVolume).toFixed(2))\n                              : originalStep.strikeVolume} {unitLabels.vol} </strong>\n                            at <strong>{user.units === 'metric'\n                              ? parseFloat(f2c(originalStep.strikeTemp).toFixed(2))\n                              : originalStep.strikeTemp} °{unitLabels.temp}</strong>\n                          </span>}\n                      </>\n                    : null}\n                  {brew.totalWater && brew.batchType === 'BIAB' && step.strikeTemp\n                    ? <>Strike with <strong>\n                          <BrewEditableField\n                            fieldName=\"totalWater\"\n                            value={user.units === 'metric'\n                            ? parseFloat(gal2l(brew.totalWater).toFixed(2))\n                            : brew.totalWater.toFixed(2)}\n                            label={` ${unitLabels.vol}`}\n                            {...utilityProps}\n                            editValue={(value: any, fieldName: any) => {\n                              editValue([{value: value, choice: fieldName, index: index}])\n                            }}\n                          />\n                        &nbsp;</strong>at <strong>\n                          <BrewEditableField\n                            fieldName=\"strikeTemp\"\n                            value={user.units === 'metric'\n                              ? parseFloat(f2c(step.strikeTemp).toFixed(1))\n                              : step.strikeTemp}\n                            label={` °${unitLabels.temp}`}\n                            {...utilityProps}\n                            editValue={(value: any, fieldName: any) => {\n                              editValue([{value: value, choice: fieldName, index: index}])\n                            }}\n                          />\n                        </strong>\n                        {((originalBrew !== null && Number(originalBrew.totalWater) !== Number(brew.totalWater)) ||\n                        (originalStep !== null && Number(originalStep.strikeTemp) !== Number(step.strikeTemp))) &&\n                          <span className={componentStyles.originalValue}>\n                            Strike with <strong>{originalBrew && user.units === 'metric'\n                              ? parseFloat(gal2l(originalBrew.totalWater).toFixed(2))\n                              : originalBrew && originalBrew.totalWater && originalBrew.totalWater.toFixed(2)} {unitLabels.vol} </strong>\n                            at <strong>{originalStep && user.units === 'metric'\n                              ? parseFloat(f2c(originalStep.strikeTemp).toFixed(1))\n                              : originalStep && originalStep.strikeTemp} °{unitLabels.temp}</strong>\n                          </span>}\n                      </>\n                    : null}\n                </span>\n                <span>\n                  {step.targetStepTemp\n                    ? <>Mash at <strong>\n                        <BrewEditableField\n                          fieldName=\"targetStepTemp\"\n                          value={user.units === 'metric'\n                            ? parseFloat(f2c(step.targetStepTemp).toFixed(1))\n                            : step.targetStepTemp}\n                          label={` °${unitLabels.temp}`}\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                        {originalStep !== null && Number(originalStep.targetStepTemp) !== Number(step.targetStepTemp) &&\n                          <span className={componentStyles.originalValue}>\n                            Mash at <strong>{user.units === 'metric'\n                              ? parseFloat(f2c(originalStep.targetStepTemp).toFixed(1))\n                              : originalStep && originalStep.targetStepTemp} °{unitLabels.temp}</strong>\n                          </span>}\n                      </>\n                    : null}\n                </span>\n                <span>\n                  {step.stepLength\n                    ? <>Hold for <strong>\n                        <BrewEditableField\n                          fieldName=\"stepLength\"\n                          value={step.stepLength}\n                          label=\" min\"\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                        {originalStep !== null && Number(originalStep.stepLength) !== Number(step.stepLength) &&\n                          <span className={componentStyles.originalValue}>\n                            Hold for <strong>{originalStep.stepLength} min</strong>\n                          </span>}\n                      </>\n                    : null}\n                </span>\n                {brew.totalMashVolume && brew.batchType === 'BIAB'\n                  ? <span>Total Mash Vol: <strong>\n                        <BrewEditableField\n                          fieldName=\"totalMashVolume\"\n                          value={user.units === 'metric'\n                            ? parseFloat(gal2l(brew.totalMashVolume).toFixed(2))\n                            : brew.totalMashVolume}\n                          label={` ${unitLabels.vol}`}\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                      </strong>\n                      {originalBrew !== null && Number(originalBrew.totalMashVolume) !== Number(brew.totalMashVolume) &&\n                        <span className={componentStyles.originalValue}>\n                          Total Mash Vol: <strong>{user.units === 'metric'\n                            ? parseFloat(gal2l(originalBrew.totalMashVolume).toFixed(2))\n                            : originalBrew.totalMashVolume} min</strong>\n                        </span>}\n                    </span>\n                  : null}\n              </>\n              : null}\n            {step.type === 'temperature' || step.type === 'decoction'\n              ? <>\n                <span>\n                  {step.targetStepTemp\n                    ? <>Raise to <strong>\n                        <BrewEditableField\n                          fieldName=\"targetStepTemp\"\n                          value={user.units === 'metric'\n                            ? parseFloat(f2c(step.targetStepTemp).toFixed(1))\n                            : step.targetStepTemp}\n                          label={` °${unitLabels.temp}`}\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                        {originalStep !== null && Number(originalStep.targetStepTemp) !== Number(step.targetStepTemp) &&\n                          <span className={componentStyles.originalValue}>\n                            Raise to <strong>{user.units === 'metric'\n                            ? parseFloat(f2c(originalStep.targetStepTemp).toFixed(1))\n                            : originalStep.targetStepTemp} °{unitLabels.temp}</strong>\n                          </span>}\n                      </>\n                    : null}\n                </span>\n                <span>\n                  {step.stepLength\n                    ? <>Hold for <strong>\n                        <BrewEditableField\n                          fieldName=\"stepLength\"\n                          value={step.stepLength}\n                          label=\" min\"\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                        {originalStep !== null && Number(originalStep.stepLength) !== Number(step.stepLength) &&\n                          <span className={componentStyles.originalValue}>\n                            Hold for <strong>{originalStep.stepLength} min</strong>\n                          </span>}\n                      </>\n                    : null}\n                </span>\n                </>\n              : null}\n            {step.type === 'infusion'\n              ? <>\n                <span>\n                  {step.infusionWaterVol\n                    ? <>Add <strong>\n                        <BrewEditableField\n                          fieldName=\"infusionWaterVol\"\n                          value={user.units === 'metric'\n                            ? parseFloat(qt2l(step.infusionWaterVol).toFixed(2))\n                            : step.infusionWaterVol}\n                          label={` ${unitLabels.smallVol}`}\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                      </>\n                    : null}\n                  {step.infusionWaterTemp\n                    ? <> at <strong>\n                        <BrewEditableField\n                          fieldName=\"infusionWaterTemp\"\n                          value={user.units === 'metric'\n                            ? parseFloat(f2c(step.infusionWaterTemp).toFixed(2))\n                            : step.infusionWaterTemp}\n                          label={` °${unitLabels.temp}`}\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                      </>\n                    : null}\n                    {((originalStep && Number(originalStep.infusionWaterVol).toFixed(2) !== Number(step.infusionWaterVol).toFixed(2)) ||\n                    (originalStep && Number(originalStep.infusionWaterTemp).toFixed(2) !== Number(step.infusionWaterTemp).toFixed(2))) &&\n                      <span className={componentStyles.originalValue}>\n                        Add <strong>{user.units === 'metric'\n                        ? parseFloat(qt2l(originalStep.infusionWaterVol).toFixed(2))\n                        : originalStep.infusionWaterVol} {unitLabels.smallVol} </strong>\n                        at <strong>{user.units === 'metric'\n                        ? parseFloat(f2c(originalStep.infusionWaterTemp).toFixed(2))\n                        : originalStep.infusionWaterTemp} °{unitLabels.temp}</strong>\n                      </span>}\n                </span>\n                <span>\n                  {step.targetStepTemp\n                    ? <> Bring to <strong>\n                        <BrewEditableField\n                          fieldName=\"targetStepTemp\"\n                          value={user.units === 'metric'\n                            ? parseFloat(f2c(step.targetStepTemp).toFixed(2))\n                            : step.targetStepTemp}\n                          label={` °${unitLabels.temp}`}\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                        {originalStep !== null && Number(originalStep.targetStepTemp) !== Number(step.targetStepTemp) &&\n                          <span className={componentStyles.originalValue}>\n                            Bring to <strong>{user.units === 'metric'\n                            ? parseFloat(f2c(originalStep.targetStepTemp).toFixed(2))\n                            : originalStep.targetStepTemp} °{unitLabels.temp}</strong>\n                          </span>}\n                      </>\n                    : null}\n                </span>\n                <span>\n                  {step.stepLength\n                    ? <>Hold for <strong>\n                        <BrewEditableField\n                          fieldName=\"stepLength\"\n                          value={step.stepLength}\n                          label=\" min\"\n                          {...utilityProps}\n                          editValue={(value: any, fieldName: any) => {\n                            editValue([{value: value, choice: fieldName, index: index}])\n                          }}\n                        />\n                        </strong>\n                        {originalStep !== null && Number(originalStep.stepLength) !== Number(step.stepLength) &&\n                          <span className={componentStyles.originalValue}>\n                            Hold For <strong>{originalStep.stepLength} min</strong>\n                          </span>}\n                      </>\n                    : null}\n                </span>\n                </>\n              : null}\n            {step.type === 'sparge'\n              ? <span>\n                {step.spargeTemp\n                  ? <>Sparge&nbsp;\n                    {step.spargeVolume\n                      ? <>with <strong>\n                          <BrewEditableField\n                            fieldName=\"spargeVolume\"\n                            value={user.units === 'metric'\n                              ? parseFloat(gal2l(step.spargeVolume).toFixed(2))\n                              : step.spargeVolume}\n                            label={` ${unitLabels.vol}`}\n                            {...utilityProps}\n                            calculate={() => {\n                              let totalInfusionWaterVol = 0;\n                              brew.mash.find((item, i) => {\n                                if (item.type === 'sparge') {\n                                  index = i;\n                                } else if (item.type === 'infusion') {\n                                  totalInfusionWaterVol = item.infusionWaterVol\n                                    ? totalInfusionWaterVol + Number(item.infusionWaterVol / 4) // convert to gallons from quarts\n                                    : totalInfusionWaterVol + 0\n                                }\n                                return null;\n                              });\n                              let value = spargeVolume(\n                                brew.totalWater,\n                                Number(brew.mash[0].strikeVolume) + totalInfusionWaterVol\n                              );\n                              value = user.units === 'metric' ? gal2l(value) : value;\n                              editValue([{value: value, choice: 'spargeVolume', index: index}]);\n                            }}\n                            editValue={(value: any, fieldName: any) => {\n                              editValue([{value: value, choice: fieldName, index: index}])\n                            }}\n                          />\n                          </strong>\n                        </>\n                      : null}\n                    &nbsp;at <strong>\n                      <BrewEditableField\n                        fieldName=\"spargeTemp\"\n                        value={user.units === 'metric'\n                          ? parseFloat(f2c(step.spargeTemp).toFixed(1))\n                          : step.spargeTemp}\n                        label={` °${unitLabels.temp}`}\n                        {...utilityProps}\n                        editValue={(value: any, fieldName: any) => {\n                          editValue([{value: value, choice: fieldName, index: index}])\n                        }}\n                      />\n                      </strong>\n                      {((originalStep !== null && Number(originalStep.spargeVolume) !== Number(step.spargeVolume)) ||\n                        (originalStep !== null && Number(originalStep.spargeTemp) !== Number(step.spargeTemp))) &&\n                          <span className={componentStyles.originalValue}>\n                            Sparge with <strong>{user.units === 'metric'\n                              ? parseFloat(gal2l(originalStep.spargeVolume).toFixed(2))\n                              : originalStep.spargeVolume} {unitLabels.vol} </strong>\n                            at <strong>{user.units === 'metric'\n                          ? parseFloat(f2c(originalStep.spargeTemp).toFixed(1))\n                          : originalStep.spargeTemp} °{unitLabels.temp}</strong>\n                          </span>}\n                    </>\n                  : null}\n              </span>\n              : null}\n          </div>\n        </div>\n        );\n      }\n    )}\n    </div>\n  );\n}\n\nexport default BrewMash;","import React, { useState } from 'react';\n\nimport styles from '../Brew.module.scss';\nimport componentStyles from './BrewComponents.module.scss';\nimport { BrewInterface, MashInterface, processOptionsInterface } from '../../../store/BrewContext';\nimport { gal2l, l2gal, preBoilVol, OG, preBoilG, partialMashTopOff, totalBIABWater, totalWater } from '../../../resources/javascript/calculator';\nimport BrewEditableField from './BrewEditableField';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n  brewdayResults: boolean;\n  applyEdit: Function;\n  originalBrew: BrewInterface | null;\n  options: processOptionsInterface;\n}\n\nconst BrewBoil = (props: Props) => {\n  const {\n    brew,\n    readOnly,\n    unitLabels,\n    openSideBar,\n    user,\n    brewdayResults,\n    applyEdit,\n    originalBrew,\n    options\n  }= props;\n\n  const [editing, setEditing] = useState(false);\n\n  const editValue = (array: {value: any, choice: string}[]) => {\n    const editedBrew = {...brew};\n    array.forEach(change => {\n      let data;\n      switch (change.choice) {\n        case 'topOff':\n        case 'preBoilVolume':\n          data = user.units === 'metric' ? l2gal(change.value) : change.value;\n          break;\n        default:\n          data = change.value\n      }\n      editedBrew[change.choice] = data;\n    });\n    applyEdit(editedBrew);\n  }\n\n  const utilityProps = {\n    editValue,\n    editing,\n    setEditing,\n    brewdayResults\n  }\n\n  return (\n    <div className={styles.brew__section}>\n      <div className={styles.brew__header}>\n        <h2>Boil</h2>\n        {!readOnly && !brewdayResults\n          ? <button\n              className={`button button--icon pen ${styles.editButton}`}\n              onClick={openSideBar('boil')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <div className={`${styles.section__values} ${styles.withStats}`}>\n        <span>\n          {brew.batchType === 'partialMash' && brew.preBoilVolume && brew.mash.some((item: MashInterface) => item.strikeVolume)\n          ? <>Top off with <strong>\n              <BrewEditableField\n                fieldName=\"topOff\"\n                value={user.units === 'metric'\n                  ? parseFloat(gal2l(brew.topOff).toFixed(2))\n                  : brew.topOff}\n                label={` ${unitLabels.vol}`}\n                calculate={() => {\n                  let value = partialMashTopOff(\n                    brew.preBoilVolume,\n                    brew.mash[0].strikeVolume,\n                    originalBrew && originalBrew.totalGrainFermentables,\n                    options.absorptionRate\n                  );\n                  value = options.units === 'metric' ? gal2l(value) : value;\n                  editValue([{value: value, choice: 'topOff'}]);\n                }}\n                {...utilityProps}\n                editValue={(value: any, fieldName: any) => {\n                  editValue([{value: value, choice: fieldName}])\n                }}\n              />\n              </strong><br />\n              {originalBrew !== null && Number(originalBrew.topOff) !== Number(brew.topOff) &&\n                <span className={componentStyles.originalValue}>\n                  Top off with <strong>{user.units === 'metric'\n                    ? parseFloat(gal2l(originalBrew.topOff).toFixed(2))\n                    : originalBrew.topOff} {unitLabels.vol}</strong>\n                </span>}\n            </>\n          : null}\n          {brew.preBoilVolume\n            ? <>{brew.batchType === 'partialMash' ? 'Total volume' : 'Volume'}: <strong>\n                <BrewEditableField\n                  fieldName=\"preBoilVolume\"\n                  value={user.units === 'metric'\n                    ? parseFloat(gal2l(brew.preBoilVolume).toFixed(2))\n                    : brew.preBoilVolume}\n                  label={` ${unitLabels.vol}`}\n                  calculate={() => {\n                    let value = preBoilVol(\n                      brew.totalWater,\n                      originalBrew && originalBrew.totalFermentables,\n                      options.equipmentLoss,\n                      options.absorptionRate,\n                      brew.batchType\n                    );\n                    value = user.units === 'metric' ? gal2l(value) : value;\n                    editValue([{value: value, choice: 'preBoilVolume'}]);\n                  }}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n                </strong>\n                {originalBrew !== null && Number(originalBrew.preBoilVolume) !== Number(brew.preBoilVolume) &&\n                <span className={componentStyles.originalValue}>\n                  {brew.batchType === 'partialMash' ? 'Total volume' : 'Volume'}: <strong>{user.units === 'metric'\n                    ? parseFloat(gal2l(originalBrew.preBoilVolume).toFixed(2))\n                    : originalBrew.preBoilVolume} {unitLabels.vol}</strong>\n                </span>}\n              </>\n            : null}\n        </span>\n        <span>{brew.boilLength\n          ? <>Time: <strong>\n              <BrewEditableField\n                fieldName=\"boilLength\"\n                value={brew.boilLength}\n                label=\" min\"\n                {...utilityProps}\n                editValue={(value: any, fieldName: any) => {\n                  let totalWaterVol;\n                  if (originalBrew && brew.batchType === 'BIAB') {\n                    totalWaterVol = totalBIABWater(\n                      brew.batchSize,\n                      Number(value),\n                      brew.evaporationRate,\n                      originalBrew.totalFermentables,\n                      originalBrew.totalHops,\n                      options\n                    );\n                  } else if (originalBrew) {\n                    totalWaterVol = totalWater(\n                      brew.batchSize,\n                      Number(value),\n                      brew.evaporationRate,\n                      originalBrew.totalFermentables,\n                      options\n                    );\n                  }\n                  editValue([{value: Number(value), choice: fieldName}, {value: totalWaterVol, choice: 'totalWater'}]);\n                }}\n              />\n              </strong>\n              {originalBrew !== null && originalBrew.boilLength !== brew.boilLength &&\n                <span className={componentStyles.originalValue}>\n                  Time: <strong>{originalBrew.boilLength} min</strong>\n                </span>}\n            </>\n          : null}</span>\n        {brew.batchType !== 'partialMash'\n          ? <span></span>\n          : null}\n        <div className={styles.section__stats}>\n          <div className={styles.brew__stat}>\n            <div>\n              <span className={styles.value}>\n                <BrewEditableField\n                  fieldName=\"preBoilG\"\n                  value={brew.preBoilG ? Number(brew.preBoilG).toFixed(3) : null}\n                  classes={`${componentStyles.editInputCenter} ${componentStyles.editInputMedium}`}\n                  calculate={() => {\n                    const value = preBoilG(\n                      brew.og,\n                      originalBrew && originalBrew.totalFermentables,\n                      brew.totalWater,\n                      brew.batchSize,\n                      options.equipmentLoss,\n                      options.absorptionRate,\n                      brew.batchType\n                    );\n                    editValue([{value: value, choice: 'preBoilG'}]);\n                  }}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n              </span>\n              {originalBrew !== null && Number(originalBrew.preBoilG).toFixed(3) !== Number(brew.preBoilG).toFixed(3) &&\n                <span className={componentStyles.originalValue}>\n                  <strong>{originalBrew.preBoilG}</strong>\n                </span>}\n              <label className={styles.label}>PRE</label>\n            </div>\n          </div>\n          <span className={styles.arrow}></span>\n          <div className={styles.brew__stat}>\n            <div>\n              <span className={styles.value}>\n                <BrewEditableField\n                  fieldName=\"og\"\n                  value={brew.og ? Number(brew.og).toFixed(3) : null}\n                  classes={`${componentStyles.editInputCenter} ${componentStyles.editInputMedium}`}\n                  calculate={() => {\n                    const value = OG(brew.fermentables, brew.mashEfficiency, brew.batchSize);\n                    editValue([{value: value, choice: 'og'}]);\n                  }}\n                  {...utilityProps}\n                  editValue={(value: any, fieldName: any) => {\n                    editValue([{value: value, choice: fieldName}])\n                  }}\n                />\n              </span>\n              {originalBrew !== null && Number(originalBrew.og).toFixed(3) !== Number(brew.og).toFixed(3) &&\n                <span className={componentStyles.originalValue}>\n                  <strong>{originalBrew.og}</strong>\n                </span>}\n              <label className={styles.label}>OG</label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default BrewBoil;","import React, { useState } from 'react';\n\nimport styles from '../Brew.module.scss';\nimport componentStyles from './BrewComponents.module.scss';\nimport { BrewInterface, FermentationInterface } from '../../../store/BrewContext';\nimport { f2c, c2f, OG, FG } from '../../../resources/javascript/calculator';\nimport BrewEditableField from './BrewEditableField';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n  brewdayResults: boolean;\n  applyEdit: Function;\n  originalBrew: BrewInterface | null;\n}\n\nconst BrewFermentation = (props: Props) => {\n  const {brew, readOnly, unitLabels, openSideBar, user, brewdayResults, applyEdit, originalBrew} = props;\n\n  const [editing, setEditing] = useState(false);\n\n  const editValue = (array: {value: any, choice: string, index: number | null}[]) => {\n    const editedBrew = {...brew};\n    array.forEach(change => {\n      let data;\n      if (change.choice === 'stageTemp') {\n        data = user.units === 'metric' ? Number(c2f(change.value)) : Number(change.value);\n      } else {\n        data = change.value;\n      }\n      if (change.index !== null && editedBrew.fermentation) {\n        editedBrew.fermentation[change.index][change.choice] = data;\n      } else {\n        editedBrew[change.choice] = data;\n      }\n    });\n    applyEdit(editedBrew);\n  }\n\n  const utilityProps = {\n    editValue,\n    editing,\n    setEditing,\n    brewdayResults\n  }\n\n  return (\n    <div className={`${styles.brew__section} ${styles.mash} ${styles.fermentation}`}>\n      <div className={styles.brew__header}>\n        <h2>Fermentation</h2>\n        {!readOnly && !brewdayResults\n          ? <button\n              className={`button button--icon pen ${styles.editButton}`}\n              onClick={openSideBar('fermentation')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <div className={styles.section__stats}>\n        <div className={styles.brew__stat}>\n          <div>\n            <span className={styles.value}>\n              <BrewEditableField\n                fieldName=\"og\"\n                value={brew.og ? Number(brew.og).toFixed(3) : null}\n                classes={`${componentStyles.editInputCenter} ${componentStyles.editInputMedium}`}\n                calculate={() => {\n                  const value = OG(brew.fermentables, brew.mashEfficiency, brew.batchSize);\n                  editValue([{value: value, choice: 'og', index: null}]);\n                }}\n                {...utilityProps}\n              />\n              {originalBrew !== null && Number(originalBrew.og).toFixed(3) !== Number(brew.og).toFixed(3) &&\n                <span className={componentStyles.originalValue}>\n                  <strong>{originalBrew.og}</strong>\n                </span>}\n            </span>\n            <label className={styles.label}>OG</label>\n          </div>\n        </div>\n        <span className={styles.arrow}></span>\n        <div className={styles.brew__stat}>\n          <div>\n            <span className={styles.value}>\n              <BrewEditableField\n                fieldName=\"fg\"\n                value={brew.fg ? Number(brew.fg).toFixed(3) : null}\n                classes={`${componentStyles.editInputCenter} ${componentStyles.editInputMedium}`}\n                calculate={() => {\n                  const value = FG(brew.og, brew.attenuation);\n                  editValue([{value: value, choice: 'fg', index: null}]);\n                }}\n                {...utilityProps}\n              />\n              {originalBrew !== null && Number(originalBrew.fg).toFixed(3) !== Number(brew.fg).toFixed(3) &&\n                <span className={componentStyles.originalValue}>\n                  <strong>{originalBrew.fg}</strong>\n                </span>}\n            </span>\n            <label className={styles.label}>FG</label>\n          </div>\n        </div>\n      </div>\n      {brew && brew.fermentation && brew.fermentation.map((stage: FermentationInterface, index: number) => {\n        const originalStage = originalBrew !== null && originalBrew.fermentation !== undefined\n          ? {...originalBrew.fermentation[index]}\n          : null;\n        return (\n        <div\n          key={`stage${index + 1}`} className={`${styles.fermentation_stage} ${index === 0 && styles.first}`}\n          onClick={!readOnly && !brewdayResults ? openSideBar('fermentation', {...stage, index: index + 1}) : () => null}\n        >\n          <label className={styles.fermentation_label}>\n            {stage.stageName ? stage.stageName.toUpperCase() : ''}\n          </label>\n          <div className={`${styles.section__values} ${styles.withStats}`}>\n            <span>\n              {stage.stageLength\n                ? <>Length: <strong>\n                    <BrewEditableField\n                      fieldName=\"stageLength\"\n                      value={stage.stageLength}\n                      label=\" days\"\n                      {...utilityProps}\n                      editValue={(value: any, fieldName: any) => {\n                        editValue([{value: value, choice: fieldName, index: index}])\n                      }}\n                    /></strong>\n                    {originalStage !== null && Number(originalStage.stageLength) !== Number(stage.stageLength) &&\n                      <span className={componentStyles.originalValue}>\n                        Length: <strong>{originalStage.stageLength} days</strong>\n                      </span>}\n                  </>\n                : null}\n            </span>\n            <span>\n              {stage.stageTemp\n                ? <>Temp: <strong>\n                    <BrewEditableField\n                      fieldName=\"stageTemp\"\n                      value={user.units === 'metric'\n                        ? parseFloat(f2c(stage.stageTemp).toFixed(1))\n                        : stage.stageTemp}\n                      label={` °${unitLabels.temp}`}\n                      {...utilityProps}\n                      editValue={(value: any, fieldName: any) => {\n                        editValue([{value: value, choice: fieldName, index: index}])\n                      }}\n                    />\n                    </strong>\n                    {originalStage !== null && Number(originalStage.stageTemp).toFixed(1) !== Number(stage.stageTemp).toFixed(1) &&\n                      <span className={componentStyles.originalValue}>\n                        Temp: <strong>{user.units === 'metric'\n                        ? parseFloat(f2c(originalStage.stageTemp).toFixed(1))\n                        : originalStage.stageTemp} °{unitLabels.temp}</strong>\n                      </span>}\n                  </>\n                : null}\n            </span>\n          </div>\n        </div>\n        );\n      }\n      )}\n    </div>\n  );\n}\n\nexport default BrewFermentation;","import React from 'react';\n\nimport styles from '../Brew.module.scss';\nimport { parseStringValues } from '../BrewUtils';\nimport { BrewInterface } from '../../../store/BrewContext';\nimport { f2c, oz2g } from '../../../resources/javascript/calculator';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n}\n\nconst BrewPackaging = (props: Props) => {\n  const {brew, readOnly, unitLabels, openSideBar, user} = props;\n  return (\n    <div className={styles.brew__section}>\n      <div className={styles.brew__header}>\n        <h2>Packaging</h2>\n        {!readOnly\n          ? <button\n              className={`button button--icon pen ${styles.editButton}`}\n              onClick={openSideBar('packaging')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <div className={styles.section__values}>\n        <span>{brew.packagingType && brew.carbonationMethod\n          ? <strong>{parseStringValues(brew.packagingType)}/{parseStringValues(brew.carbonationMethod)}</strong>\n          : null}\n        </span>\n        <span>{brew.CO2VolumeTarget\n          ? <>CO<sub>2</sub> Vol: <strong>{brew.CO2VolumeTarget}</strong></>\n          : null}</span>\n        <span>{brew.beerTemp\n          ? <>Temp: <strong>{user.units === 'metric' ? parseFloat(f2c(brew.beerTemp).toFixed(1)) : brew.beerTemp} °{unitLabels.temp}</strong></>\n          : null}</span>\n        <span>{brew.amountForCO2\n          ? <>{brew.carbonationMethod === 'forced' ? 'Pressure: ' : 'Amount: '}\n          <strong>\n            {brew.carbonationMethod === 'forced'\n              ? `${brew.amountForCO2} psi`\n              : user.units === 'metric' ? parseFloat(oz2g(brew.amountForCO2).toFixed(2)) + unitLabels.smallWeight : `${brew.amountForCO2} ${unitLabels.smallWeight}`}\n          </strong></>\n          : null}\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default BrewPackaging;","import React from 'react';\n\nimport styles from '../Brew.module.scss';\nimport { transformNotes } from '../BrewUtils';\nimport { BrewInterface } from '../../../store/BrewContext';\n\ninterface Props {\n  readOnly: boolean;\n  newBrew: boolean;\n  brew: BrewInterface;\n  unitLabels: any;\n  openSideBar: Function;\n  user: any;\n}\n\nconst BrewNotes = (props: Props) => {\n  const {brew, readOnly, openSideBar} = props;\n  return (\n    <div className={styles.brew__section}>\n      <div className={styles.brew__header}>\n        <h2>Notes</h2>\n        {!readOnly\n          ? <button\n              className={`button button--icon pen ${styles.editButton}`}\n              onClick={openSideBar('notes')}\n            ><span>Edit</span></button>\n          : null}\n      </div>\n      <div className={styles.brew__notes}>\n        {brew.notes\n          ? <div dangerouslySetInnerHTML={transformNotes(brew)} />\n          : null\n        }\n      </div>\n      <div className={styles.tagsWrapper}>\n        {brew.tags\n          ? brew.tags.split(',').map((tag: string, i: number) => {\n              return <div className=\"tag\" key={i}>{tag}</div>\n            })\n          : null\n        }\n        {!readOnly\n          ? <button\n            className={`button ${styles.tagsButton}`}\n            onClick={openSideBar('tags')}\n          >Tags</button>\n        : null}\n      </div>\n    </div>\n  );\n}\n\nexport default BrewNotes;","export default __webpack_public_path__ + \"static/media/history-first.03134c7f.svg\";","export default __webpack_public_path__ + \"static/media/history-last.35acf5a3.svg\";","export default __webpack_public_path__ + \"static/media/history-current.000c24ed.svg\";","export default __webpack_public_path__ + \"static/media/history-next.4e201f34.svg\";","export default __webpack_public_path__ + \"static/media/history-prev.8fc6e514.svg\";","import React from 'react';\n\nimport styles from './BrewHistoryNav.module.scss';\nimport first from \"../../../resources/images/history-first.svg\";\nimport last from \"../../../resources/images/history-last.svg\";\nimport current from \"../../../resources/images/history-current.svg\";\nimport next from \"../../../resources/images/history-next.svg\";\nimport prev from \"../../../resources/images/history-prev.svg\";\n\ninterface Props {\n  historyLength: number;\n  currentPage: number;\n  pageClicked: Function;\n}\n\nconst BrewHistoryNav = (props: Props) => {\n  const {historyLength, currentPage, pageClicked} = props;\n  return (\n    <div className={styles.historyNav}>\n      {currentPage === 0 && <button\n          className={`button button--link`}\n          onClick={pageClicked(currentPage)}\n          title=\"Current - Toggle brew history\"\n        ><img src={first} alt=\"First\" /></button>}\n\n      {currentPage > 0 && <button\n          className={`button button--link`}\n          onClick={pageClicked(currentPage-1)}\n          title=\"Previous - View the previous brew\"\n        ><img src={prev} alt=\"Previous\" /></button>}\n\n      {currentPage > 0 && historyLength > currentPage+1 && <button\n          className={`button button--link`}\n          onClick={pageClicked(currentPage)}\n          title=\"Current - Toggle brew history\"\n        ><img src={current} alt=\"Current\" /></button>}\n\n      {historyLength > currentPage+1 && <button\n          className={`button button--link`}\n          onClick={pageClicked(currentPage+1)}\n          title=\"Next - View the next brew\"\n        ><img src={next} alt=\"Next\" /></button>}\n\n      {historyLength === currentPage+1 && <button\n          className={`button button--link`}\n          onClick={pageClicked(currentPage)}\n          title=\"Current - Toggle brew history\"\n        ><img src={last} alt=\"Last\" /></button>}\n    </div>\n  );\n}\n\nexport default BrewHistoryNav;","import React from 'react';\n\nimport styles from '../Brew.module.scss';\nimport listStyles from './BrewHistoryList.module.scss';\nimport { BrewInterface } from '../../../store/BrewContext';\nimport Card from '../../../components/Card/Card';\nimport { parseStringValues } from '../BrewUtils';\nimport { getSrmToRgb } from '../../../resources/javascript/srmToRgb';\nimport { gal2l } from '../../../resources/javascript/calculator';\nimport FormattedDate from '../../../components/FormattedDate/FormattedDate';\n\ninterface Props {\n  brew: BrewInterface;\n  unitLabels?: any;\n  user: any;\n  itemClicked: Function;\n}\n\nconst BrewHistoryList = (props: Props) => {\n  const {brew, unitLabels, user, itemClicked} = props;\n\n  return (\n    <>\n      {brew.history &&\n        brew.history.map((historyItem, index) => {\n          return (\n            <Card\n              color=\"brew\"\n              customClass={historyItem.id === brew.id ? listStyles.current : listStyles.notCurrent}\n              key={historyItem.id}\n            >\n              <div className={styles.brew__numbers} onClick={itemClicked(index)}>\n                <div className={`${styles.brew__numbersMenu} ${listStyles.evenMargin}`}>\n                  <ul className={styles.brew__numbersList}>\n                    <li>\n                      Date Brewed: <strong><FormattedDate>{historyItem.dateBrewed}</FormattedDate></strong>\n                    </li>\n                    <li>\n                      Brew Method: <strong>{parseStringValues(historyItem.batchType)}</strong>\n                    </li>\n                    <li>\n                      Batch Size: <strong>{historyItem.batchSize\n                        ? `${user.units === 'metric'\n                          ? parseFloat(gal2l(historyItem.batchSize).toFixed(2))\n                          : historyItem.batchSize} ${unitLabels.vol}`\n                        : null}</strong>\n                    </li>\n                    <li>\n                      Mash Efficiency: <strong>{historyItem.mashEfficiency ? `${historyItem.mashEfficiency}%` : null}</strong>\n                    </li>\n                  </ul>\n                </div>\n                <div className={styles.brew__stats}>\n                  <div className={styles.brew__stat}>\n                    <div>\n                      <span className={styles.value}>{historyItem.alcoholContent ? `${historyItem.alcoholContent}%` : null}</span>\n                      <label className={styles.label}>ABV</label>\n                    </div>\n                  </div>\n                  <div className={styles.brew__stat}>\n                    <div>\n                      <span className={styles.value}>{historyItem.og ? `${historyItem.og}` : null}</span>\n                      <label className={styles.label}>OG</label>\n                    </div>\n                  </div>\n                  <div className={styles.brew__stat}>\n                    <div>\n                      <span className={styles.value}>{historyItem.ibu}</span>\n                      <label className={styles.label}>IBU</label>\n                    </div>\n                  </div>\n                  <div className={styles.brew__stat}>\n                    <div>\n                      <span className={styles.value}>\n                        {brew.srm\n                          ? <>\n                              <div\n                                className={styles.srmSwatch}\n                                style={{backgroundColor: getSrmToRgb(historyItem.srm)}}\n                              />\n                              {historyItem.srm}\n                            </>\n                          : null }\n                      </span>\n                      <label className={styles.label}>SRM</label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Card>\n          );\n        })\n      }\n    </>\n  );\n}\n\nexport default BrewHistoryList;","export default __webpack_public_path__ + \"static/media/clone.350cc78e.svg\";","export default __webpack_public_path__ + \"static/media/history.46d4e6ec.svg\";","export default __webpack_public_path__ + \"static/media/searchDarker.e77aa99a.svg\";","import React, { useState, useEffect, useRef } from 'react';\nimport { Prompt } from 'react-router'\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport axios from 'axios';\n\nimport styles from './Brew.module.scss';\nimport Card from '../../components/Card/Card';\nimport FormHandler from './FormHandler/FormHandler';\nimport FormattedDate from '../../components/FormattedDate/FormattedDate';\nimport Loader from '../../components/Loader/Loader';\nimport { BrewInterface, brewHistory } from '../../store/BrewContext';\nimport { scrollToTop } from '../../resources/javascript/scrollToTop';\nimport { isEmpty } from '../../resources/javascript/isEmpty';\nimport { usePrevious } from '../../resources/javascript/usePreviousHook';\nimport { useUser } from '../../store/UserContext';\nimport { useBrew, processOptionsInterface } from '../../store/BrewContext';\nimport { useModal } from '../../store/ModalContext';\nimport { useSnackbar } from '../../store/SnackbarContext';\nimport * as brewService from '../../store/BrewService';\nimport BrewSettingsAndStats from './BrewComponents/BrewSettingsAndStats';\nimport BrewFermentables from './BrewComponents/BrewFermentables';\nimport BrewHops from './BrewComponents/BrewHops';\nimport BrewAdjuncts from './BrewComponents/BrewAdjuncts';\nimport BrewYeast from './BrewComponents/BrewYeast';\nimport BrewMash from './BrewComponents/BrewMash';\nimport BrewBoil from './BrewComponents/BrewBoil';\nimport BrewFermentation from './BrewComponents/BrewFermentation';\nimport BrewPackaging from './BrewComponents/BrewPackaging';\nimport BrewNotes from './BrewComponents/BrewNotes';\nimport BrewHistoryNav from './BrewComponents/BrewHistoryNav';\nimport BrewHistoryList from './BrewComponents/BrewHistoryList';\nimport { totalWater } from '../../resources/javascript/calculator';\nimport cloneImg from '../../resources/images/clone.svg';\nimport resultsImg from '../../resources/images/history.svg';\nimport searchImg from '../../resources/images/searchDarker.svg';\n\ninterface Props extends RouteComponentProps {\n  history: any;\n}\n\nconst Brew = (props: Props) => {\n  // CONTEXT\n\n  const [user, userDispatch] = useUser();\n  const [brew, brewDispatch] = useBrew();\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n  // eslint-disable-next-line\n  const [snackbar, snackbarDispatch] = useSnackbar();\n\n  // STATE\n\n  const [newBrew, setNewBrew] = useState(true);\n  const [readOnly, setReadOnly] = useState(false);\n  const [brewdayResults, setBrewdayResults] = useState(false);\n  const [sideBarOpen, setSideBarOpen] = useState(false);\n  const [topSpacing, setTopSpacing] = useState(0);\n  const [form, setForm] = useState('');\n  const [editingData, setEditingData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [savingDraft, setSavingDraft] = useState(false);\n  const [shouldBlock, setShouldBlock] = useState(false);\n  const [currentUser, setCurrentUser] = useState(true);\n  const [userViewing, setUserViewing] = useState<any>({});\n  const [cloning, setCloning] = useState(false);\n  const [currentPageIndex, setCurrentPageIndex] = useState<number>();\n  const [changeBrew, setChangeBrew] = useState(false);\n  const [showBrewHistory, setShowBrewHistory] = useState(false);\n  const [originalBrew, setOriginalBrew] = useState<BrewInterface | null>(null);\n  const [deleted, setDeleted] = useState(false);\n\n  // REFS\n\n  const brewContainer = useRef<HTMLDivElement>(null);\n  const formContainer = useRef<HTMLDivElement>(null);\n\n  const top = {marginTop: topSpacing};\n  const prevBrew: BrewInterface = usePrevious(brew) as unknown as BrewInterface;\n  const unitLabels = {\n    vol: user.units === 'metric' ? 'L' : 'gal',\n    smallVol: user.units === 'metric' ? 'L' : 'qts',\n    largeWeight: user.units === 'metric' ? 'kg' : 'lb',\n    smallWeight: user.units === 'metric' ? 'g' : 'oz',\n    temp: user.units === 'metric' ? 'C' : 'F',\n  }\n  const userSettings: processOptionsInterface = {\n    ibuFormula: user.ibu_formula,\n    units: user.units,\n    strikeFactor: user.strike_adjustment,\n    kettle: user.kettle_size,\n    evapRate: user.evap_rate,\n    trubLoss: user.trub_loss,\n    equipmentLoss: user.equipment_loss,\n    absorptionRate: user.absorption_rate,\n    hopAbsorptionRate: user.hop_absorption_rate\n  }\n\n  // USEEFFECT\n\n  // mount\n  useEffect(() => {\n    document.title = \"BeerForge | New Brew\";\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    scrollToTop(0);\n\n    // unmount\n    return function cleanup() {\n      window.removeEventListener('scroll', handleScroll);\n      brewDispatch({type: 'clear'});\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Initial page load brew fetching as well as\n  // brewday results toggle\n  useEffect(() => {\n    // before we start using the current user, let's just make\n    // sure they haven't expired, shall we?\n    userDispatch({type: 'load'});\n\n    if (brewdayResults) {\n      const copiedBrew= JSON.parse(JSON.stringify(brew));\n      setOriginalBrew(copiedBrew);\n      getBrewdayResults();\n      closeSidebar();\n    } else {\n      const brewId = Number(window.location.pathname.split('/')[2]);\n      if (!isNaN(brewId)) {\n        getBrew(brewId);\n        setOriginalBrew(null);\n      } else if (!cloning) {\n        setNewBrew(true);\n        brewDispatch({type: 'clear'});\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [brewdayResults, props.history.location.pathname]);\n\n  // update\n  useEffect(() => {\n    if (brew.id) {\n      const readOnly = brew.userId !== user.id ? true : false;\n      document.title = `BeerForge | Viewing ${brew.name}`;\n      setNewBrew(false);\n      setReadOnly(readOnly);\n      setChangeBrew(false);\n    }\n\n    if (brew.history && brew.history.length > 0) {\n      const index = brew.history.findIndex((item: brewHistory) =>\n        item.id === brew.id\n      );\n      setCurrentPageIndex(index);\n    }\n\n    setEditingData(null);\n\n    if (deleted) {\n      // if we aren't cloning and had a brew with an id, and all of a sudden we don't,\n      // we must have deleted it. Redirect to the dashboard.\n      props.history.push('/dashboard');\n    } else if (cloning && prevBrew && prevBrew.id && !brew.id) {\n      // otherwise, we are cloning\n      props.history.push('/brew');\n      setNewBrew(true);\n      setShouldBlock(true);\n      setReadOnly(false);\n      setCurrentUser(true);\n      modalDispatch({type: 'hide'});\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [brew]);\n\n  // editingData callback\n  useEffect(() => {\n    const sideBarMode = formContainer.current\n      ? window.getComputedStyle(formContainer.current).position\n      : 'relative';\n    if (editingData !== null) {\n      if (sideBarMode === \"fixed\") {\n        openModalForm();\n      } else {\n        if (!sideBarOpen) {\n          setSideBarOpen(!sideBarOpen);\n        }\n      }\n    } else if (editingData === null && form !== '') {\n      if (sideBarMode === \"fixed\") {\n        openModalForm();\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editingData]);\n\n  // setForm callback\n  useEffect(() => {\n    const sideBarMode = formContainer.current\n      ? window.getComputedStyle(formContainer.current).position\n      : 'relative';\n    if (form !== '') {\n      if (sideBarMode === \"fixed\") {\n        openModalForm();\n      } else {\n        if (!sideBarOpen) {\n          setSideBarOpen(!sideBarOpen);\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [form]);\n\n  useEffect(() => {\n    // Watch changes for prompt display\n    if (newBrew && shouldBlock) {\n      window.onbeforeunload = () => true;\n    } else {\n      window.onbeforeunload = null;\n    }\n  });\n\n  // METHODS\n\n  const getBrew = async (brewId: number, callback: Function | null = null) => {\n    setLoading(true);\n    await brewService.getBrew(brewId, user)\n      .then((res: any) => {\n        setLoading(false);\n        setNewBrew(false);\n        if (res.data.brew.userId !== user.id) {\n          getUser(res.data.brew.userId);\n        }\n        brewDispatch({\n          type: 'process',\n          payload: res.data.brew,\n          options: userSettings\n        });\n        callback !== null && callback();\n      })\n      .catch((error) => {\n        showBasicError(error);\n        if (isEmpty(user)) {\n          props.history.push('/');\n        } else {\n          props.history.push('/dashboard');\n        }\n      });\n  };\n\n  const getUser = async (userId: number) => {\n    setLoading(true);\n    await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/users/${userId}`, {\n      headers: {'authorization': user ? user.token : null},\n    }).then(result => {\n      setLoading(false);\n      setCurrentUser(false);\n      setUserViewing(result.data);\n    })\n    .catch((error) => {\n      showBasicError(error);\n      props.history.push('/dashboard');\n    });\n  };\n\n  const getBrewdayResults = async () =>{\n    brewService.getBrewResults(brew.id, user)\n    .then((res: any) => {\n      if (!res.data.error) {\n      // add total water to brewday results brew\n        const brewdayBrew = res.data.brew;\n        brewdayBrew.totalWater = totalWater(\n          brewdayBrew.batchSize,\n          brewdayBrew.boilLength,\n          brewdayBrew.evaporationRate,\n          brew.totalFermentables,\n          userSettings);\n        brewDispatch({type: 'replace', payload: brewdayBrew, options: userSettings});\n        scrollToTop(300);\n      }\n    })\n    .catch((error) => {\n      setBrewdayResults(false);\n      showBasicError(error);\n    });\n  };\n\n  const openSideBar = (\n    choice: string = '',\n    editingData: any | null = null\n  ) => (event: any) => {\n    setForm(choice);\n    setEditingData(editingData);\n  };\n\n  const closeSidebar = () => {\n    const sideBarMode = formContainer.current\n      ? window.getComputedStyle(formContainer.current).position\n      : \"fixed\";\n    if (sideBarMode === 'fixed') {\n      modalDispatch({type: 'hide'});\n    } else {\n      setSideBarOpen(false);\n    }\n    window.setTimeout(() => {\n      setForm('');\n      setEditingData(null);\n    }, 500);\n  };\n\n  const openModalForm = () => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        node:\n          <FormHandler\n            form={form}\n            nextForm={nextForm}\n            editingData={editingData}\n            closeSidebar={closeSidebar}\n            updateBrew={handleUpdateBrew}\n            deleteBrew={handleDeleteBrew}\n            open={sideBarOpen}\n            brewdayResults={brewdayResults}\n          />,\n        classOverride: styles.mobileFormHandler\n      }\n    });\n  }\n\n  const handleScroll = (e: any) => {\n    const rect = brewContainer.current\n      ? brewContainer.current.getBoundingClientRect()\n      : new DOMRect();\n      const sideBarMode = formContainer.current\n        ? window.getComputedStyle(formContainer.current).position\n        : 'relative';\n    if (sideBarMode === 'relative') {\n      if (rect.top < -30) {\n        setTopSpacing((rect.top * -1) - 30);\n      } else if (rect.top > -30 && rect.top < 0) {\n        setTopSpacing((rect.top * -1) + rect.top);\n      } else if (rect.top < 0) {\n        setTopSpacing(0);\n      }\n    }\n  }\n\n  const nextForm = (e: any) => {\n    const formOrder = [\n      'settings', 'fermentables', 'hops', 'adjuncts', 'yeast',\n      'mash', 'boil', 'fermentation', 'packaging', 'notes', 'tags'];\n    // remove steps for extrct brews\n    if (brew.batchType && brew.batchType === 'extract') {\n      formOrder.splice(4, 1);\n    }\n    const position = formOrder.indexOf(form);\n    if (position < formOrder.length -1) {\n      setForm(formOrder[position + 1]);\n    }\n  }\n\n  const handleHistoryNavClicked = (page: number) => (e: any) => {\n    if (page !== currentPageIndex) {\n      // change page\n      const brewId = brew.history[page].id;\n      const target = e.currentTarget.localName;\n      setChangeBrew(true);\n      window.setTimeout(() => {\n        if (target === 'div') {\n          setShowBrewHistory(false);\n        }\n        props.history.push(`/brew/${brewId}`);\n        closeSidebar();\n        getBrew(brewId);\n      }, 500);\n    } else {\n      // reveal history comparison\n      closeSidebar();\n      setShowBrewHistory(!showBrewHistory);\n    }\n  }\n\n  const handleSaveBrew = (isDraft: boolean) => async (e: React.MouseEvent) => {\n    // double check current user hasn't expired\n    userDispatch({type: 'load'});\n    isDraft ? setSavingDraft(true) : setSaving(true);\n    if (newBrew) {\n      await brewService.saveBrew({...brew, isDraft: isDraft}, user)\n        .then((res: any) => {\n          setShouldBlock(false);\n          setNewBrew(false);\n          setReadOnly(false);\n          setCloning(false);\n          props.history.push(`/brew/${res.data.brew.id}`);\n          snackbarDispatch({type: 'show', payload: {\n            status: 'success',\n            message: `Successfully saved: ${brew.name}!`\n          }});\n          scrollToTop(300);\n          isDraft ? setSavingDraft(false) : setSaving(false);\n          brewDispatch({\n            type: 'process',\n            payload: res.data.brew,\n            options: userSettings\n          });\n        })\n        .catch((error) => {\n          snackbarDispatch({type: 'show', payload: {\n            status: 'error',\n            message: typeof error.response.data === 'object'\n              ? error.response.statusText\n              : error.response.data\n          }});\n          isDraft ? setSavingDraft(false) : setSaving(false);\n        });\n    } else {\n      !brewdayResults\n        ? await brewService.updateBrew({...brew, isDraft: isDraft}, user)\n          .then((res: any) => {\n            brewDispatch({\n              type: 'update',\n              payload: res.data.brew,\n              options: userSettings\n            });\n            updateSuccess()\n          })\n          .catch((error) => {\n            showBasicError(error);\n            isDraft ? setSavingDraft(false) : setSaving(false);\n          })\n        : await brewService.updateBrewResults(brew, user)\n          .then((res: any) => {\n            updateSuccess()\n            brewDispatch({type: 'replace', payload: res.data.brew, options: userSettings});\n          })\n          .catch((error) => {\n            console.log(error);\n            showBasicError(error);\n            isDraft ? setSavingDraft(false) : setSaving(false);\n          })\n        ;\n    }\n  }\n\n  const handleUpdateBrew = (updatedBrew: BrewInterface) => {\n    const action = brewdayResults ? 'replace' : 'update';\n    if (Object.entries(updatedBrew).length !== 0 && updatedBrew.constructor === Object) {\n      brewDispatch({type: action, payload: updatedBrew, options: userSettings});\n    }\n    setShouldBlock(true);\n  }\n\n  const handleCloneBrew = () => (e: any) => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        title: !readOnly ? 'Clone or Re-brew' : 'Clone Brew',\n        body: !readOnly\n          ? <p>Select <strong>clone</strong> to duplicate the brew as a new recipe, or select <strong>re-brew</strong> to preserve this recipe's history and track it over time.<br /><br /></p>\n          : <p>Clone this recipe to try it yourself.<br /><br /></p>,\n        image: <img src={cloneImg} alt=\"\" className={styles.modalImage} />,\n        buttons: <>\n          <button\n            className=\"button button--brown\"\n            onClick={() => modalDispatch({type: 'hide'})}\n          >Cancel</button>\n          <button\n            className=\"button\"\n            onClick={() => {\n              setCloning(true);\n              closeSidebar();\n              modalDispatch({type: 'hide'});\n              checkShouldBlock(() => brewDispatch({type: 'clone'}));\n            }}\n          >Clone</button>\n          {!readOnly && <button\n            className=\"button\"\n            onClick={() => {\n              setCloning(true);\n              closeSidebar();\n              modalDispatch({type: 'hide'});\n              checkShouldBlock(() => brewDispatch({type: 'rebrew'}))\n            }}\n          >Re-brew</button>}\n        </>\n      }\n    });\n  };\n\n  const handleAddBrewdayResults = () => (e: any) => {\n    checkShouldBlock(() => triggerBrewdayResults())\n  }\n\n  const checkShouldBlock = (func: Function) => {\n    if (shouldBlock) {\n      modalDispatch({\n        type: 'show',\n        payload: {\n          title: 'You have unsaved changes to this brew.',\n          body: <p>Do you want to save and continue, or proceed without saving?<br /><br /></p>,\n          image: <img src={searchImg} alt=\"\" className={styles.modalImageSmaller} />,\n          buttons: <>\n            <button\n              className=\"button button--brown\"\n              onClick={() => modalDispatch({type: 'hide'})}\n            >Cancel</button>\n            <button\n              className=\"button\"\n              onClick={async () => {\n                const promise = !brewdayResults\n                  ? brewService.updateBrew(brew, user)\n                  : brewService.updateBrewResults(brew, user)\n                await promise\n                  .then((res: any) => {\n                    setShouldBlock(false);\n                    func()\n                  })\n                  .catch((error) => {\n                    modalDispatch({type: 'hide'});\n                    showBasicError(error);\n                  });\n              }}\n            >Save</button>\n            <button\n              className=\"button\"\n              onClick={() => {\n                !brewdayResults ? getBrew(brew.id, () => func()) : func();\n                setShouldBlock(false);\n              }}\n            >Don't Save</button>\n          </>\n        }\n      });\n    } else {\n      func();\n    }\n  };\n\n  const triggerBrewdayResults = () => {\n      if (\n        !readOnly &&\n        !brewdayResults &&\n        document.cookie.replace(/(?:(?:^|.*;\\s*)brewdayResults\\s*=\\s*([^;]*).*$)|^.*$/, \"$1\") !== \"true\"\n      ) {\n        modalDispatch({\n          type: 'show',\n          payload: {\n            title: 'Brewday Results',\n            body: <p>This mode helps track what was planned vs. what actually happened. All numbers are editable except for the ingredients. <strong>Just click on the number to edit.</strong> Changes made here will not have any affect on the original brew.<br /><br /></p>,\n            image: <img src={resultsImg} alt=\"\" className={styles.modalImage} />,\n            buttons: <>\n              <button\n                className=\"button button--brown\"\n                onClick={() => modalDispatch({type: 'hide'})}\n              >Go Back</button>\n              <button\n                className=\"button\"\n                onClick={async () => {\n                  modalDispatch({type: 'hide'});\n                  setBrewdayResults(true);\n                  var future = new Date();\n                  new Date(future.setDate(future.getDate() + 30)).toString();\n                  document.cookie = `brewdayResults=true; expires=${future}`;\n                }}\n              >Got it</button>\n            </>\n          }\n        })\n      } else {\n        modalDispatch({type: 'hide'});\n        setBrewdayResults(!brewdayResults);\n      }\n  }\n\n  const handleDeleteBrew = () => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        title: `Are you sure you want to permanently remove <strong>${brew.name}</strong>?`,\n        buttons: <>\n            <button\n              className=\"button button--brown\"\n              onClick={() => modalDispatch({type: 'hide'})}\n            >No, cancel</button>\n            <button\n              className=\"button\"\n              onClick={async () => {\n                await brewService.deleteBrew(brew.id, user, currentPageIndex === 0 ? true : false)\n                .then((res: any) => {\n                  snackbarDispatch({type: 'show', payload: {\n                    status: 'success',\n                    message: `Sucessfully removed: ${brew.name}`\n                  }});\n                  setDeleted(true);\n                  modalDispatch({type: 'hide'});\n                  brewDispatch({type: 'clear'});\n                })\n                .catch((error) => {\n                  showBasicError(error);\n                  modalDispatch({type: 'hide'});\n                });\n              }}\n            >Yes, remove</button>\n          </>\n      }\n    });\n  }\n\n  const updateSuccess = () => {\n    snackbarDispatch({type: 'show', payload: {\n      status: 'success',\n      message: `Successfully updated: ${brew.name}!`\n    }});\n    scrollToTop(300);\n    setSaving(false);\n    setSavingDraft(false);\n    setShouldBlock(false);\n  }\n\n  const showBasicError = (error: any) => {\n    snackbarDispatch({type: 'show', payload: {\n      status: 'error',\n      message: error.message,\n    }});\n  }\n\n  // TEMPLATE\n\n  const commonProps = {\n    readOnly,\n    newBrew,\n    brewdayResults,\n    brew,\n    unitLabels,\n    openSideBar,\n    user,\n    originalBrew\n  }\n  const { isDraft } = brew;\n\n  return loading ? <Loader className={styles.loader} color=\"#000\" /> : (\n    <section\n      className={`\n        ${styles.brew}\n        ${sideBarOpen ? styles.open : ''}\n        ${changeBrew ? styles.fadeOut : ''}\n      `}\n      ref={brewContainer}\n    >\n      {!readOnly\n        ? <Prompt\n            when={shouldBlock}\n            message='You have unsaved changes. Are you sure you want to leave?'\n          />\n        : null}\n      <div className={styles.mainContent} role=\"main\">\n        <div className={styles.brew__pageHeading}>\n          <h1\n            title={brew.name === '' ? 'New Brew' : brew.name}\n            className={showBrewHistory ? styles.showBrewHistory : ''}\n          >\n            {currentUser ? \n              <span className={styles.titleToggle} onClick={openSideBar(\"settings\")}>\n                {brew.name === '' ? 'New Brew' : brew.name}\n              </span>\n            : brew.name === '' ? 'New Brew' : brew.name}\n            <div className={styles.brew__pageSubHeading}>\n              {!currentUser // not current user's brew (viewing someone else's)\n                && <Link\n                    to={`/user/${userViewing.id}`}\n                    className={styles.userLink}\n                  >\n                    @{userViewing.username}\n                  </Link>\n                }\n              {currentPageIndex !== undefined && !showBrewHistory &&\n                <span className={styles.subHeading}>{currentPageIndex === 0 ? 'Initial Brew' : 'Re-Brew'}</span>\n              }\n              {brewdayResults && !showBrewHistory &&\n                <span className={styles.brewdayResultsLabel}>Brewday Results</span>\n              }\n              {showBrewHistory &&\n                <span className={styles.subHeading}>Brew History</span>\n              }\n              {isDraft &&\n                <span className={styles.subHeading}>Draft</span>\n              }\n            </div>\n          </h1>\n          <div className={styles.pageHeading__items}>\n            {!newBrew && brew.dateBrewed\n              ? <FormattedDate\n                  className={`${styles.dateBrewed} ${showBrewHistory ? styles.fadeOut : ''}`}\n                >{brew.dateBrewed}</FormattedDate>\n              : null}\n            {currentPageIndex !== undefined && !brewdayResults && !newBrew &&\n              <BrewHistoryNav\n                historyLength={brew.history ? brew.history.length : null}\n                currentPage={currentPageIndex}\n                pageClicked={handleHistoryNavClicked}\n              />}\n          </div>\n        </div>\n        {props.staticContext}\n        {showBrewHistory &&\n          <BrewHistoryList\n            brew={brew}\n            unitLabels={unitLabels}\n            user={user}\n            itemClicked={handleHistoryNavClicked}\n          />}\n        {!showBrewHistory &&\n          <><BrewSettingsAndStats\n            clone={handleCloneBrew}\n            brewdayResultsToggle={handleAddBrewdayResults}\n            applyEdit={handleUpdateBrew}\n            options={userSettings}\n            {...commonProps}\n          />\n          <BrewFermentables\n            {...commonProps}\n            updateBrew={handleUpdateBrew}\n          />\n          <BrewHops\n            {...commonProps}\n            updateBrew={handleUpdateBrew}\n          />\n          <BrewAdjuncts\n            {...commonProps}\n            updateBrew={handleUpdateBrew}\n          />\n          <BrewYeast\n            {...commonProps}\n          />\n          <Card color=\"brew\"\n            customClass={`\n              ${newBrew && styles.new}\n              ${brewdayResults && styles.res}\n              ${isDraft && styles.draft}\n              ${!newBrew && !brewdayResults && !isDraft && styles.view}\n            `}\n          >\n            {brew.batchType && brew.batchType !== 'extract'\n              ? <BrewMash\n                  applyEdit={handleUpdateBrew}\n                  options={userSettings}\n                  {...commonProps}\n                />\n              : null}\n            <BrewBoil\n              applyEdit={handleUpdateBrew}\n              options={userSettings}\n              {...commonProps}\n            />\n            <BrewFermentation\n              applyEdit={handleUpdateBrew}\n              {...commonProps}\n            />\n            {!brewdayResults &&<BrewPackaging\n                {...commonProps}\n              />}\n            {!brewdayResults && <BrewNotes\n                {...commonProps}\n              />}\n          </Card>\n          {!readOnly\n            && <div className={styles.buttonContainer}>\n              {(isDraft || newBrew) && <button\n                type=\"submit\"\n                className={`button button--yellow button--large ${styles.saveButton} ${savingDraft && styles.saving}`}\n                onClick={handleSaveBrew(true)}\n              >\n                {newBrew ? `Save Draft` : `Update Draft`}\n                {savingDraft && <Loader className={styles.savingLoader} />}\n              </button> }\n              <button\n                  type=\"submit\"\n                  className={`button button--large ${styles.saveButton} ${saving && styles.saving}`}\n                  onClick={handleSaveBrew(false)}\n                >\n                  {newBrew || isDraft ? `Save & Get Brewing!` : `Update ${brewdayResults ? 'Results' : 'Brew'}`}\n                  {saving && <Loader className={styles.savingLoader} />}\n                </button>\n              </div>\n            }\n        </>}\n      </div>\n      <div className={styles.sideBar} role=\"complementary\" ref={formContainer}>\n        <Card color=\"brew\" customStyle={top} customClass={`${styles.formsContainer}`}>\n          <FormHandler\n            form={form}\n            nextForm={nextForm}\n            editingData={editingData}\n            closeSidebar={closeSidebar}\n            updateBrew={handleUpdateBrew}\n            deleteBrew={handleDeleteBrew}\n            open={sideBarOpen}\n            brewdayResults={brewdayResults}\n          />\n        </Card>\n      </div>\n    </section>\n  );\n}\n\nexport default Brew;","import React, { useEffect } from 'react';\n\nimport styles from './Modal.module.scss';\nimport { useModal } from '../../store/ModalContext';\n\nconst Modal = () => {\n  const modalRef = React.createRef<HTMLDivElement>();\n  const [modal, modalDispatch] = useModal();\n\n  useEffect(() => {\n    if (modal.closing === true) {\n      window.setTimeout(() => {\n        modalDispatch({type: 'close'});\n      }, 350);\n    }\n  }, [modal, modalDispatch]);\n\n  const closeModal = (e: any) => {\n    const node = modalRef.current;\n    // ignore if click is inside the modal\n    if (node && node.contains(e.target)) {\n      return;\n    }\n\n    if (modal.show) {\n      modalDispatch({type: 'hide'});\n    }\n  };\n\n  return modal && modal.show ? (\n    <div\n      className={`${styles.modalOverlay} ${modal.classOverride} ${modal.closing ? styles.close : null}`}\n      onMouseDown={closeModal}\n    >\n      <div className={styles.modal} ref={modalRef}>\n        {modal.image && modal.image}\n        {modal.title &&\n          <header dangerouslySetInnerHTML={{__html: modal.title}} />\n        }\n        {modal.body}\n        {modal.node && modal.node}\n        {modal.buttons &&\n          <div className={styles.modalButtons}>\n            {modal.buttons}\n          </div>\n        }\n      </div>\n    </div>\n  ) : null;\n}\n\nexport default Modal;","import React, { useState, useEffect, ReactText } from 'react';\nimport axios from 'axios';\nimport debounce from 'lodash.debounce'\n\nimport styles from './Profile.module.scss';\nimport formStyles from '../../components/Forms/Forms.module.scss';\nimport Avatar from '../../components/Avatar/Avatar';\nimport FormattedDate from '../../components/FormattedDate/FormattedDate';\nimport Loader from '../../components/Loader/Loader';\nimport { useUser } from '../../store/UserContext';\nimport { useModal } from '../../store/ModalContext';\nimport { useSnackbar } from '../../store/SnackbarContext';\nimport Info from '../../components/Info/Info';\nimport { gal2l, l2gal } from '../../resources/javascript/calculator';\nimport Select from '../../components/Select/Select';\n\ntype Unit = 'us' | 'metric';\ntype IbuFormula = 'rager' | 'tinseth';\ninterface Settings {\n  edited?: boolean;\n  units: Unit;\n  ibuFormula: IbuFormula;\n  kettle: ReactText;\n  evapRate: ReactText;\n  strikeFactor: ReactText;\n  trubLoss: ReactText;\n  equipmentLoss: ReactText;\n  absorptionRate: ReactText;\n  hopAbsorptionRate: ReactText;\n  boilTemp: ReactText;\n  mashEfficiency: ReactText;\n}\n\nconst Profile = () => {\n  const fileInput = React.createRef<HTMLInputElement>();\n  const [user, userDispatch] = useUser();\n  // eslint-disable-next-line\n  const [snackbar, snackbarDispatch] = useSnackbar();\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n  const [email, setEmail] = useState(user.email);\n  const [firstName, setFirstName] = useState(user.first_name);\n  const [lastName, setLastName] = useState(user.last_name);\n  const [password1, setPassword1] = useState('');\n  const [password2, setPassword2] = useState('');\n  const [saving, setSaving] = useState(false);\n  const [settings, setSettings] = useState<Settings>({\n    edited: false,\n    units: user.units ? user.units : 'us',\n    ibuFormula: user.ibu_formula ? user.ibu_formula : 'rager',\n    kettle: user.kettle_size ? user.kettle_size : '',\n    evapRate: user.evap_rate ? user.evap_rate : '',\n    strikeFactor: user.strike_adjustment ? user.strike_adjustment : '',\n    trubLoss: user.trub_loss ? user.trub_loss : 0.5,\n    equipmentLoss: user.equipment_loss ? user.equipment_loss : 1,\n    absorptionRate: user.absorption_rate ? user.absorption_rate : 0.125,\n    hopAbsorptionRate: user.hop_absorption_rate ? user.hop_absorption_rate : 0.0365,\n    boilTemp: user.boil_temp ? user.boil_temp : 210,\n    mashEfficiency: user.mash_efficiency ? user.mash_efficiency : '',\n  });\n  const [file, setFile] = useState('');\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    document.title = \"BeerForge | Profile\";\n  }, [])\n\n  useEffect(() => {\n    if (settings.edited === true) {\n      handleChangeSettings();\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings])\n\n  const handleChangeSettings = debounce(() => {\n    updateUser();\n  }, 300);\n\n  const updateUser = async () => {\n    try {\n      delete settings.edited;\n      // build our body for the request\n      const body: any = {\n        firstName: firstName,\n        lastName: lastName,\n        email: email,\n        icon: user.icon_schema,\n        username: user.username,\n        ...settings\n      };\n      if (password1.length > 0 && password2.length > 0 && password1 === password2) {\n        body.password = password1;\n      }\n      if (password1 !== password2) {\n        setSaving(false);\n        snackbarDispatch({type: 'show', payload: {\n          status: 'error',\n          message: 'Passwords do not match.',\n        }});\n        return null;\n      }\n      const authHeaders = {'authorization': user ? user.token : null};\n\n      const res = await axios.put(`${process.env.REACT_APP_API_ENDPOINT}/users/${user.id}`, body, {\n        headers: authHeaders,\n      });\n      const data = res.data[0];\n      userDispatch({type: 'update', payload: {...data, googleLogin: user.googleLogin}});\n      setSaving(false);\n      setPassword1('');\n      setPassword2('');\n      snackbarDispatch({type: 'show', payload: {\n        status: 'success',\n        message: 'Profile updated',\n      }});\n    } catch (error) {\n      setSaving(false);\n      snackbarDispatch({type: 'show', payload: {\n        status: 'error',\n        message: error.message,\n      }});\n    }\n  }\n\n  const handleUpdateUser = () => {\n    setSaving(true);\n    updateUser();\n  }\n\n  const deleteUser = async () => {\n    try {\n      const authHeaders = {'authorization': user ? user.token : null};\n\n      await axios.delete(`${process.env.REACT_APP_API_ENDPOINT}/users/${user.id}`, {\n        headers: authHeaders,\n      });\n      snackbarDispatch({type: 'show', payload: {\n        status: 'success',\n        message: 'Account deleted',\n      }});\n      userDispatch({type: 'logout'});\n    } catch (error) {\n      snackbarDispatch({type: 'show', payload: {\n        status: 'error',\n        message: error.message,\n      }});\n    }\n  }\n\n  const handleDeleteUser = () => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        title: `Are you sure you want to permanently remove your user account?`,\n        buttons: <>\n            <button\n              className=\"button button--brown\"\n              onClick={() => modalDispatch({type: 'hide'})}\n            >No, cancel</button>\n            <button\n              className=\"button\"\n              onClick={() => {\n                deleteUser();\n                modalDispatch({type: 'hide'})\n              }}\n            >Yes, remove</button>\n          </>\n      }\n    });\n  }\n\n  const fileAdded = (e: any) => {\n    let name = '';\n    if (\n      fileInput.current &&\n      fileInput.current.files &&\n      fileInput.current.files.length > 0\n    ) {\n      name = fileInput.current.files[0].name;\n    }\n\n    setFile(name);\n  };\n\n  const uploadBrews = async (e: any) => {\n    // before we start using the current user, let's just make sure they haven't expired, shall we?\n    userDispatch({type: 'load'});\n    if (\n      fileInput.current &&\n      fileInput.current.files &&\n      fileInput.current.files.length > 0\n    ) {\n      try {\n        setUploading(true);\n\n        const formData = new FormData();\n        formData.append('beerxml', fileInput.current.files[0]);\n        const authHeaders = {\n          'authorization': user ? user.token : null,\n          'Content-Type': 'multipart/form-data'\n        };\n\n        const result = await axios.post(`${process.env.REACT_APP_API_ENDPOINT}/brews/upload`, formData, {\n          headers: authHeaders,\n        });\n\n        if (result.status === 202) {\n          setUploading(false);\n          setFile('');\n          // fileInput.current.value = '';\n          snackbarDispatch({type: 'show', payload: {\n            status: 'success',\n            message: 'Upload success!',\n          }});\n        }\n      } catch (error) {\n        setUploading(false);\n        setFile('');\n        // fileInput.current.value = '';\n        snackbarDispatch({type: 'show', payload: {\n          status: 'error',\n          message: error.message,\n        }});\n      }\n    }\n  };\n\n  return (\n    <section className={styles.profile}>\n      <header>\n        <div className={styles.profilePic}>\n          <Avatar user={user} />\n        </div>\n        <h1 className={styles.infoContainer__header}>\n          {user.username ? user.username : `${user.first_name} ${user.last_name}`}\n          <span>Joined <FormattedDate>{user.date_joined}</FormattedDate></span>\n        </h1>\n      </header>\n      <label className=\"divider\"><span>User Info</span></label>\n      <div className={styles.form}>\n        <div className={formStyles.row}>\n          <label>First Name<br />\n            <input\n              type=\"text\"\n              placeholder=\"First Name\"\n              id=\"firstName\"\n              className=\"dark\"\n              value={firstName ? firstName : ''}\n              onChange={ (e) => setFirstName(e.target.value) }\n              disabled={user.googleLogin}\n            />\n          </label>\n          <label>Last Name<br />\n            <input\n              type=\"text\"\n              placeholder=\"Last Name\"\n              id=\"lastName\"\n              className=\"dark\"\n              value={lastName ? lastName : ''}\n              onChange={ (e) => setLastName(e.target.value) }\n              disabled={user.googleLogin}\n            />\n          </label>\n        </div>\n        <label>Email<br />\n          <input\n            type=\"email\"\n            placeholder=\"email@example.com\"\n            id=\"email\"\n            className=\"dark\"\n            value={email ? email : ''}\n            onChange={ (e) => setEmail(e.target.value) }\n            disabled={user.googleLogin}\n          />\n        </label>\n        {!user.googleLogin && <div className={formStyles.row}>\n          <label className={styles.loginSignup__label}>\n            Reset Password<br />\n            <input\n              type=\"password\"\n              name=\"password1\"\n              value={password1}\n              onChange={(e) => setPassword1(e.target.value)}\n              className=\"dark\"\n              // className={`dark ${error === 'noMatch' ? 'error' : ''}`}\n            />\n          </label>\n          <label className={styles.loginSignup__label}>\n            Re-Type Password<br />\n            <input\n              type=\"password\"\n              name=\"password2\"\n              value={password2}\n              onChange={(e) => setPassword2(e.target.value)}\n              className=\"dark\"\n              // className={`dark ${error === 'noMatch' ? 'error' : ''}`}\n            />\n          </label>\n        </div>}\n        <div className={styles.buttons}>\n          <button\n            className={`button button--green ${styles.updateButton} ${saving ? styles.saving : null}`}\n            onClick={handleUpdateUser}\n          >\n            <span>Update User Info</span>\n            {saving ? <Loader className={styles.savingLoader} /> : null}\n          </button>\n          <button\n            className=\"button button--yellow\"\n            onClick={handleDeleteUser}\n          >Delete Account</button>\n        </div>\n      </div>\n\n      <label className=\"divider\"><span id=\"settings\">Brewhouse Settings</span></label>\n      <div className={styles.form}>\n        <div className={formStyles.row}>\n          <label htmlFor=\"units\">Measurement Units<br />\n            <Select\n              options={[\n                {option: 'US', value: 'us'},\n                {value:\"Metric\", option:\"metric\"},\n              ]}\n              value={settings.units}\n              onChange={(e) => setSettings(\n                {...settings, units: e.currentTarget.value as Unit, edited: true}\n              )}\n              className=\"capitalize darkInput\"\n            />\n          </label>\n          <label>IBU Calculation Formula<br />\n            <Select\n              options={[\n                {option: 'Rager', value: 'rager'},\n                {value:\"Tinseth\", option:\"tinseth\"},\n              ]}\n              value={settings.ibuFormula}\n              onChange={(e) => setSettings(\n                {...settings, ibuFormula: e.currentTarget.value as IbuFormula, edited: true}\n              )}\n              className=\"capitalize darkInput\"\n            />\n          </label>\n        </div>\n        <p className=\"light\">Pre-populate this data when setting up a brew. Changes will only affect new brews.</p>\n        <div className={formStyles.row}>\n          <label>\n            Kettle Size ({settings.units === 'metric' ? 'L' : 'gal'})&nbsp;\n            <Info alignment=\"top-left\" info=\"Primarily&nbsp;used&nbsp;in BIAB&nbsp;calculations.\" /><br />\n            <input\n              type=\"number\"\n              placeholder={settings.units === 'metric' ? '37.8' : '10'}\n              step=\"0.5\"\n              id=\"kettle\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.units === 'metric' ? parseFloat(gal2l(settings.kettle).toFixed(5)) : settings.kettle}\n              onChange={(e) => setSettings({\n                ...settings,\n                kettle: e.target.value !== ''\n                  ? settings.units === 'metric' ? l2gal(Number(e.target.value)) : Number(e.target.value)\n                  : '',\n                edited: true\n              })}\n            />\n          </label>\n          <label>\n            Mash Efficiency (%)&nbsp;\n            <Info alignment=\"top-right\" info=\"For&nbsp;assistance&nbsp;in determining your mash efficiency, visit&nbsp;our&nbsp;calculators page.\" /><br />\n            <input\n              type=\"number\"\n              placeholder=\"78\"\n              id=\"mashEfficiency\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.mashEfficiency}\n              onChange={(e) => setSettings({\n                ...settings,\n                mashEfficiency: e.target.value !== '' ? Number(e.target.value) : '',\n                edited: true\n              })}\n            />\n          </label>\n        </div>\n        <div className={formStyles.row}>\n          <label>\n            Evaporation Rate (%/hr)&nbsp;\n            <Info alignment=\"top-left\" info=\"For&nbsp;assistance in&nbsp;determining your evap rate, visit&nbsp;our&nbsp;calculators page.\" /><br />\n            <input\n              type=\"number\"\n              placeholder=\"1.5\"\n              id=\"evapRate\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.evapRate}\n              onChange={(e) => setSettings({\n                ...settings,\n                evapRate: e.target.value !== '' ? Number(e.target.value) : '',\n                edited: true\n              })}\n            />\n          </label>\n          <label>\n            Boil Temperature&nbsp;\n            <Info alignment=\"top-right\" info=\"The&nbsp;point&nbsp;at&nbsp;which water boils is dependant on altitude and atmospheric pressure.\" /><br />\n            <input\n              type=\"number\"\n              placeholder=\"210\"\n              id=\"boilTemp\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.boilTemp}\n              onChange={(e) => setSettings({\n                ...settings,\n                boilTemp: e.target.value !== '' ? Number(e.target.value) : '',\n                edited: true\n              })}\n            />\n          </label>\n        </div>\n        <p className=\"light\">Dial your brewhouse settings in here over time to fine-tune BeerForge's calculations on your system.</p>\n        <div className={formStyles.row}>\n          <label>\n            Trub Loss ({settings.units === 'metric' ? 'L' : 'gal'})&nbsp;\n            <Info\n              alignment=\"top-left\"\n              info={`Volume\\u00A0of\\u00A0uncollectable wort due to heavy trub material. Default is\\u00A0${settings.units === 'metric' ? parseFloat(gal2l(0.5).toFixed(5))+'\\u00A0L' : '0.5\\u00A0gal'}.`}\n            /><br />\n            <input\n              type=\"number\"\n              placeholder=\"0.5\"\n              id=\"trubLoss\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.units === 'metric' ? parseFloat(gal2l(settings.trubLoss).toFixed(5)) : settings.trubLoss}\n              onChange={(e) => setSettings({\n                ...settings,\n                trubLoss: e.target.value !== ''\n                  ? settings.units === 'metric' ? l2gal(Number(e.target.value)) : Number(e.target.value)\n                  : '',\n                edited: true\n              })}\n            />\n          </label>\n          <label>\n            Equipment Loss ({settings.units === 'metric' ? 'L' : 'gal'})&nbsp;\n            <Info\n              alignment=\"top-right\"\n              info={`Volume\\u00A0of\\u00A0wort\\u00A0lost by your system (due to false bottom, etc.). Default\\u00A0is\\u00A0${settings.units === 'metric' ? parseFloat(gal2l(1).toFixed(5))+'\\u00A0L' : '1\\u00A0gal'}.`}\n            /><br />\n            <input\n              type=\"number\"\n              placeholder=\"1\"\n              id=\"equipmentLoss\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.units === 'metric' ? parseFloat(gal2l(settings.equipmentLoss).toFixed(5)) : settings.equipmentLoss}\n              onChange={(e) => setSettings({\n                ...settings,\n                equipmentLoss: e.target.value !== ''\n                  ? settings.units === 'metric' ? l2gal(Number(e.target.value)) : Number(e.target.value)\n                  : '',\n                edited: true\n              })}\n            />\n          </label>\n        </div>\n        <div className={formStyles.row}>\n          <label>\n            Absorption Rate ({settings.units === 'metric' ? 'L/kg of grain' : 'gal/lb of grain'})&nbsp;\n            <Info\n              alignment=\"top-left\"\n              info={`Volume\\u00A0of\\u00A0wort absorbed by grains. The default\\u00A0is\\u00A0${settings.units === 'metric' ? parseFloat(gal2l(0.125).toFixed(5))+'\\u00A0L' : '0.125\\u00A0gal'}.`}\n            /><br />\n            <input\n              type=\"number\"\n              placeholder=\"0.125\"\n              id=\"absorptionRate\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.units === 'metric' ? parseFloat(gal2l(settings.absorptionRate).toFixed(5)) : settings.absorptionRate}\n              onChange={(e) => setSettings({\n                ...settings,\n                absorptionRate: e.target.value !== ''\n                  ? settings.units === 'metric' ? l2gal(Number(e.target.value)) : Number(e.target.value)\n                  : '',\n                edited: true\n              })}\n            />\n          </label>\n          <label>\n            Hop Absorption Rate ({settings.units === 'metric' ? 'L/g' : 'gal/oz'})&nbsp;\n            <Info\n              alignment=\"top-right\"\n              info={`Volume\\u00A0of\\u00A0wort absorbed by hops. The\\u00A0default\\u00A0is\\u00A0${settings.units === 'metric' ? parseFloat(gal2l(0.0365).toFixed(5))+'\\u00A0L' : '0.0365\\u00A0gal'}.`}\n            /><br />\n            <input\n              type=\"number\"\n              placeholder=\"0.0365\"\n              id=\"hopAbsorptionRate\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.units === 'metric' ? parseFloat(gal2l(settings.hopAbsorptionRate).toFixed(5)) : settings.hopAbsorptionRate}\n              onChange={(e) => setSettings({\n                ...settings,\n                hopAbsorptionRate: e.target.value !== ''\n                  ? settings.units === 'metric' ? l2gal(Number(e.target.value)) : Number(e.target.value)\n                  : '',\n                edited: true\n              })}\n            />\n          </label>\n        </div>\n        <div className={formStyles.row}>\n          <label>\n            Strike Temperature Adjustment Factor&nbsp;\n            <Info alignment=\"top-left\" info=\"Temperature&nbsp;losses due to equipment and environment temps. You may need to dial this in over time.\" /><br />\n            <input\n              type=\"number\"\n              placeholder=\"0\"\n              id=\"strikeFactor\"\n              className=\"dark\"\n              autoComplete=\"none\"\n              value={settings.strikeFactor}\n              onChange={(e) => setSettings({\n                ...settings,\n                strikeFactor: e.target.value !== '' ? Number(e.target.value) : '',\n                edited: true\n              })}\n            />\n          </label>\n        </div>\n      </div>\n\n      <label className=\"divider\"><span>Upload Brew (BeerXML)</span></label>\n      <div className={`${styles.form} ${formStyles.rowOneThird}`}>\n        <input\n          type=\"file\"\n          id=\"beerxmlUpload\"\n          accept=\".xml\"\n          ref={fileInput}\n          onChange={fileAdded}\n        />\n        <label\n          className={`dark ${file ? 'filled' : null}`}\n          htmlFor=\"beerxmlUpload\"\n        >\n          {file ? file : 'Choose File'}\n        </label>\n        <button\n          className={`button button--green ${styles.uploadButton} ${uploading ? styles.uploading : null}`}\n          onClick={uploadBrews}\n          disabled={!file}\n        >\n          <span>Upload File</span>\n          {uploading ? <Loader className={styles.savingLoader} /> : null}\n        </button>\n      </div>\n      <label>NOTE: This upload maps over everything it can form your beerXML files, but it is only as good as the data those files contain. Make sure your files are up to spec. <a href=\"http://www.beerxml.com/beerxml.htm\" target=\"_blank\" rel=\"noopener noreferrer\">beerxml.com</a></label>\n    </section>\n  );\n}\n\nexport default Profile;","import React from 'react';\nimport Select from '../../components/Select/Select';\n\nimport styles from './Brews.module.scss';\n\nconst SortMenu = (props: any) => {\n  const {\n    dateSort,\n    setDateSort,\n    displaySort,\n    setDisplaySort,\n    numToShow,\n    setNumToShow,\n  } = props;\n\n  return (\n    <div className={styles.sortMenu}>\n      <div className={styles.sortMenu__column}>\n        <label>DATE</label>\n        <ul>\n          <li>\n            <input\n              type=\"radio\"\n              value=\"desc\"\n              id=\"desc\"\n              name=\"date\"\n              checked={dateSort === \"desc\"}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setDateSort(e.target.value)}\n            />\n            <label htmlFor=\"desc\">Date descending</label>\n          </li>\n          <li>\n            <input\n              type=\"radio\"\n              value=\"asc\"\n              id=\"asc\"\n              name=\"date\"\n              checked={dateSort === \"asc\"}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setDateSort(e.target.value)}\n            />\n            <label htmlFor=\"asc\">Date ascending</label>\n          </li>\n        </ul>\n      </div>\n      <div className={styles.sortMenu__column}>\n        <label>FILTER &amp; SORT<br />\n          <ul>\n            <li>\n              <Select\n                options={[\n                  {option: 'All', value: 'individual'},\n                  {option: 'Re-brew Series', value: 'series'},\n                  {option: 'Exclude Drafts', value: 'noDrafts'},\n                  {option: 'Only Drafts', value: 'onlyDrafts'},\n                ]}\n                value={displaySort}\n                onChange={(e) => setDisplaySort(e.currentTarget.value)}\n                className=\"capitalize darkInput select\"\n              />\n              {/* <select\n                className={`dark ${styles.filterInput}`}\n                value={displaySort}\n                onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setDisplaySort(e.target.value)}\n              >\n                <option value=\"individual\">All</option>\n                <option value=\"series\">Re-brew Series</option>\n                <option value=\"noDrafts\">Exclude Drafts</option>\n                <option value=\"onlyDrafts\">Only Drafts</option>\n              </select> */}\n            </li>\n          </ul>\n        </label>\n      </div>\n      <div className={styles.sortMenu__column}>\n        <label>COUNT<br />\n          <input\n            type=\"number\"\n            step=\"10\"\n            className={`dark ${styles.countInput}`}\n            value={numToShow.toString()}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNumToShow(e.target.value)}\n          />\n        </label>\n      </div>\n    </div>\n  );\n}\n\nexport default SortMenu;","import React, { useState, useEffect, CSSProperties, useRef } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport debounce from 'lodash.debounce'\n\nimport styles from './Brews.module.scss';\nimport List from '../../components/List/List';\nimport ListItem from '../../components/ListItem/ListItem';\nimport FormattedDate from '../../components/FormattedDate/FormattedDate';\nimport Card from '../../components/Card/Card';\nimport Loader from '../../components/Loader/Loader';\nimport Tooltip from \"../../components/Tooltip/Tooltip\";\nimport { getSrmToRgb } from '../../resources/javascript/srmToRgb';\nimport { scrollToTop } from '../../resources/javascript/scrollToTop';\nimport { BrewInterface } from '../../store/BrewContext';\nimport { useUser } from '../../store/UserContext';\nimport { useSnackbar } from '../../store/SnackbarContext';\nimport { useModal } from '../../store/ModalContext';\nimport * as brewService from '../../store/BrewService';\nimport SortMenu from './SortMenu';\n\nconst Brews = (props: any) => {\n  // CONTEXT\n  const [user, userDispatch] = useUser();\n  // eslint-disable-next-line\n  const [snackbar, snackbarDispatch] = useSnackbar();\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n\n  // STATE\n  const [search, setSearch] = useState('');\n  const [brews, setBrews] = useState([]);\n  const [brewsCount, setBrewsCount] = useState(0);\n  const [page, setPage] = useState(1);\n  const [numToShow, setNumToShow] = useState(20);\n  const [loading, setLoading] = useState(false);\n  const [showTooltip, setShowTooltip] = useState<null | number>(null);\n  const [showSort, setShowSort] = useState(false);\n  const [placeholderClass, setPlaceholderClass] = useState<undefined | CSSProperties>(undefined);\n  const [currentUser, setCurrentUser] = useState(false);\n  const [userViewing, setUserViewing] = useState<any>({});\n  const [dateSort, setDateSort] = useState('desc');\n  const [displaySort, setDisplaySort] = useState('individual');\n\n  // REFS\n  // const logHeader = React.createRef<HTMLDivElement>();\n  const logHeader = useRef<HTMLDivElement>(null);\n  const headerClass = useRef('');\n  const isMounted: any = useRef();\n\n  // mount\n  useEffect(() => {\n    document.title = \"BeerForge | All Brews\";\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n\n    // unmount\n    return function cleanup() {\n      window.removeEventListener('scroll', handleScroll);\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const userId = Number(window.location.pathname.split('/')[2]);\n    if (!isNaN(userId)) {\n      isMounted.current = true;\n      isMounted && getUserAndBrews(userId);\n    } else {\n      isMounted.current = true;\n      setCurrentUser(true);\n      isMounted && listUserBrews(1);\n    }\n\n    scrollToTop(300);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.history.location.pathname]);\n\n  useEffect(() => {\n    if (isMounted) {\n      const id = currentUser ? user.id : userViewing.id;\n      listUserBrews(1, id);\n      scrollToTop(300);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]);\n\n  useEffect(() => {\n    const id = currentUser ? user.id : userViewing.id;\n    listUserBrews(1, id);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [numToShow, dateSort, displaySort]);\n\n  const getUserAndBrews = async (userId: number) => {\n    setLoading(true);\n    await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/users/${userId}`, {\n      headers: {'authorization': user ? user.token : null},\n    }).then(result => {\n      setLoading(false);\n      setUserViewing(result.data);\n      document.title = `BeerForge | All ${result.data.username}'s Brews`;\n      setCurrentUser(false);\n      listUserBrews(1, userId);\n    })\n    .catch((error) => {\n      snackbarDispatch({type: 'show', payload: {\n        status: 'error',\n        message: error.message,\n      }});\n      props.history.push('/dashboard');\n    });\n  }\n\n  const listUserBrews = async (page: number, userId: number | null = null) => {\n    const id = userId ? userId : user.id;\n    try {\n      // double check current user hasn't expired\n      userDispatch({type: 'load'});\n      setLoading(true);\n      const authHeaders = {'authorization': user ? user.token : null};\n      await axios\n        .get(`${process.env.REACT_APP_API_ENDPOINT}/brews/${id}`, {\n          headers: authHeaders,\n          params: {\n            num: numToShow > 0 ? numToShow : 20,\n            page: page,\n            search: search,\n            dateSort: dateSort,\n            displaySort: displaySort\n          },\n        }).then(result => {\n          setBrews(result.data.brews);\n          setBrewsCount(result.data.count);\n          setPage(page);\n          setLoading(false);\n        });\n    } catch (error) {\n      setLoading(false);\n      snackbarDispatch({type: 'show', payload: {\n        status: 'error',\n        message: error.message,\n      }});\n    }\n  };\n\n  const exportBrew = (brew: BrewInterface) => async (event: any) => {\n    event.stopPropagation();\n    try {\n      userDispatch({type: 'load'});\n      const authHeaders = {'authorization': user ? user.token : null};\n      await axios\n        .get(`${process.env.REACT_APP_API_ENDPOINT}/brews/export/?brews=${brew.id}`, {\n        headers: authHeaders,\n        responseType: 'blob',\n      }).then(result => {\n        const downloadUrl = window.URL.createObjectURL(new Blob([result.data]));\n        const link = document.createElement('a');\n        link.href = downloadUrl;\n        link.setAttribute('download', `beerforge_export-${brew.name ? brew.name.replace(' ', '_') : ''}.xml`);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      });\n    } catch (error) {\n      snackbarDispatch({type: 'show', payload: {\n        status: 'error',\n        message: error.message,\n      }});\n    }\n  }\n\n  const handleDeleteBrew = (brew: BrewInterface) => async (event: any) => {\n    event.stopPropagation();\n    modalDispatch({\n      type: 'show',\n      payload: {\n        title: `Are you sure you want to permanently remove <strong>${brew.name}</strong>?`,\n        buttons: <>\n            <button\n              className=\"button button--brown\"\n              onClick={() => modalDispatch({type: 'hide'})}\n            >No, cancel</button>\n            <button\n              className=\"button\"\n              onClick={async () => {\n                // @ts-ignore-line\n                await brewService.deleteBrew(brew.id, user, brew.parent === null ? true : false)\n                .then((res: any) => {\n                  snackbarDispatch({type: 'show', payload: {\n                    status: 'success',\n                    message: `Sucessfully removed: ${brew.name}`\n                  }});\n                  modalDispatch({type: 'hide'});\n                  listUserBrews(page);\n                })\n                .catch((error: any) => {\n                  snackbarDispatch({type: 'show', payload: {\n                    status: 'error',\n                    message: error.message,\n                  }});\n                  modalDispatch({type: 'hide'});\n                });\n              }}\n            >Yes, remove</button>\n          </>\n      }\n    });\n  }\n\n  const handleScroll = (event: Event) => {\n    // @ts-ignore-line\n    const rect = logHeader.current\n      ? logHeader.current.getBoundingClientRect()\n      : new DOMRect();\n    if (headerClass.current === '' && rect.top > 49) {\n      // @ts-ignore-line\n      headerClass.current = '';\n      setPlaceholderClass({\n        height: 0,\n        width: 0,\n      });\n    } else if (headerClass.current !== '' && rect.top > -20) {\n      headerClass.current = '';\n      setPlaceholderClass({\n        height: 0,\n        width: 0,\n      });\n    } else if (rect.top <= 49) {\n      headerClass.current = styles.fixedHeader;\n      setPlaceholderClass({\n        width: '100%',\n        height: '69px'\n      });\n    }\n  }\n\n  const handleBrewClick = (brewId: number) => (event: any) => {\n    props.history.push(`/brew/${brewId}`);\n  }\n\n  const openMoreMenu = (index: number) => (event: any) => {\n    event.stopPropagation();\n    setShowTooltip(index);\n  }\n\n  const closeMoreMenu = (index: number) => {\n    if (showTooltip === index) {\n      setShowTooltip(null);\n    }\n  }\n\n  const handleSortToggle = () => {\n    setShowSort(!showSort);\n  }\n\n  const onChange = debounce((value: string) => {\n    setSearch(value);\n  }, 300);\n\n  const pagination = Array.from(Array(Math.ceil(brewsCount/(numToShow > 0 ? numToShow : 20))), (e, i) => {\n    const currentPage = i+1;\n    return !currentUser\n      ? <button\n          className={`button button--page ${page === currentPage ? 'on' : ''}`}\n          key={currentPage}\n          onClick={() => page !== currentPage ? listUserBrews(currentPage, userViewing.id) : null}\n        >{currentPage}</button>\n      : <button\n          className={`button button--page ${page === currentPage ? 'on' : ''}`}\n          key={currentPage}\n          onClick={() => page !== currentPage ? listUserBrews(currentPage) : null}\n        >{currentPage}</button>;\n  });\n\n  return (\n    <section className={styles.allBrews}>\n      <div className={styles.topRow}>\n        <h1 className={styles.allBrews__header}>{currentUser ? 'All Brews' : `All ${userViewing.username}'s Brews`}</h1>\n        <div className={styles.topRow__container}>\n          <input\n            type=\"text\"\n            name=\"search\"\n            className={styles.search}\n            placeholder=\"Search names and tags\"\n            autoComplete=\"off\"\n            onChange={({ target: { value } }) => onChange(value)}\n          />\n          <button\n            type=\"button\"\n            className={`button button--no-button ${styles.sortButton}`}\n            onClick={handleSortToggle}\n          >Sort</button>\n        </div>\n        {currentUser && <Link\n          to=\"brew\"\n          className=\"button button--large button--yellow\"\n        >New Brew</Link>}\n      </div>\n      <div className={`${styles.sortMenuContainer} ${showSort ? styles.open : ''}`}>\n        <SortMenu\n          dateSort={dateSort}\n          setDateSort={setDateSort}\n          displaySort={displaySort}\n          setDisplaySort={setDisplaySort}\n          numToShow={numToShow}\n          setNumToShow={setNumToShow}\n        />\n      </div>\n      <div className={`${styles.brewLogHeader} ${headerClass.current}`}>\n        <label className={styles.nameCol}>Name</label>\n        <label>ABV %</label>\n        <label>IBU</label>\n        <label>SRM</label>\n        <label>Date Brewed</label>\n      </div>\n      <div ref={logHeader} style={placeholderClass} />\n      <Card customClass={styles.allBrews__list}>\n        <List customClass={styles.brewLog}>\n          {loading && brews.length === 0 ? <Loader className={styles.loader} />\n            : brews.length > 0\n              ? brews.map((brew: any, index: number) => {\n                return <ListItem\n                  key={brew.id}\n                  customClass={`${styles.brewLog__item} ${displaySort === 'series' && brew.parent !== null ? styles.child : ''}`}\n                  clicked={handleBrewClick(brew.id)}\n                  label=\"Click to see brew details\"\n                >\n                  <div className={styles.nameCol}>{brew.name} {brew.is_draft && <span className={styles.pill}>Draft</span>}</div>\n                  <span className={styles.abvCol}>{brew.abv ? brew.abv : '--'}</span>\n                  <span className={styles.ibuCol}>{brew.ibu ? brew.ibu : '--'}</span>\n                  <span className={styles.srmCol}>\n                    {brew.srm\n                      ? <>\n                          <div\n                            className={styles.srmSwatch}\n                            style={{backgroundColor: getSrmToRgb(brew.srm)}}\n                          />\n                          {brew.srm}\n                        </>\n                      : '--'}\n                  </span>\n                  <span className={styles.dateCol}><FormattedDate>{brew.date_brewed}</FormattedDate></span>\n                  {currentUser && <div className={styles.moreMenuWrapper}>\n                    <div className={styles.kebab} onClick={openMoreMenu(index)}>\n                      <span></span><span></span><span></span>\n                    </div>\n                    <Tooltip\n                      show={showTooltip === index}\n                      placement=\"left-center\"\n                      onClose={() => closeMoreMenu(index)}\n                      className={styles.moreMenu}\n                    >\n                      <button\n                        className={`button button--link button--small ${styles.moreButton}`}\n                        onClick={handleDeleteBrew(brew)}\n                      >Delete</button>\n                      <hr className={styles.divider} />\n                      <button\n                        className={`button button--link button--small ${styles.moreButton}`}\n                        onClick={exportBrew(brew)}\n                      >Export</button>\n                    </Tooltip>\n                  </div>}\n                </ListItem>\n              })\n              : currentUser\n                ? <li className={styles.noBrews}>\n                    <Link\n                      to=\"brew\"\n                      className={`button ${styles.brewLInk}`}\n                    >Get Brewing!</Link>\n                  </li>\n                : <li className={styles.noBrews}>\n                    <p style={{textAlign: 'center', color: 'white'}}>\n                      {userViewing.username} doesn't have any brews saved.\n                    </p>\n                </li>\n          }\n        </List>\n      </Card>\n      <div className={styles.brewLogPages}>\n        {pagination}\n      </div>\n    </section>\n  );\n}\n\nexport default Brews;","import React, { useState, useEffect } from 'react';\nimport { useUser } from '../../../store/UserContext';\nimport { l2gal, kg2lb, gal2l } from '../../../resources/javascript/calculator';\n\n\nconst TotalWater = (props: any) => {\n  // CONTEXT\n  // eslint-disable-next-line\n  const [user, userDispatch] = useUser();\n  const userSettings = {\n    trubLoss: user.trub_loss ? user.trub_loss : 0.5,\n    absorptionRate: user.absorption_rate ? user.absorption_rate : 0.125,\n    equipmentLoss: user.equipment_loss ? user.equipment_loss : 1\n  }\n\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [batchSize, setBatchSize] = useState('');\n  const [grainWeight, setGrainWeight] = useState('');\n  const [boilTime, setBoilTime] = useState('');\n  const [boilOff, setBoilOff] = useState('');\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const { calculator } = props;\n  let label = null;\n\n  const results = () => {\n    const result = calculator(\n      batchSize ? units === 'metric' ? parseFloat(l2gal(batchSize).toFixed(4)) : batchSize : undefined,\n      parseFloat(boilTime),\n      parseFloat(boilOff),\n      grainWeight ? units === 'metric' ? parseFloat(kg2lb(grainWeight).toFixed(4)) : grainWeight : undefined,\n      userSettings\n    );\n\n      if (batchSize && boilTime && boilOff && grainWeight && !isNaN(result) && isFinite(result)) {\n        label = props.labels.vol;\n        return units === 'metric' ? parseFloat(gal2l(result).toFixed(2)) : result;\n      }\n  }\n\n  return (\n    <div>\n      <h2>Total Water Needed</h2>\n      <div>\n        <label htmlFor=\"batchSize\">Batch Size ({props.labels.vol})</label><br />\n        <input\n          name=\"batchSize\"\n          type=\"number\"\n          value={batchSize}\n          onChange={(e) => setBatchSize(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"grainWeight\">Malt Weight ({props.labels.largeWeight})</label><br />\n        <input\n          name=\"grainWeight\"\n          type=\"number\"\n          value={grainWeight}\n          onChange={(e) => setGrainWeight(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"boilTime\">Boil Time (min)</label><br />\n        <input\n          name=\"boilTime\"\n          type=\"number\"\n          value={boilTime}\n          onChange={(e) => setBoilTime(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"boilOff\">Evaporation Rate %/hr</label><br />\n        <input\n          name=\"boilOff\"\n          type=\"number\"\n          value={boilOff}\n          onChange={(e) => setBoilOff(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default TotalWater;\n","import React, { useState, useEffect } from 'react';\nimport { l2qt, gal2l } from '../../../resources/javascript/calculator';\n\nconst StrikeVolume = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [ratio, setRatio] = useState('');\n  const [weight, setWeight] = useState('');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      weight,\n      ratio ? units === 'metric' ? parseFloat(l2qt(ratio).toFixed(4)) : ratio : undefined,\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = props.labels.vol;\n      return units === 'metric' ? parseFloat(gal2l(result).toFixed(1)) : result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Strike Water Volume</h2>\n      <div>\n        <label htmlFor=\"weight\">Malt Weight ({props.labels.largeWeight})</label><br />\n        <input\n          name=\"weight\"\n          type=\"number\"\n          value={weight}\n          onChange={(e) => setWeight(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"ratio\">{units === 'metric' ? 'Litres' : 'Quarts'} per {props.labels.largeWeight} of grain</label><br />\n        <input\n          name=\"ratio\"\n          type=\"number\"\n          value={ratio}\n          onChange={(e) => setRatio(e.target.value)}\n        ></input>\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default StrikeVolume;\n","import React, { useState, useEffect } from 'react';\nimport Info from '../../../components/Info/Info';\nimport { c2f, l2qt, f2c } from '../../../resources/javascript/calculator';\n\nconst StrikeTemperature = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [ratio, setRatio] = useState('');\n  const [temp1, settTmp1] = useState('');\n  const [temp2, setTemp2] = useState('');\n  const [factor, setFactor] = useState('');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      temp1 ? units === 'metric' ? parseFloat(c2f(temp1).toFixed(4)) : temp1 : undefined,\n      temp2 ? units === 'metric' ? parseFloat(c2f(temp2).toFixed(4)) : temp2 : undefined,\n      ratio ? units === 'metric' ? parseFloat(l2qt(ratio).toFixed(4)) : ratio : undefined,\n      factor\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = `°${props.labels.temp}`;\n      return units === 'metric' ? parseFloat(f2c(result).toFixed(2)) : result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Strike Water Temperature</h2>\n      <div>\n        <label htmlFor=\"ratio\">{units === 'metric' ? 'Litres' : 'Quarts'} per {props.labels.largeWeight} of grain</label><br />\n        <input\n          name=\"ratio\"\n          type=\"number\"\n          value={ratio}\n          onChange={(e) => setRatio(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"temp1\">Malt Temperature (°{props.labels.temp})</label><br />\n        <input\n          name=\"temp1\"\n          type=\"number\"\n          value={temp1}\n          onChange={(e) => settTmp1(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"temp2\">Target Temperature (°{props.labels.temp})</label><br />\n        <input\n          name=\"temp2\"\n          type=\"number\"\n          value={temp2}\n          onChange={(e) => setTemp2(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"factor\">Adjustment Factor <Info alignment=\"top-left\" info=\"Sparging&nbsp;equipment losses.\" /></label><br />\n        <input\n          name=\"factor\"\n          type=\"number\"\n          value={factor}\n          onChange={(e) => setFactor(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default StrikeTemperature;\n","import React, { useState } from 'react';\n\nconst SpargeVolume = (props: any) => {\n   // STATE\n   const [totalVol, settotalVol] = useState('');\n   const [mashVol, setMashVol] = useState('');\n\n  const { calculator } = props;\n  let label = null;\n\n  const results = () => {\n    const result = calculator(totalVol, mashVol);\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = props.labels.vol;\n      return result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Sparge Water Volume</h2>\n      <div>\n        <label htmlFor=\"totalVol\">Total water volume ({props.labels.vol})</label><br />\n        <input\n          name=\"totalVol\"\n          type=\"number\"\n          value={totalVol}\n          onChange={(e) => settotalVol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"mashVol\">Mash water volume ({props.labels.vol})</label><br />\n        <input\n          name=\"mashVol\"\n          type=\"number\"\n          value={mashVol}\n          onChange={(e) => setMashVol(e.target.value)}\n        ></input>\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default SpargeVolume;\n","import React, { useState, useEffect } from 'react';\nimport { l2gal } from '../../../resources/javascript/calculator';\n\nconst EvaporationPercent = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [postBoilV, setPostBoilV] = useState('');\n  const [preBoilV, setPreBoilV] = useState('');\n  const [boilTime, setBoilTime] = useState('');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      preBoilV ? units === 'metric' ? parseFloat(l2gal(preBoilV).toFixed(4)) : preBoilV : undefined,\n      postBoilV ? units === 'metric' ? parseFloat(l2gal(postBoilV).toFixed(4)) : postBoilV : undefined,\n      boilTime\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = '%';\n      return result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Evaporation %/hr (approximation)</h2>\n      <div>\n        <label htmlFor=\"preBoilV\">Pre-Boil volume ({props.labels.vol})</label><br />\n        <input\n          name=\"preBoilV\"\n          type=\"number\"\n          value={preBoilV}\n          onChange={(e) => setPreBoilV(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"postBoilV\">Post-Boil volume ({props.labels.vol})</label><br />\n        <input\n          name=\"postBoilV\"\n          type=\"number\"\n          value={postBoilV}\n          onChange={(e) => setPostBoilV(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"boilTime\">Boil Time (min)</label><br />\n        <input\n          name=\"boilTime\"\n          type=\"number\"\n          value={boilTime}\n          onChange={(e) => setBoilTime(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()}<label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default EvaporationPercent;\n","import React, { useState, useEffect } from 'react';\nimport { useUser } from '../../../store/UserContext';\nimport { l2gal, kg2lb, gal2l } from '../../../resources/javascript/calculator';\nimport Select from '../../../components/Select/Select';\n\nconst PreBoilVolume = (props: any) => {\n  // CONTEXT\n  // eslint-disable-next-line\n  const [user, userDispatch] = useUser();\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [batchType, setBatchType] = useState('allGrain');\n  const [totalWaterVol, setTotalWaterVol] = useState('');\n  const [grainWeight, setGrainWeight] = useState('');\n\n  const { calculator } = props;\n  const equipmentLoss = user.equipment_loss ? user.equipment_loss : 1;\n  const absorptionRate = user.absorption_rate ? user.absorption_rate : 0.125;\n  let vol = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      totalWaterVol ? units === 'metric' ? parseFloat(l2gal(totalWaterVol).toFixed(4)) : totalWaterVol : undefined,\n      grainWeight ? units === 'metric' ? parseFloat(kg2lb(grainWeight).toFixed(4)) : grainWeight : undefined,\n      equipmentLoss,\n      absorptionRate,\n      batchType\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      vol = props.labels.vol;\n      return units === 'metric' ? parseFloat(gal2l(result).toFixed(2)) : result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Pre-Boil Volume</h2>\n      <div>\n        <label htmlFor=\"batchType\">Batch Type</label><br />\n        <Select\n          options={[\n            {option: 'All Grain', value: 'allGrain'},\n            {option: 'BIAB', value: 'BIAB'},\n          ]}\n          value={batchType}\n          onChange={(e) => setBatchType(e.currentTarget.value as string)}\n          className=\"capitalize darkInput\"\n        />\n        <label htmlFor=\"totalWaterVol\">Total Water Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"totalWaterVol\"\n          type=\"number\"\n          value={totalWaterVol}\n          onChange={(e) => setTotalWaterVol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"grainWeight\">Malt Weight ({props.labels.largeWeight})</label><br />\n        <input\n          name=\"grainWeight\"\n          type=\"number\"\n          value={grainWeight}\n          onChange={(e) => setGrainWeight(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{vol}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default PreBoilVolume;\n","import React, { useState, useEffect } from 'react';\nimport { kg2lb, l2gal } from '../../../resources/javascript/calculator';\n\nconst OriginalGravity = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [potential, setPotential] = useState('');\n  const [weight, setWeight] = useState('');\n  const [efficiency, setEfficiency] = useState('');\n  const [volume, setVolume] = useState('');\n\n  const { calculator } = props;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      [{\n        potential: potential,\n        weight: weight ? units === 'metric' ? parseFloat(kg2lb(weight).toFixed(4)) : weight : undefined,\n      }],\n      efficiency,\n      volume ? units === 'metric' ? parseFloat(l2gal(volume).toFixed(4)) : volume : undefined\n    );\n    return !isNaN(result) && isFinite(result) ? result : '';\n  }\n\n  return (\n    <div>\n      <h2>Original Gravity</h2>\n      <div>\n        <label htmlFor=\"potential\">Malt Potential (ex. 34)</label><br />\n        <input\n          name=\"potential\"\n          type=\"number\"\n          value={potential}\n          onChange={(e) => setPotential(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"weight\">Malt Weight ({props.labels.largeWeight})</label><br />\n        <input\n          name=\"weight\"\n          type=\"number\"\n          value={weight}\n          onChange={(e) => setWeight(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"efficiency\">Mash Efficiency (%)</label><br />\n        <input\n          name=\"efficiency\"\n          type=\"number\"\n          value={efficiency}\n          onChange={(e) => setEfficiency(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"volume\">Post-boil Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"volume\"\n          type=\"number\"\n          value={volume}\n          onChange={(e) => setVolume(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default OriginalGravity;\n","import React, { useState, useEffect } from 'react';\nimport { useUser } from '../../../store/UserContext';\nimport { l2gal, kg2lb } from '../../../resources/javascript/calculator';\nimport Select from '../../../components/Select/Select';\n\nconst PreBoilGravity = (props: any) => {\n  // CONTEXT\n  // eslint-disable-next-line\n  const [user, userDispatch] = useUser();\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [batchType, setBatchType] = useState('allGrain');\n  const [og, setOg] = useState('');\n  const [volume, setVolume] = useState('');\n  const [grainVol, setGrainVol] = useState('');\n  const [totalWaterVol, setTotalWaterVol] = useState('');\n\n  const { calculator } = props;\n  const equipmentLoss = user.equipment_loss ? user.equipment_loss : 1;\n  const absorptionRate = user.absorption_rate ? user.absorption_rate : 0.125;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      og,\n      grainVol ? units === 'metric' ? parseFloat(kg2lb(grainVol).toFixed(4)) : grainVol : undefined,\n      totalWaterVol ? units === 'metric' ? parseFloat(l2gal(totalWaterVol).toFixed(4)) : totalWaterVol : undefined,\n      volume ? units === 'metric' ? parseFloat(l2gal(volume).toFixed(4)) : volume : undefined,\n      equipmentLoss,\n      absorptionRate,\n      batchType\n    );\n    return !isNaN(result) && isFinite(result) && result > 1 ? result : '';\n  }\n\n  return (\n    <div>\n      <h2>Pre-Boil Gravity</h2>\n      <div>\n        <label htmlFor=\"batchType\">Batch Type</label><br />\n        <Select\n          options={[\n            {option: 'All Grain', value: 'allGrain'},\n            {option: 'BIAB', value: 'BIAB'},\n          ]}\n          value={batchType}\n          onChange={(e) => setBatchType(e.currentTarget.value as string)}\n          className=\"capitalize darkInput\"\n        />\n        <label htmlFor=\"grainVol\">Malt Weight ({props.labels.largeWeight})</label><br />\n        <input\n          name=\"grainVol\"\n          type=\"number\"\n          value={grainVol}\n          onChange={(e) => setGrainVol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"totalWaterVol\">Total Water Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"totalWaterVol\"\n          type=\"number\"\n          value={totalWaterVol}\n          onChange={(e) => setTotalWaterVol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"volume\">Post-boil Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"volume\"\n          type=\"number\"\n          value={volume}\n          onChange={(e) => setVolume(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"og\">Original Gravity</label><br />\n        <input\n          name=\"og\"\n          type=\"number\"\n          value={og}\n          onChange={(e) => setOg(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default PreBoilGravity;\n","import React, { useState, useEffect } from 'react';\nimport Select from '../../../components/Select/Select';\nimport { l2gal } from '../../../resources/javascript/calculator';\nimport { PITCHING_RATES } from '../../../resources/javascript/constants';\n\nconst YeastTargetPitchingRate = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [og, setOg] = useState('');\n  const [volume, setVolume] = useState('');\n  const [target, setTarget] = useState('0.75');\n\n  const { calculator } = props;\n  let label = '';\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      og,\n      volume ? units === 'metric' ? parseFloat(l2gal(volume).toFixed(4)) : volume : undefined,\n      target\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = 'billion cells';\n      return result;\n    } else {\n      label = '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Target Yeast Pitching Rate</h2>\n      <div>\n        <label htmlFor=\"og\">Original Gravity</label><br />\n        <input\n          name=\"og\"\n          type=\"number\"\n          value={og}\n          onChange={(e) => setOg(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"volume\">Wort Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"volume\"\n          type=\"number\"\n          value={volume}\n          onChange={(e) => setVolume(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"target\">Target Rate<br />(million cells / ml / °Plato)</label><br />\n        <Select\n          options={PITCHING_RATES}\n          value={target}\n          onChange={(e) => setTarget(e.currentTarget.value as string)}\n          className=\"capitalize darkInput\"\n        />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default YeastTargetPitchingRate;\n","import React, { useState } from 'react';\nimport Select from '../../../components/Select/Select';\n\nconst YeastPitchingRate = (props: any) => {\n  // STATE\n  const [type, setType] = useState('liquid');\n  const [number, setNumber] = useState('');\n  const [date, setDate] = useState('');\n  const [cells, setCells] = useState('');\n\n  const { calculator } = props;\n  let label = '';\n\n  const results = () => {\n    const result = calculator(type, Number(cells), Number(number), date);\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = 'billion cells';\n      return result;\n    } else {\n      label = '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Total Yeast Cells</h2>\n      <div>\n        <label htmlFor=\"type\">Yeast Type</label><br />\n        <Select\n          options={[\n            {option: 'Liquid (pack/vial)', value: 'liquid'},\n            {option: 'dry', value: 'dry'},\n          ]}\n          value={type}\n          onChange={(e) => setType(e.currentTarget.value as string)}\n          className=\"capitalize darkInput\"\n        />\n        {type === 'liquid' &&\n          <div>\n            <label htmlFor=\"number\">Number of Liquid Packs</label><br />\n            <input\n              name=\"number\"\n              type=\"number\"\n              value={number}\n              onChange={(e) => setNumber(e.target.value)}\n            ></input><br />\n            <label htmlFor=\"cells\">Cell Count</label><br />\n            <input\n              name=\"cells\"\n              type=\"number\"\n              value={cells}\n              onChange={(e) => setCells(e.target.value)}\n            ></input><br />\n            <label htmlFor=\"date\">Manufactured Date</label><br />\n            <input\n              name=\"date\"\n              type=\"date\"\n              value={date}\n              onChange={(e) => setDate(e.target.value)}\n            ></input><br />\n          </div>\n        }\n        {type === 'dry' &&\n          <div>\n            <label htmlFor=\"number\">Number of Dry Packs</label><br />\n            <input\n              name=\"number\"\n              type=\"number\"\n              value={number}\n              onChange={(e) => setNumber(e.target.value)}\n            ></input><br />\n            <label htmlFor=\"cells\">Cell Count</label><br />\n            <input\n              name=\"cells\"\n              type=\"number\"\n              value={cells}\n              onChange={(e) => setCells(e.target.value)}\n            ></input><br />\n          </div>\n        }\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default YeastPitchingRate;\n","import React, { useState } from 'react';\n\nconst FinalGravity = (props: any) => {\n  // STATE\n  const [og, setOg] = useState('');\n  const [attenuation, setAttenuation] = useState('');\n\n  const { calculator } = props;\n\n  const results = () => {\n    const result = calculator(og, attenuation);\n      return !isNaN(result) && isFinite(result) && result > 0 ? result : '';\n  }\n\n  return (\n    <div>\n      <h2>Final Gravity</h2>\n      <div>\n        <label htmlFor=\"og\">Original Gravity</label><br />\n        <input\n          name=\"og\"\n          type=\"number\"\n          value={og}\n          onChange={(e) => setOg(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"attenuation\">Attenuation (%)</label><br />\n        <input\n          name=\"attenuation\"\n          type=\"number\"\n          value={attenuation}\n          onChange={(e) => setAttenuation(e.target.value)}\n        ></input>\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default FinalGravity;\n","import React, { useState } from 'react';\n\nconst AlcoholContent = (props: any) => {\n  // STATE\n  const [og, setOg] = useState('');\n  const [fg, setFg] = useState('');\n  const [formula, setFormula] = useState('ABV');\n\n  const { calculator } = props;\n  let alc = null;\n\n  const handleCheckboxChange = (e: any) => {\n    const value = formula === 'ABV' ? 'ABW' : 'ABV';\n    setFormula(value);\n  }\n\n  const ABVResults = () => {\n    const result = calculator(og, fg, formula);\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      alc = formula;\n      return result + '%';\n    } else {\n        return '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Alcohol Content</h2>\n      <div>\n        <label htmlFor=\"og\">Original Gravity</label><br />\n        <input\n          name=\"og\"\n          type=\"number\"\n          value={og}\n          onChange={(e) => setOg(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"fg\">Final Gravity</label><br />\n        <input\n          name=\"fg\"\n          type=\"number\"\n          value={fg}\n          onChange={(e) => setFg(e.target.value)}\n        ></input><br />\n        <input\n          type=\"checkbox\"\n          id=\"abvFormula\"\n          name=\"formula\"\n          value={formula}\n          onChange={handleCheckboxChange}\n          className=\"toggle\"\n        ></input>\n        <label htmlFor=\"abvFormula\">ABV<span className=\"toggle\"></span>ABW</label><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{ABVResults()} <label>{alc}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default AlcoholContent;\n","import React, { useState } from 'react';\n\nconst ApparentAttenuation = (props: any) => {\n  // STATE\n  const [og, setOg] = useState('');\n  const [fg, setFg] = useState('');\n\n  const { calculator } = props;\n  let atten = null;\n\n  const attenuationResults = () => {\n    const result = calculator(og, fg);\n    if (!isNaN(result) && isFinite(result) && result > 0 && result <= 100) {\n      atten = '%';\n      return result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Apparent Attenuation</h2>\n      <div>\n        <label htmlFor=\"og\">Original Gravity</label><br />\n        <input\n          name=\"og\"\n          type=\"number\"\n          value={og}\n          onChange={(e) => setOg(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"fg\">Final Gravity</label><br />\n        <input\n          name=\"fg\"\n          type=\"number\"\n          value={fg}\n          onChange={(e) => setFg(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{attenuationResults()}<label>{atten}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default ApparentAttenuation;\n","import React, { useState, useEffect } from 'react';\n\nimport styles from '../Calculators.module.scss';\nimport { g2oz, l2gal } from '../../../resources/javascript/calculator';\nimport Select from '../../../components/Select/Select';\n\ninterface hop {\n  aa: number | '';\n  weight: number | '';\n  length: number | '';\n  type: 'leaf' | 'pellet';\n};\n\nconst IBU = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [hops, setHops] = useState<hop[]>([{aa: '', weight: '', length: '', type: 'leaf'}]);\n  const [og, setOg] = useState('');\n  const [vol, setVol] = useState('');\n  const [formula, setFormula] = useState('tinseth');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const addHop = (index: number, option: 'aa' | 'weight' | 'length' | 'type') => (e: any) => {\n    const hopsArray = [...hops];\n    // @ts-ignore-line\n    hopsArray[index][option] = e.currentTarget.value;\n    setHops(hopsArray);\n  }\n\n  const handleCheckboxChange = (e: any) => {\n    const value = formula === 'tinseth' ? 'rager' : 'tinseth';\n    setFormula(value);\n  }\n\n  const results = () => {\n    const result = calculator(\n      hops.map(hop => {\n        return {\n          alphaAcid: Number(hop.aa),\n          weight: Number(hop.weight\n            ? units === 'metric' ? parseFloat(g2oz(hop.weight).toFixed(4)) : hop.weight\n            : undefined\n          ),\n          lengthInBoil: Number(hop.length),\n          form: hop.type\n        }\n      }),\n      Number(og),\n      Number(vol ? units === 'metric' ? parseFloat(l2gal(vol).toFixed(4)) : vol : undefined),\n      formula\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = 'IBU';\n      return result;\n    } else {\n        return '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>IBU</h2>\n      <div>\n        <label>Hop</label>\n        {hops && hops.map((hop, index: number) => (\n          <div className={styles.rowQuad} key={`hop${index}`}>\n            <div>\n              <div className={styles.interiorRow}>\n                <label htmlFor=\"aa\">Alpha Acid\n                <input\n                  name=\"aa\"\n                  type=\"number\"\n                  value={hops[index].aa}\n                  onChange={addHop(index, 'aa')}\n                  autoComplete=\"none\"\n                ></input></label>\n                <label htmlFor=\"weight\">Weight ({props.labels.smallWeight})\n                <input\n                  name=\"weight\"\n                  type=\"number\"\n                  value={hops[index].weight}\n                  onChange={addHop(index, 'weight')}\n                ></input></label>\n              </div>\n              <div className={styles.interiorRow2}>\n                <label htmlFor=\"length\">Time (min)\n                <input\n                  name=\"length\"\n                  type=\"number\"\n                  value={hops[index].length}\n                  onChange={addHop(index, 'length')}\n                ></input></label>\n                <label htmlFor=\"type\">Type\n                  <Select\n                    options={[\n                      {option: 'Pellet', value: 'pellet'},\n                      {option: 'Whole Leaf', value: 'leaf'}\n                    ]}\n                    value={hops[index].type}\n                    onChange={addHop(index, 'type')}\n                    className=\"capitalize darkInput\"\n                  />\n                </label>\n              </div>\n            </div>\n            {index+1 === hops.length\n              ? <button\n                  className=\"button button--icon\"\n                  onClick={(e) => setHops([...hops, {aa: '', weight: '', length: '', type: 'leaf'}])}\n                >+</button>\n              : <button\n                  className=\"button button--icon\"\n                  onClick={\n                    (e) => {\n                      const hopsArray = [...hops];\n                      hopsArray.splice(index, 1);\n                      setHops([...hopsArray]);\n                    }\n                  }\n                >-</button>}\n          </div>\n        ))}\n        <label htmlFor=\"og\">Original Gravity</label><br />\n        <input\n          name=\"og\"\n          type=\"number\"\n          value={og}\n          onChange={(e) => setOg(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"vol\">Final Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"vol\"\n          type=\"number\"\n          value={vol}\n          onChange={(e) => setVol(e.target.value)}\n        ></input><br />\n        <input\n          type=\"checkbox\"\n          id=\"ibuFormula\"\n          name=\"formula\"\n          value={formula}\n          onChange={handleCheckboxChange}\n          className=\"toggle\"\n        ></input>\n        <label htmlFor=\"ibuFormula\">Tinseth<span className=\"toggle\"></span>Rager</label><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default IBU;\n","import React, { useState, useEffect } from 'react';\n\nimport styles from '../Calculators.module.scss';\nimport { getSrmToRgb } from '../../../resources/javascript/srmToRgb';\nimport { kg2lb, l2gal } from '../../../resources/javascript/calculator';\n\ninterface malt {\n  lovibond: number | '';\n  weight: number | '';\n};\n\nconst SRM = (props:any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [malts, setMalts] = useState<malt[]>([{lovibond: '', weight: ''}]);\n  const [volume, setVolume] = useState('');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const addMalt = (index: number, type: 'lovibond' | 'weight') => (e: any) => {\n    const maltsArray = [...malts];\n    maltsArray[index][type] = e.target.value;\n    setMalts(maltsArray);\n  }\n\n  const results = () => {\n    const result = calculator(\n      malts ? units === 'metric' ? malts.map(malt => {\n        parseFloat(kg2lb(malt.weight).toFixed(4));\n        return malt;\n      }) : malts : malts,\n      volume ? units === 'metric' ? parseFloat(l2gal(volume).toFixed(4)) : volume : undefined\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = 'SRM';\n      const style = {\n        display: 'inline-block',\n        marginRight: '4px',\n        marginTop: '4px',\n        width: '12px',\n        height: '12px',\n        borderRadius: '50%',\n        border: '1px solid #ffdb4a',\n        backgroundColor: getSrmToRgb(result)\n      };\n      return <>\n        <span style={style} />\n        {result}\n      </>;\n    } else {\n        return '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Beer Color</h2>\n      <div>\n        <label>Malt</label>\n        {malts && malts.map((malt, index: number) => (\n          <div className={styles.row} key={`malt${index}`}>\n            <label htmlFor=\"lovibond\">Color (°L)\n              <input\n                name=\"lovibond\"\n                type=\"number\"\n                value={malts[index].lovibond}\n                onChange={addMalt(index, 'lovibond')}\n              ></input></label>\n            <label htmlFor=\"weight\">Weight ({props.labels.largeWeight})\n              <input\n                name=\"weight\"\n                type=\"number\"\n                value={malts[index].weight}\n                onChange={addMalt(index, 'weight')}\n              ></input></label>\n            {index+1 === malts.length\n              ? <button\n                  className=\"button button--icon\"\n                  onClick={(e) => setMalts([...malts, {lovibond: '', weight: ''}])}\n                >+</button>\n              : <button\n                  className=\"button button--icon\"\n                  onClick={\n                    (e) => {\n                      const maltsArray = [...malts];\n                      maltsArray.splice(index, 1);\n                      setMalts([...maltsArray]);\n                    }\n                  }\n                >-</button>}\n          </div>\n        ))}\n        <label htmlFor=\"volume\">Final Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"volume\"\n          type=\"number\"\n          value={volume}\n          onChange={(e) => setVolume(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default SRM;\n","import React, { useState, useEffect } from 'react';\nimport Select from '../../../components/Select/Select';\nimport { oz2g, l2gal, c2f } from '../../../resources/javascript/calculator';\n\nconst CO2 = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [temp, setTemp] = useState('');\n  const [beerVol, setBeerVol] = useState('');\n  const [co2Vol, setCo2Vol] = useState('');\n  const [method, setMethod] = useState('cornSugar');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      temp ? units === 'metric' ? parseFloat(c2f(temp).toFixed(4)) : temp : undefined,\n      co2Vol,\n      method,\n      beerVol ? units === 'metric' ? parseFloat(l2gal(beerVol).toFixed(4)) : beerVol : ''\n    );\n    if (!isNaN(result) && isFinite(result) && result > 0) {\n      label = method === 'forced' ? 'psi' : props.labels.smallWeight;\n      return method === 'forced' ? result : units === 'metric' ? parseFloat(oz2g(result).toFixed(2)) : result;\n    } else {\n      return '';\n    }\n  }\n\n  return (\n    <div>\n      <h2>Carbonation</h2>\n      <div>\n        <label htmlFor=\"method\">Carbonation Method</label><br />\n        <Select\n          options={[\n            {option: 'Corn Sugar', value: 'cornSugar'},\n            {option: 'Cane Sugar', value: 'caneSugar'},\n            {option: 'DME', value: 'dme'},\n            {option: 'Forced', value: 'forced'},\n          ]}\n          value={method}\n          onChange={(e) => setMethod(e.currentTarget.value as string)}\n          className=\"capitalize darkInput\"\n        />\n        <label htmlFor=\"beerVol\">Beer Volume</label><br />\n        <input\n          name=\"beerVol\"\n          type=\"number\"\n          value={beerVol}\n          onChange={(e) => setBeerVol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"co2Vol\">CO2 Target Volume</label><br />\n        <input\n          name=\"co2Vol\"\n          type=\"number\"\n          value={co2Vol}\n          onChange={(e) => setCo2Vol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"temp\">Temperature (°{props.labels.temp})</label><br />\n        <input\n          name=\"temp\"\n          type=\"number\"\n          value={temp}\n          onChange={(e) => setTemp(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default CO2;\n","import React, { useState, useEffect } from 'react';\nimport { c2f, l2qt, qt2l, kg2lb } from '../../../resources/javascript/calculator';\n\nconst MashInfusion = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [targetTemp, setTargetTemp] = useState('');\n  const [initailTemp, setInitailTemp] = useState('');\n  const [grainVol, setGrainVol] = useState('');\n  const [totalMashVol, setTotalMashVol] = useState('');\n  const [infusionWaterTemp, setInfusionWaterTemp] = useState('');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const results = () => {\n    const result = calculator(\n      targetTemp ? units === 'metric' ? parseFloat(c2f(targetTemp).toFixed(4)) : targetTemp : undefined,\n      initailTemp ? units === 'metric' ? parseFloat(c2f(initailTemp).toFixed(4)) : initailTemp : undefined,\n      grainVol ? units === 'metric' ? parseFloat(kg2lb(grainVol).toFixed(4)) : grainVol : undefined,\n      totalMashVol ? units === 'metric' ? parseFloat(l2qt(totalMashVol).toFixed(4)) : totalMashVol : undefined,\n      infusionWaterTemp ? units === 'metric' ? parseFloat(c2f(infusionWaterTemp).toFixed(4)) : infusionWaterTemp : undefined,\n    );\n    if (!isNaN(result) && isFinite(result)) {\n      label = props.labels.smallVol;\n      return units === 'metric' ? parseFloat(qt2l(result).toFixed(2)) : result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Mash Infusion Water Volume ({props.labels.smallVol})</h2>\n      <div>\n        <label htmlFor=\"targetTemp\">Target Mash Temperature (°{props.labels.temp})</label><br />\n        <input\n          name=\"targetTemp\"\n          type=\"number\"\n          value={targetTemp}\n          onChange={(e) => setTargetTemp(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"initailTemp\">Current Mash Temperature (°{props.labels.temp})</label><br />\n        <input\n          name=\"initailTemp\"\n          type=\"number\"\n          value={initailTemp}\n          onChange={(e) => setInitailTemp(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"grainVol\">Malt Weight ({props.labels.largeWeight})</label><br />\n        <input\n          name=\"grainVol\"\n          type=\"number\"\n          value={grainVol}\n          onChange={(e) => setGrainVol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"totalMashVol\">Current Mash Water Volume ({props.labels.smallVol})</label><br />\n        <input\n          name=\"totalMashVol\"\n          type=\"number\"\n          value={totalMashVol}\n          onChange={(e) => setTotalMashVol(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"infusionWaterTemp\">Infusion Water Temperature (°{props.labels.temp})</label><br />\n        <input\n          name=\"infusionWaterTemp\"\n          type=\"number\"\n          value={infusionWaterTemp}\n          onChange={(e) => setInfusionWaterTemp(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()} <label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default MashInfusion;\n","import React, { useState, useEffect } from 'react';\n\nimport styles from '../Calculators.module.scss';\nimport { l2gal, kg2lb } from '../../../resources/javascript/calculator';\n\ninterface malt {\n  potential: number | '';\n  weight: number | '';\n};\n\nconst MashEfficiency = (props: any) => {\n  // STATE\n  const [units, setUnits] = useState(props.units);\n  const [malts, setMalts] = useState<malt[]>([{potential: '', weight: ''}]);\n  const [volume, setVolume] = useState('');\n  const [gravity, setGravity] = useState('');\n\n  const { calculator } = props;\n  let label = null;\n\n  useEffect(() => {\n    setUnits(props.units);\n  }, [props]);\n\n  const addMalt = (index: number, type: 'potential' | 'weight') => (e: any) => {\n    const maltsArray = [...malts];\n    maltsArray[index][type] = e.target.value;\n    setMalts(maltsArray);\n  }\n\n  const results = () => {\n    const result = calculator(\n      malts ? units === 'metric' ? malts.map(malt => {\n        parseFloat(kg2lb(malt.weight).toFixed(4));\n        return malt;\n      }) : malts : malts,\n      volume ? units === 'metric' ? parseFloat(l2gal(volume).toFixed(4)) : volume : undefined,\n      gravity\n    );\n    if (volume && gravity && !isNaN(result) && isFinite(result)) {\n      label = '%';\n      return result;\n    }\n  }\n\n  return (\n    <div>\n      <h2>Mash Efficiency</h2>\n      <div>\n        <label>Malt</label>\n        {malts && malts.map((malt, index: number) => (\n          <div className={styles.row} key={`malt${index}`}>\n            <label htmlFor=\"potential\">Potential (ex. 34)\n              <input\n                name=\"potential\"\n                type=\"number\"\n                value={malts[index].potential}\n                onChange={addMalt(index, 'potential')}\n              ></input></label>\n            <label htmlFor=\"weight\">Weight ({props.labels.largeWeight})\n              <input\n                name=\"weight\"\n                type=\"number\"\n                value={malts[index].weight}\n                onChange={addMalt(index, 'weight')}\n              ></input></label>\n            {index+1 === malts.length\n              ? <button\n                  className=\"button button--icon\"\n                  onClick={(e) => setMalts([...malts, {potential: '', weight: ''}])}\n                >+</button>\n              : <button\n                  className=\"button button--icon\"\n                  onClick={\n                    (e) => {\n                      const maltsArray = [...malts];\n                      maltsArray.splice(index, 1);\n                      setMalts([...maltsArray]);\n                    }\n                  }\n                >-</button>}\n          </div>\n        ))}\n        <label htmlFor=\"volume\">Collected Wort Volume ({props.labels.vol})</label><br />\n        <input\n          name=\"volume\"\n          type=\"number\"\n          value={volume}\n          onChange={(e) => setVolume(e.target.value)}\n        ></input><br />\n        <label htmlFor=\"gravity\">Collected Wort Gravity (ex. 1.056)</label><br />\n        <input\n          name=\"gravity\"\n          type=\"number\"\n          value={gravity}\n          onChange={(e) => setGravity(e.target.value)}\n        ></input><br />\n      </div>\n      <div>\n        <h3>Result:</h3>\n        <p className=\"result\">{results()}<label>{label}</label></p>\n      </div>\n    </div>\n  );\n}\n\nexport default MashEfficiency;\n","import React, { useState, useEffect } from 'react';\n\nimport styles from './Calculators.module.scss';\nimport Card from '../../components/Card/Card';\nimport { scrollToTop } from '../../resources/javascript/scrollToTop';\nimport * as Calculator from '../../resources/javascript/calculator';\nimport TotalWater from './Calculators/total-water';\nimport StrikeVolume from './Calculators/strike-volume';\nimport StrikeTemperature from './Calculators/strike-temperature';\nimport SpargeVolume from './Calculators/sparge-volume';\nimport EvaporationPercent from './Calculators/evap-percent';\nimport PreBoilVolume from './Calculators/pre-boil-volume';\nimport OriginalGravity from './Calculators/og';\nimport PreBoilGravity from './Calculators/pre-boil-gravity';\nimport YeastTargetPitchingRate from './Calculators/yeast-target';\nimport YeastPitchingRate from './Calculators/yeast-rate';\nimport FinalGravity from './Calculators/fg';\nimport AlcoholContent from './Calculators/alcohol-content';\nimport ApparentAttenuation from './Calculators/apparent-attenuation';\nimport IBU from './Calculators/ibu';\nimport SRM from './Calculators/srm';\nimport CO2 from './Calculators/co2';\nimport MashInfusion from './Calculators/mash-infusion';\nimport { useUser } from '../../store/UserContext';\nimport MashEfficiency from './Calculators/mash-efficiency';\n\nconst Calculators = (props: any) => {\n  // CONTEXT\n  // eslint-disable-next-line\n  const [user, userDispatch] = useUser();\n\n  // STATE\n  const [search, setSearch] = useState('');\n  const [units, setUnits] = useState(user.units);\n\n  const unitLabels = {\n    vol: units === 'metric' ? 'L' : 'gal',\n    smallVol: units === 'metric' ? 'L' : 'qts',\n    largeWeight: units === 'metric' ? 'kg' : 'lb',\n    smallWeight: units === 'metric' ? 'g' : 'oz',\n    temp: units === 'metric' ? 'C' : 'F',\n  }\n\n  useEffect(() => {\n    document.title = \"BeerForge | Calculators\";\n    scrollToTop(0);\n  }, []);\n\n  const calculatorArray = [\n    {\n      calculator: <TotalWater calculator={Calculator.totalWater} units={units} labels={unitLabels} />,\n      terms: ['water', 'total']\n    },\n    {\n      calculator: <StrikeVolume calculator={Calculator.strikeVolume} units={units} labels={unitLabels} />,\n      terms: ['water', 'strike', 'mash']\n    },\n    {\n      calculator: <StrikeTemperature calculator={Calculator.strikeTemp} units={units} labels={unitLabels} />,\n      terms: ['water', 'strike', 'mash']\n    },\n    {\n      calculator: <MashInfusion calculator={Calculator.infusionWaterVol} units={units} labels={unitLabels} />,\n      terms: ['water', 'mash', 'infusion']\n    },\n    {\n      calculator: <SpargeVolume calculator={Calculator.spargeVolume} units={units} labels={unitLabels} />,\n      terms: ['water', 'sparge']\n    },\n    {\n      calculator: <MashEfficiency calculator={Calculator.mashEfficiency} units={units} labels={unitLabels} />,\n      terms: ['mash']\n    },\n    {\n      calculator: <EvaporationPercent calculator={Calculator.evaporationPercent} units={units} labels={unitLabels} />,\n      terms: ['water', 'boil']\n    },\n    {\n      calculator: <PreBoilVolume calculator={Calculator.preBoilVol} units={units} labels={unitLabels} />,\n      terms: ['water', 'boil']\n    },\n    {\n      calculator: <PreBoilGravity calculator={Calculator.preBoilG} units={units} labels={unitLabels} />,\n      terms: ['gravity', 'pre boil', 'pre-boil']\n    },\n    {\n      calculator: <OriginalGravity calculator={Calculator.OG} units={units} labels={unitLabels} />,\n      terms: ['gravity', 'original', 'og']\n    },\n    {\n      calculator: <YeastTargetPitchingRate calculator={Calculator.targetPitchingRate} units={units} labels={unitLabels} />,\n      terms: ['yeast', 'pitching rate']\n    },\n    {\n      calculator: <YeastPitchingRate calculator={Calculator.pitchingRate} units={units} labels={unitLabels} />,\n      terms: ['yeast', 'pitching rate']\n    },\n    {\n      calculator: <FinalGravity calculator={Calculator.FG} units={units} labels={unitLabels} />,\n      terms: ['gravity', 'final', 'fg']\n    },\n    {\n      calculator: <IBU calculator={Calculator.IBU} units={units} labels={unitLabels} />,\n      terms: ['ibu', 'ibus', 'hops']\n    },\n    {\n      calculator: <SRM calculator={Calculator.SRM} units={units} labels={unitLabels} />,\n      terms: ['srm', 'color', 'malt']\n    },\n    {\n      calculator: <AlcoholContent calculator={Calculator.alcoholContent} units={units} labels={unitLabels} />,\n      terms: ['alcohol', 'abv']\n    },\n    {\n      calculator: <ApparentAttenuation calculator={Calculator.attenuation} units={units} labels={unitLabels} />,\n      terms: ['attenuation', 'yeast']\n    },\n    {\n      calculator: <CO2 calculator={Calculator.CO2} units={units} labels={unitLabels} />,\n      terms: ['co2', 'packaging', 'carbonation']\n    },\n  ];\n\n  const filtered = calculatorArray.filter((item, i) => {\n    let result;\n    if (search !== '' && item.terms.find(term => term.includes(search))) {\n      result = item;\n    } else if (search === '') {\n      result = item;\n    }\n    return result;\n  });\n\n  return (\n    <section className={styles.calculators}>\n      <div className={styles.topRow}>\n        <h1 className={styles.calculators__header}>Calculators</h1>\n        <div className={styles.controls}>\n        <input\n          type=\"checkbox\"\n          id=\"units\"\n          name=\"units\"\n          value={units === 'metric' ? 'us' : 'metric'}\n          checked={units === 'metric'}\n          onChange={(e) => setUnits(e.target.value)}\n          className=\"toggle\"\n        ></input>\n        <label htmlFor=\"units\">US<span className=\"toggle\"></span>Metric</label>\n        <input\n          type=\"text\"\n          name=\"search\"\n          className={styles.search}\n          placeholder=\"Search\"\n          onChange={(e: any) => {setSearch(e.target.value.toLowerCase())}}\n        />\n        </div>\n      </div>\n      <div className={styles.calculators__container}>\n        {filtered.length > 0 \n          ? filtered.map((item, i) => {\n              if (search !== '' && item.terms.find(term => term.includes(search))) {\n                return <Card customClass={styles.card} key={i}>\n                    {item.calculator}\n                  </Card>;\n              } else if (search === '') {\n                return <Card customClass={styles.card} key={i}>\n                    {item.calculator}\n                  </Card>;\n              } else {\n                return null;\n              }\n            })\n          : <p className={styles.noResults}>No results round.</p>}\n      </div>\n    </section>\n  );\n}\n\nexport default Calculators;","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport styles from './NoMatch.module.scss';\n\nconst NoMatch = () => {\n  useEffect(() => {\n    document.title = \"BeerForge | 404 - Not Found\";\n  }, []);\n\n  return (\n    <section className={styles.noMatch}>\n      <h1 className={`h2 ${styles.header}`}>404</h1>\n      <h2 className=\"h1\">At least we don't have to dump any beer because of this.</h2>\n      <p>Not sure what happened here, but you can always head back to the dashboard, or of course, brew beer.</p>\n      <p>\n        <Link\n          to=\"/dashboard\"\n          className=\"button button--large button--red\"\n        >Dashboard</Link>\n        <Link\n          to=\"/brew\"\n          className=\"button button--large button--yellow\"\n        >New Brew</Link></p>\n    </section>\n  );\n}\n\nexport default NoMatch;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nimport { useUser } from '../store/UserContext';\n\ninterface Props {\n  component: Function,\n  path: string;\n}\n\nconst PrivateRoute = ({\n  component: Component,\n  path,\n  ...rest\n}: Props) => {\n  // eslint-disable-next-line\n  const [user, userDispatch] = useUser();\n  \n  return (\n    <Route\n      exact\n      render={props => {\n        // if user is not authenticated, save the url for forwarding\n        if (user) {\n          localStorage.setItem(\n            \"entryUrl\",\n            window.location.pathname + window.location.search\n          );\n        }\n\n        return user ? (\n          <React.Fragment>\n            <Component {...props} currentUser={user} {...rest} />\n          </React.Fragment>\n        ) : <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: props.location }\n            }}\n          />\n      }}\n    />\n  );\n};\n\nexport default PrivateRoute;","export default __webpack_public_path__ + \"static/media/beerforge_logo_white.f39bc9b5.svg\";","export default __webpack_public_path__ + \"static/media/dashboard.8fbb2474.png\";","export default __webpack_public_path__ + \"static/media/rotate.f6d840d5.svg\";","export default __webpack_public_path__ + \"static/media/new_brew.6d34d17e.png\";","export default __webpack_public_path__ + \"static/media/mobile_brew.93ff2a19.png\";","import Sketch from 'sketch-js';\n\nconst sketch = Sketch.create({\n  autopause: false,\n  fullscreen: false,\n  width: document.body.clientWidth,\n  height: 2000,\n});\nconst particles = [];\nconst particleCount = 100;\nsketch.strokeStyle = 'rgba(233, 102, 44, 0)';\nsketch.globalCompositeOperation = 'lighter';\n\n// Particle Constructor\nexport const Particle = function() {\n  // eslint-disable-next-line no-undef\n  this.x = random( window.innerWidth );\n  // eslint-disable-next-line no-undef\n  this.y = random( window.innerHeight, window.innerHeight * 2 );\n  this.vx = 0;\n  // eslint-disable-next-line no-undef\n  this.vy = -random( 1, 10 ) / 5;\n  // eslint-disable-next-line no-undef\n  this.radius = (this.baseRadius = random(1, 2.5));\n  this.maxRadius = 2.5;\n  this.threshold = 350;\n  // eslint-disable-next-line no-undef\n  return this.hue = random( 180, 240 );\n};\n\n// Particle Prototype\nParticle.prototype = {\n  update() {\n    // Adjust Velocity\n    // eslint-disable-next-line no-undef\n    this.vx += ( random( -5, 5 ) ) / 1000;\n    // eslint-disable-next-line no-undef\n    this.vy -= random( 1, 20 ) / 10000;\n\n    // Apply Velocity\n    this.x += this.vx;\n    this.y += this.vy;\n\n    // Check Bounds\n    if ((this.x < - this.maxRadius) || (this.x > (window.innerWidth + this.maxRadius)) || (this.y < - this.maxRadius)) {\n      // eslint-disable-next-line no-undef\n      this.x = random( window.innerWidth );\n      // eslint-disable-next-line no-undef\n      this.y = random( sketch.height + this.maxRadius, sketch.height * 2 );\n      this.vx = 0;\n      // eslint-disable-next-line no-undef\n      return this.vy = -random( 1, 10 ) / 5;\n    }\n  },\n  render() {\n    sketch.beginPath();\n    sketch.arc( this.x, this.y, this.radius, 0, 2 * Math.PI );\n    sketch.closePath();\n    sketch.fillStyle = 'rgba(233, 102, 44, 0.7)';\n    return sketch.fill();\n    //  sketch.stroke();\n  }\n};\n\n// Create Particles\nlet z = particleCount;\nwhile (z--) {\n  particles.push( new Particle() );\n}\n\n// Sketch Clear\nsketch.clear = () => sketch.clearRect( 0, 0, window.innerWidth, sketch.height );\n\n// Sketch Update\nsketch.update = function() {\n  let i = particles.length;\n  return (() => {\n    const result = [];\n    while (i--) {\n      result.push(particles[ i ].update());\n    }\n    return result;\n  })();\n};\n\n// Sketch Draw\nsketch.draw = function() {\n  let i = particles.length;\n  return (() => {\n    const result = [];\n    while (i--) {\n      result.push(particles[ i ].render());\n    }\n    return result;\n  })();\n};\n\nexport default sketch;","import React, { useRef, useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactGA from 'react-ga';\n\nimport styles from './Home.module.scss';\nimport calcStyles from '../Calculators/Calculators.module.scss';\nimport logoImage from \"../../resources/images/beerforge_logo.svg\";\nimport whiteLogoImage from \"../../resources/images/beerforge_logo_white.svg\";\nimport dashboardImage from \"../../resources/images/dashboard.png\";\nimport rotate from \"../../resources/images/rotate.svg\";\nimport newBrewImage from \"../../resources/images/new_brew.png\";\nimport mobileBrewImage from \"../../resources/images/mobile_brew.png\";\nimport Card from '../../components/Card/Card';\nimport YeastTargetPitchingRate from '../Calculators/Calculators/yeast-target';\nimport AlcoholContent from '../Calculators/Calculators/alcohol-content';\nimport SRM from '../Calculators/Calculators/srm';\nimport CO2 from '../Calculators/Calculators/co2';\nimport sketch from '../../resources/javascript/bubbles';\nimport * as Calculator from '../../resources/javascript/calculator';\nimport { useUser } from '../../store/UserContext';\n\nconst Home = () => {\n  // STATE\n  const [calculator, setCalculator] = useState(0);\n  const [transition, setTransition] = useState('');\n  // eslint-disable-next-line\n  const [units, setUnits] = useState('us');\n  // eslint-disable-next-line\n  const [user, userDispatch] = useUser();\n\n  // REFS\n  const featuresRef = useRef<HTMLDivElement>(null);\n\n  const unitLabels = {\n    vol: units === 'metric' ? 'L' : 'gal',\n    smallVol: units === 'metric' ? 'L' : 'qts',\n    largeWeight: units === 'metric' ? 'kg' : 'lb',\n    smallWeight: units === 'metric' ? 'g' : 'oz',\n    temp: units === 'metric' ? 'C' : 'F',\n  }\n\n  const calculatorArray = [\n    {calculator: <AlcoholContent calculator={Calculator.alcoholContent} units={units} labels={unitLabels} />},\n    {calculator: <YeastTargetPitchingRate calculator={Calculator.targetPitchingRate} units={units} labels={unitLabels} />},\n    {calculator: <SRM calculator={Calculator.SRM} units={units} labels={unitLabels} />},\n    {calculator: <CO2 calculator={Calculator.CO2} units={units} labels={unitLabels} />},\n  ];\n\n  // mount\n  useEffect(() => {\n    document.title = 'BeerForge';\n    sketch.draw();\n    sketch.start();\n    updateDimensions();\n    window.addEventListener(\"resize\", updateDimensions);\n\n    // unmount\n    return function cleanup() {\n      sketch.stop();\n      sketch.clear();\n      const canvas = document.querySelector(\"canvas\");\n      // hide canvas\n      // @ts-ignore\n      canvas.setAttribute('style', \"display: none;\");\n      window.removeEventListener(\"resize\", updateDimensions);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const updateDimensions = () => {\n    const canvas = document.querySelector(\"canvas\");\n\n    // show canvas\n    // @ts-ignore\n    canvas.setAttribute('style', \"display: block;\");\n    \n    var gl = canvas ? canvas.getContext(\"webgl\") : null;\n    \n    if (gl) {\n      gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n    }\n\n    // Lookup the size the browser is displaying the canvas.\n    // @ts-ignore\n    var displayWidth  = canvas.clientWidth;\n  \n    // Check if the canvas is not the same size.\n    // @ts-ignore\n    if (canvas.width !== displayWidth) {\n  \n      // Make the canvas the same size\n      // @ts-ignore\n      canvas.width = displayWidth;\n      // @ts-ignore\n      // canvas[0].height = displayHeight;\n    }\n  }\n\n  const handleFeaturesClick = () => {\n    const node = featuresRef.current;\n    const coords = node ? node.getBoundingClientRect() : {top: 0};\n    const y = Math.round(coords.top);\n    window.scroll({\n      top: y, \n      left: 0, \n      behavior: 'smooth'\n    });\n  }\n\n  const handleRotateClick = () => {\n    const oldNum = calculator;\n    const num = Math.floor(Math.random() * 4);\n\n    if (num === oldNum) {\n      handleRotateClick();\n    } else {\n      setTransition('out');\n      setTimeout(() => {\n        setCalculator(num);\n        setTransition('in');\n      }, 200);\n    }\n  }\n\n  return (\n    <section className={styles.home}>\n      <header className={styles.header}>\n        <div>\n          <img src={logoImage} alt=\"BeerForge - Modern homebrewing\" />\n          {!user\n            ? <Link\n                to=\"/login\"\n                className={styles.link}\n                onClick={() => {\n                  ReactGA.event({\n                    category: \"Signup\",\n                    action: \"User pressed the Signup button on the home page\",\n                  });\n                }}\n                >\n                Log In\n              </Link>\n            : <Link to=\"/dashboard\" className={styles.link}>\n                Dashboard\n              </Link>}\n        </div>\n        <div className={styles.introText}>\n          <div>\n            <h1>A cloud-based toolkit and brew log for the modern homebrewer.</h1>\n            <p>Built to track recipe formulation and brewday metrics without getting in between you and the brew.</p>\n          </div>\n          <button\n            className={`button button--link ${styles.link} ${styles.featuresLink}`}\n            onClick={handleFeaturesClick}\n          >See&nbsp;Features</button>\n        </div>\n      </header>\n      <div className={styles.topAngle}></div>\n\n      <div className={styles.phone}>\n        <img src={mobileBrewImage} alt=\"View Brew Screen\" />\n      </div>\n      <div className={styles.browser}>\n        <img src={dashboardImage} alt=\"BeerForge dashboard\" />\n      </div>\n\n      <section className={styles.features} ref={featuresRef}>\n        <div className={styles.featuresText}>\n          <h2>Features</h2>\n          <p><strong>BeerForge</strong> was built out of the desire to have a clean, simple, and easy to scan natural language interface for recipe formulation, brew day calculations and to keep track of past beer glory in the form of a robust brew log. Our feature set includes:</p>\n          <ul>\n            <li>Recipe and brew day formulation</li>\n            <li>Automatic calculations for brew day</li>\n            <li>Re-brew batches and keep track of changes with brew version control</li>\n            <li>Brewday results mode to track what was planned vs. what actually happened</li>\n            <li>Extract, partial mash, BIAB and all grain support</li>\n            <li>Multiple mash step support</li>\n            <li>Standalone calculators</li>\n            <li>Searchable brew logs</li>\n            <li>Huge ingredient library</li>\n            <li>Custom ingredient inputs</li>\n            <li>Draft brew entries</li>\n            <li>Import/Export brews via beerXML</li>\n            <li>Customizable equipment variables</li>\n            <li>Mobile optimized</li>\n          </ul>\n          <div className={styles.cta}>\n            <p><Link to=\"/login\" className=\"button button--large button--yellow\">Sign Up</Link></p>\n          </div>\n        </div>\n        <div className={styles.calculators}>\n          <button\n            className={`button button--no-button ${styles.rotateBtn}`}\n            onClick={handleRotateClick}\n          >\n            Try out a Calculator <img src={rotate} alt=\"rotate\" />\n          </button>\n          <Card\n            customClass={`\n              ${calcStyles.card}\n              ${styles.cardOverride}\n              ${transition === 'out' ? styles.out : null}\n              ${transition === 'in' ? styles.in : null}\n            `}\n          >\n            {calculatorArray[calculator].calculator}\n          </Card>\n\n          <div className={styles.cta}>\n            <p>BeerForge is free, no freemium here.</p>\n            <p><Link to=\"/login\" className=\"button button--large button--yellow\">Sign Up</Link></p>\n          </div>\n        </div>\n        <div className={styles.featuresAngle}></div>\n      </section>\n\n      <section className={styles.finalCta}>\n        <div className={styles.cta}>\n          <img className={styles.bottomLogo} src={whiteLogoImage} alt=\"BeerForge - Modern homebrewing\" />\n          <p>Tools for today’s homebrewer.<br />Full-featured. Free.</p>\n          <p><Link to=\"/login\" className=\"button button--large\">Sign Up</Link></p>\n          <img className={styles.screenshot} src={newBrewImage} alt=\"BeerForge new brew screen\" />\n        </div>\n        <div className={styles.bottomAngle}></div>\n      </section>\n    </section>\n  );\n}\n\nexport default Home;","import React, { useEffect, useRef } from \"react\";\n\nimport styles from './Snackbar.module.scss';\nimport { useSnackbar } from '../../store/SnackbarContext';\n\n\nfunction Snackbar() {\n  const [snackbar, snackbarDispatch] = useSnackbar();\n  const { message, status, closing } = snackbar;\n  const timeout: any = useRef();\n\n  useEffect(() => {\n    if (snackbar.show === true && snackbar.closing === false) {\n      clearTimeout(timeout.current);\n      timeout.current = window.setTimeout(() => {\n        snackbarDispatch({type: 'hide'});\n      }, 2550);\n    }\n    if (snackbar.closing === true) {\n      window.setTimeout(() => {\n        snackbarDispatch({type: 'close'});\n      }, 550);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [snackbar]);\n\n  return snackbar.show ? (\n    <div className={`${styles.snackbar} ${styles[status]} ${closing ? styles.close : null}`}>\n      {message}\n    </div>\n  ) : null;\n}\n\nexport default Snackbar;","import React, { useState } from 'react';\nimport axios from 'axios';\n\nimport styles from './Feedback.module.scss';\nimport { useModal } from '../../store/ModalContext';\nimport { useUser } from '../../store/UserContext';\nimport { useSnackbar } from '../../store/SnackbarContext';\n\nfunction FeedbackModal() {\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n  // eslint-disable-next-line\n  const [snackbar, snackbarDispatch] = useSnackbar();\n  const [user] = useUser();\n  \n  const [sender, setSender] = useState<string>(user.email);\n  const [message, setMessage] = useState<string>(\"\");\n  const [messageError, setMessageError] = useState<boolean>(false);\n\n  const handleSubmit = async (e: any) => {\n    e.preventDefault();\n    const authHeaders = {\n      'authorization': user ? user.token : null,\n    };\n\n    try {\n      if (!message) {\n        setMessageError(true);\n        throw new Error('A message is required');\n      }\n\n      const result = await axios.post(`${process.env.REACT_APP_API_ENDPOINT}/feedback`, {sender: sender, message: message}, {\n        headers: authHeaders,\n      });\n\n      if (result.status === 200) {\n        modalDispatch({type: 'hide'});\n        snackbarDispatch({type: 'show', payload: {\n          status: 'success',\n          message: 'Feedback Sent',\n        }});\n      }\n    } catch (error) {\n      snackbarDispatch({type: 'show', payload: {\n        status: 'error',\n        message: error.message,\n      }});\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>From (optional)\n        <input\n          type=\"email\"\n          defaultValue={sender}\n          onChange={(event: any) => setSender(event.currentTarget.value)}\n        />\n      </label>\n      <label className={messageError ? styles.error : ''}>Message\n        <textarea\n          value={message}\n          onChange={(event: any) => {\n            setMessageError(false);\n            setMessage(event.currentTarget.value);\n          }}\n        />\n      </label>\n      <div className={styles.buttonContainer}>\n        <button\n          type=\"button\"\n          className=\"button button--brown\"\n          onClick={() => modalDispatch({type: 'hide'})}\n        >Cancel</button>\n        <button\n          type=\"submit\"\n          className=\"button\"\n        >Submit</button>\n      </div>\n    </form>\n  );\n};\n\nfunction Feedback() {\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n\n  const showFeedbackForm = () => {\n    modalDispatch({\n      type: 'show',\n      payload: {\n        title: `All Feedback is Welcome`,\n        node: <FeedbackModal />,\n        classOverride: styles.modalClass,\n      }\n    });\n  };\n\n  return(\n    <div\n      className={styles.feedback}\n      onClick={showFeedbackForm}\n    >Feedback</div>\n  );\n};\n\nexport default Feedback;","import React from 'react';\nimport { ResponsiveRadar } from '@nivo/radar'\n\nimport { HopFlavors } from '../Forms/AddHopForm';\nimport { INGREDIENTS_GRAPH_COLORS } from '../../resources/javascript/constants';\n\ninterface IngredientValues {\n  id: number;\n  category: \"finishing\" | \"bittering\" | \"dualPurpose\";\n  attributes: HopFlavors;\n}\n\nexport type DataForGraph = {\n  type: 'hop' | 'fermentable' | 'yeast';\n  values: IngredientValues[];\n}\n\ninterface FlavorGraphProps {\n  graphData: DataForGraph;\n}\n\ninterface GraphEntry {\n  attribute: string;\n  [key: number]: number;\n}\n\nconst FlavorGraph: React.FC<FlavorGraphProps> = ({graphData}) => {\n  let keys: string[] = [];\n  const values: GraphEntry[] = graphData.values.reduce<GraphEntry[]>((accumulator: GraphEntry[], currentValue: IngredientValues) => {\n    Object.entries(currentValue.attributes).forEach(([key, value]: [string, number]) => {\n      const words = key.split('_');\n      for (let i = 0; i < words.length; i++) {\n        words[i] = words[i][0].toUpperCase() + words[i].substr(1);\n      }\n      const attribute = words.join(\"/\");\n      const accumulatorIndex = accumulator.findIndex((item: GraphEntry) => item.attribute === attribute);\n      if (accumulatorIndex !== -1) {\n        accumulator[accumulatorIndex] = {...accumulator[accumulatorIndex], [currentValue.id]: value};\n      } else {\n        accumulator.push({attribute: attribute, [currentValue.id]: value+1});\n      }\n    });\n    keys.push(currentValue.id.toString());\n    return accumulator;\n  }, []);\n\n  const getInsightBarColorCode = (barData: any) => {\n    const category = graphData.values.find(value => value.id)?.category ;\n    return category ? INGREDIENTS_GRAPH_COLORS[category] : \"black\";\n  }\n\n  return <>\n    <span>0</span>\n    <span>1</span>\n    <span>2</span>\n    <span>3</span>\n    <span>4</span>\n    <span>5</span>\n    <ResponsiveRadar\n      data={values}\n      keys={keys}\n      indexBy=\"attribute\"\n      maxValue={6}\n      margin={{ top: 20, right: 20, bottom: 20, left: 20 }}\n      curve=\"linearClosed\"\n      borderWidth={2}\n      gridLevels={6}\n      gridShape=\"circular\"\n      gridLabelOffset={12}\n      enableDots={false}\n      enableDotLabel={false}\n      colors={(barData) => getInsightBarColorCode(barData)}\n      fillOpacity={0.4}\n      animate={true}\n      isInteractive={false}\n      theme={\n        {\n          textColor: 'rgb(255, 255, 255)',\n          fontFamily: '\"Montserrat\", sans-serif',\n          grid: {\n            line: {\n              stroke: 'rgba(233, 102, 34, 0.25)',\n            },\n          }\n        }\n      }\n    />\n  </>;\n};\n\nexport default FlavorGraph;","import React, { useEffect, useState } from 'react';\nimport { usePopup } from '../../store/PopupContext';\nimport FlavorGraph from './IngredientGraph';\n\nimport styles from \"./IngredientPopup.module.scss\"\n\nfunction IngredientPopup() {\n  const {state: popup, dispatch: popupDispatch} = usePopup();\n  const [hovering, setHovering] = useState<boolean>(false);\n  const popupRef = React.createRef<HTMLDivElement>();\n\n  useEffect(() => {\n    if (popup.closing && hovering) {\n      popupDispatch({type: 'cancelHide'});\n    } else if (popup.closing && !hovering) {\n      popupDispatch({type: 'close'});\n    }\n  }, [popup, popupDispatch, hovering]);\n\n  return popup && popup.show && popup.coords ? (\n    <div\n      ref={popupRef}\n      onMouseOver={() => setHovering(true)}\n      onMouseOut={() => setHovering(false)}\n      className={styles.ingredientPopup}\n      style={{top: `${popup.coords.top}px`, left: `${popup.coords.left - 592}px`}}\n    >\n      <div className={styles.details}>\n        <h1 className={`${styles.ingredientName} ${popup.ingredient?.category}`}>{popup.ingredient?.name}</h1>\n        <h2 className={styles.ingredientDetails}>\n          {popup.ingredient?.details?.map((detail: string) => (<span key={detail}>{detail}</span>))}\n        </h2>\n        <p className={styles.description}>{popup.ingredient?.description}</p>\n      </div>\n      <div className={styles.graph}>\n        {popup.ingredient && <FlavorGraph graphData={popup.ingredient?.graph} />}\n      </div>\n    </div>\n  ) : null;\n};\n\nexport default IngredientPopup;","import React from 'react';\nimport { Switch, Route, withRouter, RouteComponentProps } from 'react-router-dom';\nimport ReactGA from 'react-ga';\n\nimport Header from './components/Header/Header';\nimport Footer from './components/Footer/Footer';\nimport Fade from './components/Fade/Fade';\nimport Dashboard from './views/Dashborad/Dashboard';\nimport LoginSignup from './views/LoginSignup/LoginSignup';\nimport Brew from './views/Brew/Brew';\nimport Modal from './components/Modal/Modal';\nimport Profile from './views/Profile/Profile';\nimport Brews from './views/Brews/Brews';\nimport Calculators from './views/Calculators/Calculators';\nimport NoMatch from './views/404/NoMatch';\nimport PrivateRoute from './views/PrivateRoute';\nimport Home from './views/Home/Home';\nimport Snackbar from './components/Snackbar/Snackbar';\nimport Feedback from './components/Feedback/Feedback';\nimport IngredientPopup from './components/IngredientPopup/IngredientPopup';\nimport { usePopup } from './store/PopupContext';\nimport { useModal } from './store/ModalContext';\n\ninterface Props extends RouteComponentProps {\n  history: any;\n}\n\nconst App = (props: Props) => {\n  const trackingId = \"UA-88010262-3\";\n  ReactGA.initialize(trackingId);\n  // eslint-disable-next-line\n  const [modal, modalDispatch] = useModal();\n  const {dispatch: popupDispatch} = usePopup();\n\n  props.history.listen((location: any) => {\n    popupDispatch({type: 'close'}); // close any popups that are visible\n    modalDispatch({type: 'close'}); // close any modals that are visible\n\n    ReactGA.set({ page: location.pathname }); // Update the user's current page\n    ReactGA.pageview(location.pathname); // Record a pageview for the given page\n  });\n\n  return (\n    <Fade>\n      {window.location.pathname !== '/' && <Header {...props} />}\n      {window.location.pathname !== '/' && <Feedback />}\n      <main>\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/login\" exact render={props => (\n            <LoginSignup {...props} history={props.history} />\n          )} />\n          <Route path=\"/calculators\" render={props => (\n            <Calculators {...{props}} {...props} />\n          )} />\n          <PrivateRoute\n            {...props}\n            path=\"/dashboard\"\n            component={Dashboard}\n          />\n          <PrivateRoute\n            {...props}\n            path=\"/user/:userId/brews\"\n            component={Brews}\n          />\n          <PrivateRoute\n            {...props}\n            path=\"/user\"\n            component={Dashboard}\n          />\n          <PrivateRoute\n            {...props}\n            path=\"/brew\"\n            component={Brew}\n          />\n          <PrivateRoute\n            {...props}\n            path=\"/brews\"\n            component={Brews}\n          />\n          <PrivateRoute\n            {...props}\n            path=\"/profile\"\n            component={Profile}\n          />\n          <Route component={NoMatch} />\n        </Switch>\n      </main>\n      <Modal />\n      <IngredientPopup />\n      <Snackbar />\n      <Footer />\n    </Fade>\n  );\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport UserProvider from './store/UserContext';\nimport BrewProvider from './store/BrewContext';\nimport ModalProvider from './store/ModalContext';\nimport SnackbarProvider from './store/SnackbarContext';\nimport PopupProvider from './store/PopupContext';\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <ModalProvider>\n        <PopupProvider>\n          <SnackbarProvider>\n            <BrewProvider>\n              <App />\n            </BrewProvider>\n          </SnackbarProvider>\n        </PopupProvider>\n      </ModalProvider>\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__7dIj9\",\"link\":\"Footer_link__9_ojg\",\"modalClass\":\"Footer_modalClass__7dyiW\",\"sm\":\"Footer_sm__2JUNs\",\"twitter\":\"Footer_twitter__3BuIi\",\"facebook\":\"Footer_facebook__3IXjb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"logoLink\":\"Header_logoLink__kndGA\",\"loginLink\":\"Header_loginLink__1T2jH\",\"header__user\":\"Header_header__user__2Bgse\",\"avatar\":\"Header_avatar__3tspW\",\"userMenu\":\"Header_userMenu__mASFS\",\"userMenu__header\":\"Header_userMenu__header__DdlLh\",\"userMenu__buttons\":\"Header_userMenu__buttons__1zvAw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brew\":\"Brew_brew__11CuD\",\"nameInput\":\"Brew_nameInput__3EbdR\",\"h1\":\"Brew_h1__bruPv\",\"subHeading\":\"Brew_subHeading__StKPA\",\"h2\":\"Brew_h2__3QqNm\",\"mainContent\":\"Brew_mainContent__zt6RO\",\"sideBar\":\"Brew_sideBar__2Rec7\",\"open\":\"Brew_open__IPgCN\",\"formsContainer\":\"Brew_formsContainer__SDUGG\",\"new\":\"Brew_new__1TSj6\",\"view\":\"Brew_view__3HXde\",\"res\":\"Brew_res__2obw3\",\"draft\":\"Brew_draft__LaoFT\",\"settings\":\"Brew_settings__2_jkX\",\"brew__pageHeading\":\"Brew_brew__pageHeading__1_BQB\",\"titleToggle\":\"Brew_titleToggle__2Sons\",\"userLink\":\"Brew_userLink__1D1AJ\",\"brew__pageSubHeading\":\"Brew_brew__pageSubHeading__xB8n-\",\"brewdayResultsLabel\":\"Brew_brewdayResultsLabel__33MCE\",\"pageHeading__items\":\"Brew_pageHeading__items__3rW0P\",\"edit\":\"Brew_edit__3dAai\",\"brew__numbers\":\"Brew_brew__numbers__1c_na\",\"brew__numbersList\":\"Brew_brew__numbersList__3uKT1\",\"brew__numbersMenu\":\"Brew_brew__numbersMenu__2nBrt\",\"brew__menu\":\"Brew_brew__menu__pP-B_\",\"brew__stats\":\"Brew_brew__stats__2L6ND\",\"brew__stat\":\"Brew_brew__stat__1yXtH\",\"value\":\"Brew_value__28Kcv\",\"label\":\"Brew_label__4xIoD\",\"srmSwatch\":\"Brew_srmSwatch__Eam2E\",\"brew__header\":\"Brew_brew__header__W4hgx\",\"brew__ingredients\":\"Brew_brew__ingredients__2eCeN\",\"firstCol\":\"Brew_firstCol__2Ix2A\",\"secondCol\":\"Brew_secondCol__12Oyr\",\"thirdCol\":\"Brew_thirdCol__3ofZw\",\"fourthCol\":\"Brew_fourthCol__2xmdl\",\"fifthCol\":\"Brew_fifthCol__2_w20\",\"sixthCol\":\"Brew_sixthCol__17oLt\",\"fermentables\":\"Brew_fermentables__Blf4Z\",\"yeast\":\"Brew_yeast__1bRSw\",\"brew__editingSection\":\"Brew_brew__editingSection__2ktgS\",\"editButton\":\"Brew_editButton__2EkRe\",\"brew__section\":\"Brew_brew__section__3Ignm\",\"section__values\":\"Brew_section__values__190f8\",\"mash\":\"Brew_mash__w7Lyo\",\"mash_step\":\"Brew_mash_step__Gsnh4\",\"mash_label\":\"Brew_mash_label__1FxPD\",\"fermentation\":\"Brew_fermentation__3CUXC\",\"fermentation_stage\":\"Brew_fermentation_stage__1afDM\",\"first\":\"Brew_first__1j4wT\",\"fermentation_label\":\"Brew_fermentation_label__BQkJ7\",\"section__stats\":\"Brew_section__stats__3_HbI\",\"withStats\":\"Brew_withStats__32zdV\",\"arrow\":\"Brew_arrow__1lf3a\",\"brew__notes\":\"Brew_brew__notes__YzGQt\",\"tagsWrapper\":\"Brew_tagsWrapper__3aZr2\",\"tagsButton\":\"Brew_tagsButton__9zrR1\",\"buttonContainer\":\"Brew_buttonContainer__3NLXR\",\"saveButton\":\"Brew_saveButton__hpPe-\",\"saving\":\"Brew_saving__3FMpW\",\"loader\":\"Brew_loader__1QxAf\",\"savingLoader\":\"Brew_savingLoader__1tKfl\",\"fadeOut\":\"Brew_fadeOut__1fkwd\",\"modalImage\":\"Brew_modalImage__fiA86\",\"modalImageSmaller\":\"Brew_modalImageSmaller__3pQhF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredientPopup\":\"IngredientPopup_ingredientPopup__3bjWe\",\"details\":\"IngredientPopup_details__394EE\",\"ingredientName\":\"IngredientPopup_ingredientName__12jTl\",\"ingredientDetails\":\"IngredientPopup_ingredientDetails__Vg0ja\",\"description\":\"IngredientPopup_description__1zJZM\",\"graph\":\"IngredientPopup_graph__1H1jM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"UserInfo_user__3Kgyv\",\"avatarContainer\":\"UserInfo_avatarContainer__2yfFR\",\"infoContainer\":\"UserInfo_infoContainer__2dalj\",\"infoContainer__header\":\"UserInfo_infoContainer__header__2vQau\",\"infoContainer__stats\":\"UserInfo_infoContainer__stats__3Ua4I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editResultsMenu\":\"BrewComponents_editResultsMenu__14cU2\",\"moreButton\":\"BrewComponents_moreButton__1kQqw\",\"divider\":\"BrewComponents_divider__3tR_2\",\"editInput\":\"BrewComponents_editInput__1Zx4V\",\"editInputCenter\":\"BrewComponents_editInputCenter__15wcD\",\"editInputMedium\":\"BrewComponents_editInputMedium__2yL8-\",\"editInputLarge\":\"BrewComponents_editInputLarge__1X_1q\",\"originalValue\":\"BrewComponents_originalValue__1vyrk\",\"bottomSpacing\":\"BrewComponents_bottomSpacing__3REco\",\"ingredientListItem\":\"BrewComponents_ingredientListItem__3bNWN\",\"editable\":\"BrewComponents_editable__28iVC\",\"editing\":\"BrewComponents_editing__ewsgQ\",\"amountEditor\":\"BrewComponents_amountEditor__3w9hC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fade\":\"Fade_fade__3TLDI\",\"default\":\"Fade_default__1h4tM\",\"transitioned\":\"Fade_transitioned__26U3L\",\"old-default\":\"Fade_old-default__-2UV_\",\"dashboard\":\"Fade_dashboard__2Qfxg\",\"old-dashboard\":\"Fade_old-dashboard__18dyV\",\"brews\":\"Fade_brews__2WH3J\",\"old-brews\":\"Fade_old-brews__vXmXo\",\"calculators\":\"Fade_calculators__cF9Ke\",\"old-calculators\":\"Fade_old-calculators__ii9eS\",\"user\":\"Fade_user__1dF8D\",\"old-user\":\"Fade_old-user__2IA90\",\"login\":\"Fade_login__1ra5o\",\"old-login\":\"Fade_old-login__2W5eg\",\"profile\":\"Fade_profile__2Dpux\",\"old-profile\":\"Fade_old-profile__NqgCf\",\"brew\":\"Fade_brew__1HZg5\",\"old-brew\":\"Fade_old-brew__2isZR\",\"new-brew\":\"Fade_new-brew__Js3B7\",\"old-new-brew\":\"Fade_old-new-brew__l4O2x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ActivityPanel\":\"ActivityPanel_ActivityPanel__kHT_f\",\"ActivityPanel__container\":\"ActivityPanel_ActivityPanel__container__3VyN2\",\"year\":\"ActivityPanel_year__31h7Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"Modal_modalOverlay__3FAj4\",\"fadeIn\":\"Modal_fadeIn__2VbfN\",\"close\":\"Modal_close__2EfR5\",\"fadeOut\":\"Modal_fadeOut__2Kxud\",\"modal\":\"Modal_modal__1vwov\",\"flowDown\":\"Modal_flowDown__D3gSc\",\"flowUp\":\"Modal_flowUp__2BwMW\",\"modalButtons\":\"Modal_modalButtons__1L2pG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalOverlay\":\"Feedback_modalOverlay__18PYX\",\"fadeIn\":\"Feedback_fadeIn__345Tu\",\"close\":\"Feedback_close__1DHqh\",\"fadeOut\":\"Feedback_fadeOut__YuNpt\",\"modal\":\"Feedback_modal__2knt9\",\"flowDown\":\"Feedback_flowDown__9J4fo\",\"flowUp\":\"Feedback_flowUp__2Vu-S\",\"modalButtons\":\"Feedback_modalButtons__WRmxI\",\"buttonContainer\":\"Feedback_buttonContainer__plVre\",\"feedback\":\"Feedback_feedback__1ZkLV\",\"modalClass\":\"Feedback_modalClass__v5mrX\",\"error\":\"Feedback_error__2LsVy\"};"],"sourceRoot":""}